/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={45:(t,e,n)=>{var s=n(738).default;t.exports=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},56:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},72:t=>{"use strict";var e=[];function n(t){for(var n=-1,s=0;s<e.length;s++)if(e[s].identifier===t){n=s;break}return n}function s(t,s){for(var r={},o=[],a=0;a<t.length;a++){var l=t[a],u=s.base?l[0]+s.base:l[0],c=r[u]||0,h="".concat(u," ").concat(c);r[u]=c+1;var d=n(h),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)e[d].references++,e[d].updater(p);else{var f=i(p,s);s.byIndex=a,e.splice(a,0,{identifier:h,updater:f,references:1})}o.push(h)}return o}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var r=s(t=t||[],i=i||{});return function(t){t=t||[];for(var o=0;o<r.length;o++){var a=n(r[o]);e[a].references--}for(var l=s(t,i),u=0;u<r.length;u++){var c=n(r[u]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}r=l}}},79:t=>{t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,s=Array(e);n<e;n++)s[n]=t[n];return s},t.exports.__esModule=!0,t.exports.default=t.exports},113:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},122:(t,e,n)=>{var s=n(79);t.exports=function(t,e){if(t){if("string"==typeof t)return s(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},156:t=>{t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var s,i,r,o,a=[],l=!0,u=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(s=r.call(n)).done)&&(a.push(s.value),a.length!==e);l=!0);}catch(t){u=!0,i=t}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}},t.exports.__esModule=!0,t.exports.default=t.exports},159:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},287:(t,e)=>{"use strict";var n=Symbol.for("react.element"),s=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator,f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||f}function y(){}function _(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=v.prototype;var b=_.prototype=new y;b.constructor=_,m(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function T(t,e,s){var i,r={},o=null,a=null;if(null!=e)for(i in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)x.call(e,i)&&!S.hasOwnProperty(i)&&(r[i]=e[i]);var l=arguments.length-2;if(1===l)r.children=s;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];r.children=u}if(t&&t.defaultProps)for(i in l=t.defaultProps)void 0===r[i]&&(r[i]=l[i]);return{$$typeof:n,type:t,key:o,ref:a,props:r,_owner:k.current}}function C(t){return"object"==typeof t&&null!==t&&t.$$typeof===n}var E=/\/+/g;function A(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function O(t,e,i,r,o){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case s:l=!0}}if(l)return o=o(l=t),t=""===r?"."+A(l,0):r,w(o)?(i="",null!=t&&(i=t.replace(E,"$&/")+"/"),O(o,e,i,"",(function(t){return t}))):null!=o&&(C(o)&&(o=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+t)),e.push(o)),1;if(l=0,r=""===r?".":r+":",w(t))for(var u=0;u<t.length;u++){var c=r+A(a=t[u],u);l+=O(a,e,i,c,o)}else if(c=function(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=p&&t[p]||t["@@iterator"])?t:null}(t),"function"==typeof c)for(t=c.call(t),u=0;!(a=t.next()).done;)l+=O(a=a.value,e,i,c=r+A(a,u++),o);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function M(t,e,n){if(null==t)return t;var s=[],i=0;return O(t,s,"","",(function(t){return e.call(n,t,i++)})),s}function D(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var P={current:null},N={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:N,ReactCurrentOwner:k};function I(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:M,forEach:function(t,e,n){M(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return M(t,(function(){e++})),e},toArray:function(t){return M(t,(function(t){return t}))||[]},only:function(t){if(!C(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=v,e.Fragment=i,e.Profiler=o,e.PureComponent=_,e.StrictMode=r,e.Suspense=c,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,e.act=I,e.cloneElement=function(t,e,s){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=m({},t.props),r=t.key,o=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,a=k.current),void 0!==e.key&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)x.call(e,u)&&!S.hasOwnProperty(u)&&(i[u]=void 0===e[u]&&void 0!==l?l[u]:e[u])}var u=arguments.length-2;if(1===u)i.children=s;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:t.type,key:r,ref:o,props:i,_owner:a}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=T,e.createFactory=function(t){var e=T.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:u,render:t}},e.isValidElement=C,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:D}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=N.transition;N.transition={};try{t()}finally{N.transition=e}},e.unstable_act=I,e.useCallback=function(t,e){return P.current.useCallback(t,e)},e.useContext=function(t){return P.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return P.current.useDeferredValue(t)},e.useEffect=function(t,e){return P.current.useEffect(t,e)},e.useId=function(){return P.current.useId()},e.useImperativeHandle=function(t,e,n){return P.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return P.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return P.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return P.current.useMemo(t,e)},e.useReducer=function(t,e,n){return P.current.useReducer(t,e,n)},e.useRef=function(t){return P.current.useRef(t)},e.useState=function(t){return P.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return P.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return P.current.useTransition()},e.version="18.3.1"},314:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",s=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),s&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),s&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,s,i,r){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(s)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(o[l]=!0)}for(var u=0;u<t.length;u++){var c=[].concat(t[u]);s&&o[c[0]]||(void 0!==r&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=r),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),e.push(c))}},e}},338:(t,e,n)=>{"use strict";var s=n(961);e.createRoot=s.createRoot,e.hydrateRoot=s.hydrateRoot},383:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},463:(t,e)=>{"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var s=n-1>>>1,i=t[s];if(!(0<r(i,e)))break t;t[s]=e,t[n]=i,n=s}}function s(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var s=0,i=t.length,o=i>>>1;s<o;){var a=2*(s+1)-1,l=t[a],u=a+1,c=t[u];if(0>r(l,n))u<i&&0>r(c,l)?(t[s]=c,t[u]=n,s=u):(t[s]=l,t[a]=n,s=a);else{if(!(u<i&&0>r(c,n)))break t;t[s]=c,t[u]=n,s=u}}}return e}function r(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,d=null,p=3,f=!1,m=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,_="undefined"!=typeof setImmediate?setImmediate:null;function b(t){for(var e=s(c);null!==e;){if(null===e.callback)i(c);else{if(!(e.startTime<=t))break;i(c),e.sortIndex=e.expirationTime,n(u,e)}e=s(c)}}function w(t){if(g=!1,b(t),!m)if(null!==s(u))m=!0,N(x);else{var e=s(c);null!==e&&R(w,e.startTime-t)}}function x(t,n){m=!1,g&&(g=!1,y(C),C=-1),f=!0;var r=p;try{for(b(n),d=s(u);null!==d&&(!(d.expirationTime>n)||t&&!O());){var o=d.callback;if("function"==typeof o){d.callback=null,p=d.priorityLevel;var a=o(d.expirationTime<=n);n=e.unstable_now(),"function"==typeof a?d.callback=a:d===s(u)&&i(u),b(n)}else i(u);d=s(u)}if(null!==d)var l=!0;else{var h=s(c);null!==h&&R(w,h.startTime-n),l=!1}return l}finally{d=null,p=r,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,T=null,C=-1,E=5,A=-1;function O(){return!(e.unstable_now()-A<E)}function M(){if(null!==T){var t=e.unstable_now();A=t;var n=!0;try{n=T(!0,t)}finally{n?k():(S=!1,T=null)}}else S=!1}if("function"==typeof _)k=function(){_(M)};else if("undefined"!=typeof MessageChannel){var D=new MessageChannel,P=D.port2;D.port1.onmessage=M,k=function(){P.postMessage(null)}}else k=function(){v(M,0)};function N(t){T=t,S||(S=!0,k())}function R(t,n){C=v((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){m||f||(m=!0,N(x))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return s(u)},e.unstable_next=function(t){switch(p){case 1:case 2:case 3:var e=3;break;default:e=p}var n=p;p=e;try{return t()}finally{p=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=p;p=t;try{return e()}finally{p=n}},e.unstable_scheduleCallback=function(t,i,r){var o=e.unstable_now();switch(r="object"==typeof r&&null!==r&&"number"==typeof(r=r.delay)&&0<r?o+r:o,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:h++,callback:i,priorityLevel:t,startTime:r,expirationTime:a=r+a,sortIndex:-1},r>o?(t.sortIndex=r,n(c,t),null===s(u)&&t===s(c)&&(g?(y(C),C=-1):g=!0,R(w,r-o))):(t.sortIndex=a,n(u,t),m||f||(m=!0,N(x))),t},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(t){var e=p;return function(){var n=p;p=e;try{return t.apply(this,arguments)}finally{p=n}}}},540:(t,e,n)=>{"use strict";t.exports=n(287)},551:(t,e,n)=>{"use strict";var s=n(540),i=n(982);function r(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(t,e){u(t,e),u(t+"Capture",e)}function u(t,e){for(a[t]=e,t=0;t<e.length;t++)o.add(e[t])}var c=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(t,e,n,s,i,r,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){g[t]=new m(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];g[e]=new m(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){g[t]=new m(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){g[t]=new m(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){g[t]=new m(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){g[t]=new m(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){g[t]=new m(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){g[t]=new m(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){g[t]=new m(t,5,!1,t.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(t){return t[1].toUpperCase()}function _(t,e,n,s){var i=g.hasOwnProperty(e)?g[e]:null;(null!==i?0!==i.type:s||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,s){if(null==e||function(t,e,n,s){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!s&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,s))return!0;if(s)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,s)&&(n=null),s||null===i?function(t){return!!h.call(f,t)||!h.call(p,t)&&(d.test(t)?f[t]=!0:(p[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,s=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(v,y);g[e]=new m(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(v,y);g[e]=new m(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(v,y);g[e]=new m(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!0,!0)}));var b=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function I(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=R&&t[R]||t["@@iterator"])?t:null}var V,z=Object.assign;function F(t){if(void 0===V)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);V=e&&e[1]||""}return"\n"+V+t}var j=!1;function L(t,e){if(!t||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(t){var s=t}Reflect.construct(t,[],e)}else{try{e.call()}catch(t){s=t}t.call(e.prototype)}else{try{throw Error()}catch(t){s=t}t()}}catch(e){if(e&&s&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),r=s.stack.split("\n"),o=i.length-1,a=r.length-1;1<=o&&0<=a&&i[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==r[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==r[a]){var l="\n"+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=o&&0<=a);break}}}finally{j=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?F(t):""}function q(t){switch(t.tag){case 5:return F(t.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return L(t.type,!1);case 11:return L(t.type.render,!1);case 1:return L(t.type,!0);default:return""}}function U(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case k:return"Fragment";case x:return"Portal";case T:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case M:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case E:return(t.displayName||"Context")+".Consumer";case C:return(t._context.displayName||"Context")+".Provider";case A:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case D:return null!==(e=t.displayName||null)?e:U(t.type)||"Memo";case P:e=t._payload,t=t._init;try{return U(t(e))}catch(t){}}return null}function W(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(e);case 8:return e===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e}return null}function B(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function $(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function H(t){t._valueTracker||(t._valueTracker=function(t){var e=$(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){s=""+t,r.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(t){s=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Q(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=$(t)?t.checked?"true":"false":t.value),(t=s)!==n&&(e.setValue(t),!0)}function Y(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function X(t,e){var n=e.checked;return z({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function G(t,e){var n=null==e.defaultValue?"":e.defaultValue,s=null!=e.checked?e.checked:e.defaultChecked;n=B(null!=e.value?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Z(t,e){null!=(e=e.checked)&&_(t,"checked",e,!1)}function K(t,e){Z(t,e);var n=B(e.value),s=e.type;if(null!=n)"number"===s?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===s||"reset"===s)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,B(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function J(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!("submit"!==s&&"reset"!==s||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&Y(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,s){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&s&&(t[n].defaultSelected=!0)}else{for(n=""+B(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(s&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function st(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(r(91));return z({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function it(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(r(92));if(et(n)){if(1<n.length)throw Error(r(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:B(n)}}function rt(t,e){var n=B(e.value),s=B(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=s&&(t.defaultValue=""+s)}function ot(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?at(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ut,ct,ht=(ct=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ut=ut||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ut.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,s){MSApp.execUnsafeLocalFunction((function(){return ct(t,e)}))}:ct);function dt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ft=["Webkit","ms","Moz","O"];function mt(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||pt.hasOwnProperty(t)&&pt[t]?(""+e).trim():e+"px"}function gt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var s=0===n.indexOf("--"),i=mt(n,e[n],s);"float"===n&&(n="cssFloat"),s?t.setProperty(n,i):t[n]=i}}Object.keys(pt).forEach((function(t){ft.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pt[e]=pt[t]}))}));var vt=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yt(t,e){if(e){if(vt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(r(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(r(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(r(62))}}function _t(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bt=null;function wt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var xt=null,kt=null,St=null;function Tt(t){if(t=_i(t)){if("function"!=typeof xt)throw Error(r(280));var e=t.stateNode;e&&(e=wi(e),xt(t.stateNode,t.type,e))}}function Ct(t){kt?St?St.push(t):St=[t]:kt=t}function Et(){if(kt){var t=kt,e=St;if(St=kt=null,Tt(t),e)for(t=0;t<e.length;t++)Tt(e[t])}}function At(t,e){return t(e)}function Ot(){}var Mt=!1;function Dt(t,e,n){if(Mt)return t(e,n);Mt=!0;try{return At(t,e,n)}finally{Mt=!1,(null!==kt||null!==St)&&(Ot(),Et())}}function Pt(t,e){var n=t.stateNode;if(null===n)return null;var s=wi(n);if(null===s)return null;n=s[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!s;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(r(231,e,typeof n));return n}var Nt=!1;if(c)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){Nt=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch(ct){Nt=!1}function It(t,e,n,s,i,r,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(t){this.onError(t)}}var Vt=!1,zt=null,Ft=!1,jt=null,Lt={onError:function(t){Vt=!0,zt=t}};function qt(t,e,n,s,i,r,o,a,l){Vt=!1,zt=null,It.apply(Lt,arguments)}function Ut(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{!!(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Wt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&null!==(t=t.alternate)&&(e=t.memoizedState),null!==e)return e.dehydrated}return null}function Bt(t){if(Ut(t)!==t)throw Error(r(188))}function $t(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Ut(t)))throw Error(r(188));return e!==t?null:t}for(var n=t,s=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(s=i.return)){n=s;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Bt(i),t;if(o===s)return Bt(i),e;o=o.sibling}throw Error(r(188))}if(n.return!==s.return)n=i,s=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,s=o;break}if(l===s){a=!0,s=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,s=i;break}if(l===s){a=!0,s=o,n=i;break}l=l.sibling}if(!a)throw Error(r(189))}}if(n.alternate!==s)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?t:e}(t))?Ht(t):null}function Ht(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Ht(t);if(null!==e)return e;t=t.sibling}return null}var Qt=i.unstable_scheduleCallback,Yt=i.unstable_cancelCallback,Xt=i.unstable_shouldYield,Gt=i.unstable_requestPaint,Zt=i.unstable_now,Kt=i.unstable_getCurrentPriorityLevel,Jt=i.unstable_ImmediatePriority,te=i.unstable_UserBlockingPriority,ee=i.unstable_NormalPriority,ne=i.unstable_LowPriority,se=i.unstable_IdlePriority,ie=null,re=null,oe=Math.clz32?Math.clz32:function(t){return 0===(t>>>=0)?32:31-(ae(t)/le|0)|0},ae=Math.log,le=Math.LN2,ue=64,ce=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function de(t,e){var n=t.pendingLanes;if(0===n)return 0;var s=0,i=t.suspendedLanes,r=t.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?s=he(a):0!=(r&=o)&&(s=he(r))}else 0!=(o=n&~i)?s=he(o):0!==r&&(s=he(r));if(0===s)return 0;if(0!==e&&e!==s&&!(e&i)&&((i=s&-s)>=(r=e&-e)||16===i&&4194240&r))return e;if(4&s&&(s|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=s;0<e;)i=1<<(n=31-oe(e)),s|=t[n],e&=~i;return s}function pe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function fe(t){return 0!=(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function me(){var t=ue;return!(4194240&(ue<<=1))&&(ue=64),t}function ge(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ve(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-oe(e)]=n}function ye(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-oe(n),i=1<<s;i&e|t[s]&e&&(t[s]|=e),n&=~i}}var _e=0;function be(t){return 1<(t&=-t)?4<t?268435455&t?16:536870912:4:1}var we,xe,ke,Se,Te,Ce=!1,Ee=[],Ae=null,Oe=null,Me=null,De=new Map,Pe=new Map,Ne=[],Re="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ie(t,e){switch(t){case"focusin":case"focusout":Ae=null;break;case"dragenter":case"dragleave":Oe=null;break;case"mouseover":case"mouseout":Me=null;break;case"pointerover":case"pointerout":De.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pe.delete(e.pointerId)}}function Ve(t,e,n,s,i,r){return null===t||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},null!==e&&null!==(e=_i(e))&&xe(e),t):(t.eventSystemFlags|=s,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function ze(t){var e=yi(t.target);if(null!==e){var n=Ut(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Wt(n)))return t.blockedOn=e,void Te(t.priority,(function(){ke(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Fe(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=_i(n))&&xe(e),t.blockedOn=n,!1;var s=new(n=t.nativeEvent).constructor(n.type,n);bt=s,n.target.dispatchEvent(s),bt=null,e.shift()}return!0}function je(t,e,n){Fe(t)&&n.delete(e)}function Le(){Ce=!1,null!==Ae&&Fe(Ae)&&(Ae=null),null!==Oe&&Fe(Oe)&&(Oe=null),null!==Me&&Fe(Me)&&(Me=null),De.forEach(je),Pe.forEach(je)}function qe(t,e){t.blockedOn===e&&(t.blockedOn=null,Ce||(Ce=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Le)))}function Ue(t){function e(e){return qe(e,t)}if(0<Ee.length){qe(Ee[0],t);for(var n=1;n<Ee.length;n++){var s=Ee[n];s.blockedOn===t&&(s.blockedOn=null)}}for(null!==Ae&&qe(Ae,t),null!==Oe&&qe(Oe,t),null!==Me&&qe(Me,t),De.forEach(e),Pe.forEach(e),n=0;n<Ne.length;n++)(s=Ne[n]).blockedOn===t&&(s.blockedOn=null);for(;0<Ne.length&&null===(n=Ne[0]).blockedOn;)ze(n),null===n.blockedOn&&Ne.shift()}var We=b.ReactCurrentBatchConfig,Be=!0;function $e(t,e,n,s){var i=_e,r=We.transition;We.transition=null;try{_e=1,Qe(t,e,n,s)}finally{_e=i,We.transition=r}}function He(t,e,n,s){var i=_e,r=We.transition;We.transition=null;try{_e=4,Qe(t,e,n,s)}finally{_e=i,We.transition=r}}function Qe(t,e,n,s){if(Be){var i=Xe(t,e,n,s);if(null===i)Bs(t,e,s,Ye,n),Ie(t,s);else if(function(t,e,n,s,i){switch(e){case"focusin":return Ae=Ve(Ae,t,e,n,s,i),!0;case"dragenter":return Oe=Ve(Oe,t,e,n,s,i),!0;case"mouseover":return Me=Ve(Me,t,e,n,s,i),!0;case"pointerover":var r=i.pointerId;return De.set(r,Ve(De.get(r)||null,t,e,n,s,i)),!0;case"gotpointercapture":return r=i.pointerId,Pe.set(r,Ve(Pe.get(r)||null,t,e,n,s,i)),!0}return!1}(i,t,e,n,s))s.stopPropagation();else if(Ie(t,s),4&e&&-1<Re.indexOf(t)){for(;null!==i;){var r=_i(i);if(null!==r&&we(r),null===(r=Xe(t,e,n,s))&&Bs(t,e,s,Ye,n),r===i)break;i=r}null!==i&&s.stopPropagation()}else Bs(t,e,s,null,n)}}var Ye=null;function Xe(t,e,n,s){if(Ye=null,null!==(t=yi(t=wt(s))))if(null===(e=Ut(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Wt(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ye=t,null}function Ge(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kt()){case Jt:return 1;case te:return 4;case ee:case ne:return 16;case se:return 536870912;default:return 16}default:return 16}}var Ze=null,Ke=null,Je=null;function tn(){if(Je)return Je;var t,e,n=Ke,s=n.length,i="value"in Ze?Ze.value:Ze.textContent,r=i.length;for(t=0;t<s&&n[t]===i[t];t++);var o=s-t;for(e=1;e<=o&&n[s-e]===i[r-e];e++);return Je=i.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function sn(){return!1}function rn(t){function e(e,n,s,i,r){for(var o in this._reactName=e,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=r,this.currentTarget=null,t)t.hasOwnProperty(o)&&(e=t[o],this[o]=e?e(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:sn,this.isPropagationStopped=sn,this}return z(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var on,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=rn(un),hn=z({},un,{view:0,detail:0}),dn=rn(hn),pn=z({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(on=t.screenX-ln.screenX,an=t.screenY-ln.screenY):an=on=0,ln=t),on)},movementY:function(t){return"movementY"in t?t.movementY:an}}),fn=rn(pn),mn=rn(z({},pn,{dataTransfer:0})),gn=rn(z({},hn,{relatedTarget:0})),vn=rn(z({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=z({},un,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_n=rn(yn),bn=rn(z({},un,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=kn[t])&&!!e[t]}function Tn(){return Sn}var Cn=z({},hn,{key:function(t){if(t.key){var e=wn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?xn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),En=rn(Cn),An=rn(z({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=rn(z({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Mn=rn(z({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=z({},pn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=rn(Dn),Nn=[9,13,27,32],Rn=c&&"CompositionEvent"in window,In=null;c&&"documentMode"in document&&(In=document.documentMode);var Vn=c&&"TextEvent"in window&&!In,zn=c&&(!Rn||In&&8<In&&11>=In),Fn=String.fromCharCode(32),jn=!1;function Ln(t,e){switch(t){case"keyup":return-1!==Nn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var Un=!1,Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Wn[t.type]:"textarea"===e}function $n(t,e,n,s){Ct(s),0<(e=Hs(e,"onChange")).length&&(n=new cn("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Hn=null,Qn=null;function Yn(t){Fs(t,0)}function Xn(t){if(Q(bi(t)))return t}function Gn(t,e){if("change"===t)return e}var Zn=!1;if(c){var Kn;if(c){var Jn="oninput"in document;if(!Jn){var ts=document.createElement("div");ts.setAttribute("oninput","return;"),Jn="function"==typeof ts.oninput}Kn=Jn}else Kn=!1;Zn=Kn&&(!document.documentMode||9<document.documentMode)}function es(){Hn&&(Hn.detachEvent("onpropertychange",ns),Qn=Hn=null)}function ns(t){if("value"===t.propertyName&&Xn(Qn)){var e=[];$n(e,Qn,t,wt(t)),Dt(Yn,e)}}function ss(t,e,n){"focusin"===t?(es(),Qn=n,(Hn=e).attachEvent("onpropertychange",ns)):"focusout"===t&&es()}function is(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Xn(Qn)}function rs(t,e){if("click"===t)return Xn(e)}function os(t,e){if("input"===t||"change"===t)return Xn(e)}var as="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e};function ls(t,e){if(as(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!h.call(e,i)||!as(t[i],e[i]))return!1}return!0}function us(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cs(t,e){var n,s=us(t);for(t=0;s;){if(3===s.nodeType){if(n=t+s.textContent.length,t<=e&&n>=e)return{node:s,offset:e-t};t=n}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=us(s)}}function hs(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hs(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function ds(){for(var t=window,e=Y();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=Y((t=e.contentWindow).document)}return e}function ps(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function fs(t){var e=ds(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hs(n.ownerDocument.documentElement,n)){if(null!==s&&ps(n))if(e=s.start,void 0===(t=s.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var i=n.textContent.length,r=Math.min(s.start,i);s=void 0===s.end?r:Math.min(s.end,i),!t.extend&&r>s&&(i=s,s=r,r=i),i=cs(n,r);var o=cs(n,s);i&&o&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&((e=e.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),r>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ms=c&&"documentMode"in document&&11>=document.documentMode,gs=null,vs=null,ys=null,_s=!1;function bs(t,e,n){var s=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_s||null==gs||gs!==Y(s)||(s="selectionStart"in(s=gs)&&ps(s)?{start:s.selectionStart,end:s.selectionEnd}:{anchorNode:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset},ys&&ls(ys,s)||(ys=s,0<(s=Hs(vs,"onSelect")).length&&(e=new cn("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=gs)))}function ws(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xs={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionend:ws("Transition","TransitionEnd")},ks={},Ss={};function Ts(t){if(ks[t])return ks[t];if(!xs[t])return t;var e,n=xs[t];for(e in n)if(n.hasOwnProperty(e)&&e in Ss)return ks[t]=n[e];return t}c&&(Ss=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);var Cs=Ts("animationend"),Es=Ts("animationiteration"),As=Ts("animationstart"),Os=Ts("transitionend"),Ms=new Map,Ds="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ps(t,e){Ms.set(t,e),l(e,[t])}for(var Ns=0;Ns<Ds.length;Ns++){var Rs=Ds[Ns];Ps(Rs.toLowerCase(),"on"+(Rs[0].toUpperCase()+Rs.slice(1)))}Ps(Cs,"onAnimationEnd"),Ps(Es,"onAnimationIteration"),Ps(As,"onAnimationStart"),Ps("dblclick","onDoubleClick"),Ps("focusin","onFocus"),Ps("focusout","onBlur"),Ps(Os,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vs=new Set("cancel close invalid load scroll toggle".split(" ").concat(Is));function zs(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,s,i,o,a,l,u){if(qt.apply(this,arguments),Vt){if(!Vt)throw Error(r(198));var c=zt;Vt=!1,zt=null,Ft||(Ft=!0,jt=c)}}(s,e,void 0,t),t.currentTarget=null}function Fs(t,e){e=!!(4&e);for(var n=0;n<t.length;n++){var s=t[n],i=s.event;s=s.listeners;t:{var r=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==r&&i.isPropagationStopped())break t;zs(i,a,u),r=l}else for(o=0;o<s.length;o++){if(l=(a=s[o]).instance,u=a.currentTarget,a=a.listener,l!==r&&i.isPropagationStopped())break t;zs(i,a,u),r=l}}}if(Ft)throw t=jt,Ft=!1,jt=null,t}function js(t,e){var n=e[mi];void 0===n&&(n=e[mi]=new Set);var s=t+"__bubble";n.has(s)||(Ws(e,t,2,!1),n.add(s))}function Ls(t,e,n){var s=0;e&&(s|=4),Ws(n,t,s,e)}var qs="_reactListening"+Math.random().toString(36).slice(2);function Us(t){if(!t[qs]){t[qs]=!0,o.forEach((function(e){"selectionchange"!==e&&(Vs.has(e)||Ls(e,!1,t),Ls(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[qs]||(e[qs]=!0,Ls("selectionchange",!1,e))}}function Ws(t,e,n,s){switch(Ge(e)){case 1:var i=$e;break;case 4:i=He;break;default:i=Qe}n=i.bind(null,e,n,t),i=void 0,!Nt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),s?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Bs(t,e,n,s,i){var r=s;if(!(1&e||2&e||null===s))t:for(;;){if(null===s)return;var o=s.tag;if(3===o||4===o){var a=s.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=s.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(l=o.tag)||6===l){s=r=o;continue t}a=a.parentNode}}s=s.return}Dt((function(){var s=r,i=wt(n),o=[];t:{var a=Ms.get(t);if(void 0!==a){var l=cn,u=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=En;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=On;break;case Cs:case Es:case As:l=vn;break;case Os:l=Mn;break;case"scroll":l=dn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var c=!!(4&e),h=!c&&"scroll"===t,d=c?null!==a?a+"Capture":null:a;c=[];for(var p,f=s;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==d&&null!=(m=Pt(f,d))&&c.push($s(f,m,p))),h)break;f=f.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(!(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||n===bt||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[fi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=s,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(h=Ut(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=s),l!==u)){if(c=fn,m="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==t&&"pointerover"!==t||(c=An,m="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?a:bi(l),p=null==u?a:bi(u),(a=new c(m,f+"leave",l,n,i)).target=h,a.relatedTarget=p,m=null,yi(i)===s&&((c=new c(d,f+"enter",u,n,i)).target=p,c.relatedTarget=h,m=c),h=m,l&&u)t:{for(d=u,f=0,p=c=l;p;p=Qs(p))f++;for(p=0,m=d;m;m=Qs(m))p++;for(;0<f-p;)c=Qs(c),f--;for(;0<p-f;)d=Qs(d),p--;for(;f--;){if(c===d||null!==d&&c===d.alternate)break t;c=Qs(c),d=Qs(d)}c=null}else c=null;null!==l&&Ys(o,a,l,c,!1),null!==u&&null!==h&&Ys(o,h,u,c,!0)}if("select"===(l=(a=s?bi(s):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Gn;else if(Bn(a))if(Zn)g=os;else{g=is;var v=ss}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=rs);switch(g&&(g=g(t,s))?$n(o,g,n,i):(v&&v(t,a,s),"focusout"===t&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&tt(a,"number",a.value)),v=s?bi(s):window,t){case"focusin":(Bn(v)||"true"===v.contentEditable)&&(gs=v,vs=s,ys=null);break;case"focusout":ys=vs=gs=null;break;case"mousedown":_s=!0;break;case"contextmenu":case"mouseup":case"dragend":_s=!1,bs(o,n,i);break;case"selectionchange":if(ms)break;case"keydown":case"keyup":bs(o,n,i)}var y;if(Rn)t:{switch(t){case"compositionstart":var _="onCompositionStart";break t;case"compositionend":_="onCompositionEnd";break t;case"compositionupdate":_="onCompositionUpdate";break t}_=void 0}else Un?Ln(t,n)&&(_="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(_="onCompositionStart");_&&(zn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==_?"onCompositionEnd"===_&&Un&&(y=tn()):(Ke="value"in(Ze=i)?Ze.value:Ze.textContent,Un=!0)),0<(v=Hs(s,_)).length&&(_=new bn(_,t,null,n,i),o.push({event:_,listeners:v}),(y||null!==(y=qn(n)))&&(_.data=y))),(y=Vn?function(t,e){switch(t){case"compositionend":return qn(e);case"keypress":return 32!==e.which?null:(jn=!0,Fn);case"textInput":return(t=e.data)===Fn&&jn?null:t;default:return null}}(t,n):function(t,e){if(Un)return"compositionend"===t||!Rn&&Ln(t,e)?(t=tn(),Je=Ke=Ze=null,Un=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zn&&"ko"!==e.locale?null:e.data}}(t,n))&&0<(s=Hs(s,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:s}),i.data=y)}Fs(o,e)}))}function $s(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hs(t,e){for(var n=e+"Capture",s=[];null!==t;){var i=t,r=i.stateNode;5===i.tag&&null!==r&&(i=r,null!=(r=Pt(t,n))&&s.unshift($s(t,r,i)),null!=(r=Pt(t,e))&&s.push($s(t,r,i))),t=t.return}return s}function Qs(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Ys(t,e,n,s,i){for(var r=e._reactName,o=[];null!==n&&n!==s;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===s)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Pt(n,r))&&o.unshift($s(n,l,a)):i||null!=(l=Pt(n,r))&&o.push($s(n,l,a))),n=n.return}0!==o.length&&t.push({event:e,listeners:o})}var Xs=/\r\n?/g,Gs=/\u0000|\uFFFD/g;function Zs(t){return("string"==typeof t?t:""+t).replace(Xs,"\n").replace(Gs,"")}function Ks(t,e,n){if(e=Zs(e),Zs(t)!==e&&n)throw Error(r(425))}function Js(){}var ti=null,ei=null;function ni(t,e){return"textarea"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var si="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0,ri="function"==typeof Promise?Promise:void 0,oi="function"==typeof queueMicrotask?queueMicrotask:void 0!==ri?function(t){return ri.resolve(null).then(t).catch(ai)}:si;function ai(t){setTimeout((function(){throw t}))}function li(t,e){var n=e,s=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===s)return t.removeChild(i),void Ue(e);s--}else"$"!==n&&"$?"!==n&&"$!"!==n||s++;n=i}while(n);Ue(e)}function ui(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ci(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,pi="__reactProps$"+hi,fi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(t){var e=t[di];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fi]||n[di]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ci(t);null!==t;){if(n=t[di])return n;t=ci(t)}return e}n=(t=n).parentNode}return null}function _i(t){return!(t=t[di]||t[fi])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function bi(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(r(33))}function wi(t){return t[pi]||null}var xi=[],ki=-1;function Si(t){return{current:t}}function Ti(t){0>ki||(t.current=xi[ki],xi[ki]=null,ki--)}function Ci(t,e){ki++,xi[ki]=t.current,t.current=e}var Ei={},Ai=Si(Ei),Oi=Si(!1),Mi=Ei;function Di(t,e){var n=t.type.contextTypes;if(!n)return Ei;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i,r={};for(i in n)r[i]=e[i];return s&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Pi(t){return null!=t.childContextTypes}function Ni(){Ti(Oi),Ti(Ai)}function Ri(t,e,n){if(Ai.current!==Ei)throw Error(r(168));Ci(Ai,e),Ci(Oi,n)}function Ii(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,"function"!=typeof s.getChildContext)return n;for(var i in s=s.getChildContext())if(!(i in e))throw Error(r(108,W(t)||"Unknown",i));return z({},n,s)}function Vi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ei,Mi=Ai.current,Ci(Ai,t),Ci(Oi,Oi.current),!0}function zi(t,e,n){var s=t.stateNode;if(!s)throw Error(r(169));n?(t=Ii(t,e,Mi),s.__reactInternalMemoizedMergedChildContext=t,Ti(Oi),Ti(Ai),Ci(Ai,t)):Ti(Oi),Ci(Oi,n)}var Fi=null,ji=!1,Li=!1;function qi(t){null===Fi?Fi=[t]:Fi.push(t)}function Ui(){if(!Li&&null!==Fi){Li=!0;var t=0,e=_e;try{var n=Fi;for(_e=1;t<n.length;t++){var s=n[t];do{s=s(!0)}while(null!==s)}Fi=null,ji=!1}catch(e){throw null!==Fi&&(Fi=Fi.slice(t+1)),Qt(Jt,Ui),e}finally{_e=e,Li=!1}}return null}var Wi=[],Bi=0,$i=null,Hi=0,Qi=[],Yi=0,Xi=null,Gi=1,Zi="";function Ki(t,e){Wi[Bi++]=Hi,Wi[Bi++]=$i,$i=t,Hi=e}function Ji(t,e,n){Qi[Yi++]=Gi,Qi[Yi++]=Zi,Qi[Yi++]=Xi,Xi=t;var s=Gi;t=Zi;var i=32-oe(s)-1;s&=~(1<<i),n+=1;var r=32-oe(e)+i;if(30<r){var o=i-i%5;r=(s&(1<<o)-1).toString(32),s>>=o,i-=o,Gi=1<<32-oe(e)+i|n<<i|s,Zi=r+t}else Gi=1<<r|n<<i|s,Zi=t}function tr(t){null!==t.return&&(Ki(t,1),Ji(t,1,0))}function er(t){for(;t===$i;)$i=Wi[--Bi],Wi[Bi]=null,Hi=Wi[--Bi],Wi[Bi]=null;for(;t===Xi;)Xi=Qi[--Yi],Qi[Yi]=null,Zi=Qi[--Yi],Qi[Yi]=null,Gi=Qi[--Yi],Qi[Yi]=null}var nr=null,sr=null,ir=!1,rr=null;function or(t,e){var n=Du(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function ar(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,nr=t,sr=ui(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,nr=t,sr=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Xi?{id:Gi,overflow:Zi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Du(18,null,null,0)).stateNode=e,n.return=t,t.child=n,nr=t,sr=null,!0);default:return!1}}function lr(t){return!(!(1&t.mode)||128&t.flags)}function ur(t){if(ir){var e=sr;if(e){var n=e;if(!ar(t,e)){if(lr(t))throw Error(r(418));e=ui(n.nextSibling);var s=nr;e&&ar(t,e)?or(s,n):(t.flags=-4097&t.flags|2,ir=!1,nr=t)}}else{if(lr(t))throw Error(r(418));t.flags=-4097&t.flags|2,ir=!1,nr=t}}}function cr(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;nr=t}function hr(t){if(t!==nr)return!1;if(!ir)return cr(t),ir=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ni(t.type,t.memoizedProps)),e&&(e=sr)){if(lr(t))throw dr(),Error(r(418));for(;e;)or(t,e),e=ui(e.nextSibling)}if(cr(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(r(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){sr=ui(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}sr=null}}else sr=nr?ui(t.stateNode.nextSibling):null;return!0}function dr(){for(var t=sr;t;)t=ui(t.nextSibling)}function pr(){sr=nr=null,ir=!1}function fr(t){null===rr?rr=[t]:rr.push(t)}var mr=b.ReactCurrentBatchConfig;function gr(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var s=n.stateNode}if(!s)throw Error(r(147,t));var i=s,o=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===o?e.ref:(e=function(t){var e=i.refs;null===t?delete e[o]:e[o]=t},e._stringRef=o,e)}if("string"!=typeof t)throw Error(r(284));if(!n._owner)throw Error(r(290,t))}return t}function vr(t,e){throw t=Object.prototype.toString.call(e),Error(r(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yr(t){return(0,t._init)(t._payload)}function _r(t){function e(e,n){if(t){var s=e.deletions;null===s?(e.deletions=[n],e.flags|=16):s.push(n)}}function n(n,s){if(!t)return null;for(;null!==s;)e(n,s),s=s.sibling;return null}function s(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Nu(t,e)).index=0,t.sibling=null,t}function o(e,n,s){return e.index=s,t?null!==(s=e.alternate)?(s=s.index)<n?(e.flags|=2,n):s:(e.flags|=2,n):(e.flags|=1048576,n)}function a(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,s){return null===e||6!==e.tag?((e=zu(n,t.mode,s)).return=t,e):((e=i(e,n)).return=t,e)}function u(t,e,n,s){var r=n.type;return r===k?h(t,e,n.props.children,s,n.key):null!==e&&(e.elementType===r||"object"==typeof r&&null!==r&&r.$$typeof===P&&yr(r)===e.type)?((s=i(e,n.props)).ref=gr(t,e,n),s.return=t,s):((s=Ru(n.type,n.key,n.props,null,t.mode,s)).ref=gr(t,e,n),s.return=t,s)}function c(t,e,n,s){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Fu(n,t.mode,s)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,s,r){return null===e||7!==e.tag?((e=Iu(n,t.mode,s,r)).return=t,e):((e=i(e,n)).return=t,e)}function d(t,e,n){if("string"==typeof e&&""!==e||"number"==typeof e)return(e=zu(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case w:return(n=Ru(e.type,e.key,e.props,null,t.mode,n)).ref=gr(t,null,e),n.return=t,n;case x:return(e=Fu(e,t.mode,n)).return=t,e;case P:return d(t,(0,e._init)(e._payload),n)}if(et(e)||I(e))return(e=Iu(e,t.mode,n,null)).return=t,e;vr(t,e)}return null}function p(t,e,n,s){var i=null!==e?e.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:l(t,e,""+n,s);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?u(t,e,n,s):null;case x:return n.key===i?c(t,e,n,s):null;case P:return p(t,e,(i=n._init)(n._payload),s)}if(et(n)||I(n))return null!==i?null:h(t,e,n,s,null);vr(t,n)}return null}function f(t,e,n,s,i){if("string"==typeof s&&""!==s||"number"==typeof s)return l(e,t=t.get(n)||null,""+s,i);if("object"==typeof s&&null!==s){switch(s.$$typeof){case w:return u(e,t=t.get(null===s.key?n:s.key)||null,s,i);case x:return c(e,t=t.get(null===s.key?n:s.key)||null,s,i);case P:return f(t,e,n,(0,s._init)(s._payload),i)}if(et(s)||I(s))return h(e,t=t.get(n)||null,s,i,null);vr(e,s)}return null}function m(i,r,a,l){for(var u=null,c=null,h=r,m=r=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=p(i,h,a[m],l);if(null===v){null===h&&(h=g);break}t&&h&&null===v.alternate&&e(i,h),r=o(v,r,m),null===c?u=v:c.sibling=v,c=v,h=g}if(m===a.length)return n(i,h),ir&&Ki(i,m),u;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(r=o(h,r,m),null===c?u=h:c.sibling=h,c=h);return ir&&Ki(i,m),u}for(h=s(i,h);m<a.length;m++)null!==(g=f(h,i,m,a[m],l))&&(t&&null!==g.alternate&&h.delete(null===g.key?m:g.key),r=o(g,r,m),null===c?u=g:c.sibling=g,c=g);return t&&h.forEach((function(t){return e(i,t)})),ir&&Ki(i,m),u}function g(i,a,l,u){var c=I(l);if("function"!=typeof c)throw Error(r(150));if(null==(l=c.call(l)))throw Error(r(151));for(var h=c=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var _=p(i,m,y.value,u);if(null===_){null===m&&(m=v);break}t&&m&&null===_.alternate&&e(i,m),a=o(_,a,g),null===h?c=_:h.sibling=_,h=_,m=v}if(y.done)return n(i,m),ir&&Ki(i,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,u))&&(a=o(y,a,g),null===h?c=y:h.sibling=y,h=y);return ir&&Ki(i,g),c}for(m=s(i,m);!y.done;g++,y=l.next())null!==(y=f(m,i,g,y.value,u))&&(t&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?c=y:h.sibling=y,h=y);return t&&m.forEach((function(t){return e(i,t)})),ir&&Ki(i,g),c}return function t(s,r,o,l){if("object"==typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"==typeof o&&null!==o){switch(o.$$typeof){case w:t:{for(var u=o.key,c=r;null!==c;){if(c.key===u){if((u=o.type)===k){if(7===c.tag){n(s,c.sibling),(r=i(c,o.props.children)).return=s,s=r;break t}}else if(c.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===P&&yr(u)===c.type){n(s,c.sibling),(r=i(c,o.props)).ref=gr(s,c,o),r.return=s,s=r;break t}n(s,c);break}e(s,c),c=c.sibling}o.type===k?((r=Iu(o.props.children,s.mode,l,o.key)).return=s,s=r):((l=Ru(o.type,o.key,o.props,null,s.mode,l)).ref=gr(s,r,o),l.return=s,s=l)}return a(s);case x:t:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(s,r.sibling),(r=i(r,o.children||[])).return=s,s=r;break t}n(s,r);break}e(s,r),r=r.sibling}(r=Fu(o,s.mode,l)).return=s,s=r}return a(s);case P:return t(s,r,(c=o._init)(o._payload),l)}if(et(o))return m(s,r,o,l);if(I(o))return g(s,r,o,l);vr(s,o)}return"string"==typeof o&&""!==o||"number"==typeof o?(o=""+o,null!==r&&6===r.tag?(n(s,r.sibling),(r=i(r,o)).return=s,s=r):(n(s,r),(r=zu(o,s.mode,l)).return=s,s=r),a(s)):n(s,r)}}var br=_r(!0),wr=_r(!1),xr=Si(null),kr=null,Sr=null,Tr=null;function Cr(){Tr=Sr=kr=null}function Er(t){var e=xr.current;Ti(xr),t._currentValue=e}function Ar(t,e,n){for(;null!==t;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==s&&(s.childLanes|=e)):null!==s&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Or(t,e){kr=t,Tr=Sr=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(!!(t.lanes&e)&&(_a=!0),t.firstContext=null)}function Mr(t){var e=t._currentValue;if(Tr!==t)if(t={context:t,memoizedValue:e,next:null},null===Sr){if(null===kr)throw Error(r(308));Sr=t,kr.dependencies={lanes:0,firstContext:t}}else Sr=Sr.next=t;return e}var Dr=null;function Pr(t){null===Dr?Dr=[t]:Dr.push(t)}function Nr(t,e,n,s){var i=e.interleaved;return null===i?(n.next=n,Pr(e)):(n.next=i.next,i.next=n),e.interleaved=n,Rr(t,s)}function Rr(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Ir=!1;function Vr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zr(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function jr(t,e,n){var s=t.updateQueue;if(null===s)return null;if(s=s.shared,2&Al){var i=s.pending;return null===i?e.next=e:(e.next=i.next,i.next=e),s.pending=e,Rr(t,n)}return null===(i=s.interleaved)?(e.next=e,Pr(s)):(e.next=i.next,i.next=e),s.interleaved=e,Rr(t,n)}function Lr(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,4194240&n)){var s=e.lanes;n|=s&=t.pendingLanes,e.lanes=n,ye(t,n)}}function qr(t,e){var n=t.updateQueue,s=t.alternate;if(null!==s&&n===(s=s.updateQueue)){var i=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===r?i=r=o:r=r.next=o,n=n.next}while(null!==n);null===r?i=r=e:r=r.next=e}else i=r=e;return n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,effects:s.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ur(t,e,n,s){var i=t.updateQueue;Ir=!1;var r=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?r=u:o.next=u,o=l;var c=t.alternate;null!==c&&(a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l)}if(null!==r){var h=i.baseState;for(o=0,c=u=l=null,a=r;;){var d=a.lane,p=a.eventTime;if((s&d)===d){null!==c&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var f=t,m=a;switch(d=e,p=n,m.tag){case 1:if("function"==typeof(f=m.payload)){h=f.call(p,h,d);break t}h=f;break t;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(d="function"==typeof(f=m.payload)?f.call(p,h,d):f))break t;h=z({},h,d);break t;case 2:Ir=!0}}null!==a.callback&&0!==a.lane&&(t.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=p,l=h):c=c.next=p,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(e=i.shared.interleaved)){i=e;do{o|=i.lane,i=i.next}while(i!==e)}else null===r&&(i.shared.lanes=0);Vl|=o,t.lanes=o,t.memoizedState=h}}function Wr(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var s=t[e],i=s.callback;if(null!==i){if(s.callback=null,s=n,"function"!=typeof i)throw Error(r(191,i));i.call(s)}}}var Br={},$r=Si(Br),Hr=Si(Br),Qr=Si(Br);function Yr(t){if(t===Br)throw Error(r(174));return t}function Xr(t,e){switch(Ci(Qr,e),Ci(Hr,t),Ci($r,Br),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Ti($r),Ci($r,e)}function Gr(){Ti($r),Ti(Hr),Ti(Qr)}function Zr(t){Yr(Qr.current);var e=Yr($r.current),n=lt(e,t.type);e!==n&&(Ci(Hr,t),Ci($r,n))}function Kr(t){Hr.current===t&&(Ti($r),Ti(Hr))}var Jr=Si(0);function to(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(128&e.flags)return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var eo=[];function no(){for(var t=0;t<eo.length;t++)eo[t]._workInProgressVersionPrimary=null;eo.length=0}var so=b.ReactCurrentDispatcher,io=b.ReactCurrentBatchConfig,ro=0,oo=null,ao=null,lo=null,uo=!1,co=!1,ho=0,po=0;function fo(){throw Error(r(321))}function mo(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!as(t[n],e[n]))return!1;return!0}function go(t,e,n,s,i,o){if(ro=o,oo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,so.current=null===t||null===t.memoizedState?Jo:ta,t=n(s,i),co){o=0;do{if(co=!1,ho=0,25<=o)throw Error(r(301));o+=1,lo=ao=null,e.updateQueue=null,so.current=ea,t=n(s,i)}while(co)}if(so.current=Ko,e=null!==ao&&null!==ao.next,ro=0,lo=ao=oo=null,uo=!1,e)throw Error(r(300));return t}function vo(){var t=0!==ho;return ho=0,t}function yo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=t:lo=lo.next=t,lo}function _o(){if(null===ao){var t=oo.alternate;t=null!==t?t.memoizedState:null}else t=ao.next;var e=null===lo?oo.memoizedState:lo.next;if(null!==e)lo=e,ao=t;else{if(null===t)throw Error(r(310));t={memoizedState:(ao=t).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=t:lo=lo.next=t}return lo}function bo(t,e){return"function"==typeof e?e(t):e}function wo(t){var e=_o(),n=e.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=t;var s=ao,i=s.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}s.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,s=s.baseState;var l=a=null,u=null,c=o;do{var h=c.lane;if((ro&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:t(s,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,a=s):u=u.next=d,oo.lanes|=h,Vl|=h}c=c.next}while(null!==c&&c!==o);null===u?a=s:u.next=l,as(s,e.memoizedState)||(_a=!0),e.memoizedState=s,e.baseState=a,e.baseQueue=u,n.lastRenderedState=s}if(null!==(t=n.interleaved)){i=t;do{o=i.lane,oo.lanes|=o,Vl|=o,i=i.next}while(i!==t)}else null===i&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xo(t){var e=_o(),n=e.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=t;var s=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=t(o,a.action),a=a.next}while(a!==i);as(o,e.memoizedState)||(_a=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,s]}function ko(){}function So(t,e){var n=oo,s=_o(),i=e(),o=!as(s.memoizedState,i);if(o&&(s.memoizedState=i,_a=!0),s=s.queue,Vo(Eo.bind(null,n,s,t),[t]),s.getSnapshot!==e||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Do(9,Co.bind(null,n,s,i,e),void 0,null),null===Ol)throw Error(r(349));30&ro||To(n,e,i)}return i}function To(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=oo.updateQueue)?(e={lastEffect:null,stores:null},oo.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Co(t,e,n,s){e.value=n,e.getSnapshot=s,Ao(e)&&Oo(t)}function Eo(t,e,n){return n((function(){Ao(e)&&Oo(t)}))}function Ao(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!as(t,n)}catch(t){return!0}}function Oo(t){var e=Rr(t,1);null!==e&&nu(e,t,1,-1)}function Mo(t){var e=yo();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:t},e.queue=t,t=t.dispatch=Yo.bind(null,oo,t),[e.memoizedState,t]}function Do(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},null===(e=oo.updateQueue)?(e={lastEffect:null,stores:null},oo.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t),t}function Po(){return _o().memoizedState}function No(t,e,n,s){var i=yo();oo.flags|=t,i.memoizedState=Do(1|e,n,void 0,void 0===s?null:s)}function Ro(t,e,n,s){var i=_o();s=void 0===s?null:s;var r=void 0;if(null!==ao){var o=ao.memoizedState;if(r=o.destroy,null!==s&&mo(s,o.deps))return void(i.memoizedState=Do(e,n,r,s))}oo.flags|=t,i.memoizedState=Do(1|e,n,r,s)}function Io(t,e){return No(8390656,8,t,e)}function Vo(t,e){return Ro(2048,8,t,e)}function zo(t,e){return Ro(4,2,t,e)}function Fo(t,e){return Ro(4,4,t,e)}function jo(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Lo(t,e,n){return n=null!=n?n.concat([t]):null,Ro(4,4,jo.bind(null,e,t),n)}function qo(){}function Uo(t,e){var n=_o();e=void 0===e?null:e;var s=n.memoizedState;return null!==s&&null!==e&&mo(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function Wo(t,e){var n=_o();e=void 0===e?null:e;var s=n.memoizedState;return null!==s&&null!==e&&mo(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function Bo(t,e,n){return 21&ro?(as(n,e)||(n=me(),oo.lanes|=n,Vl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_a=!0),t.memoizedState=n)}function $o(t,e){var n=_e;_e=0!==n&&4>n?n:4,t(!0);var s=io.transition;io.transition={};try{t(!1),e()}finally{_e=n,io.transition=s}}function Ho(){return _o().memoizedState}function Qo(t,e,n){var s=eu(t);n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Xo(t)?Go(e,n):null!==(n=Nr(t,e,n,s))&&(nu(n,t,s,tu()),Zo(n,e,s))}function Yo(t,e,n){var s=eu(t),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xo(t))Go(e,i);else{var r=t.alternate;if(0===t.lanes&&(null===r||0===r.lanes)&&null!==(r=e.lastRenderedReducer))try{var o=e.lastRenderedState,a=r(o,n);if(i.hasEagerState=!0,i.eagerState=a,as(a,o)){var l=e.interleaved;return null===l?(i.next=i,Pr(e)):(i.next=l.next,l.next=i),void(e.interleaved=i)}}catch(t){}null!==(n=Nr(t,e,i,s))&&(nu(n,t,s,i=tu()),Zo(n,e,s))}}function Xo(t){var e=t.alternate;return t===oo||null!==e&&e===oo}function Go(t,e){co=uo=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Zo(t,e,n){if(4194240&n){var s=e.lanes;n|=s&=t.pendingLanes,e.lanes=n,ye(t,n)}}var Ko={readContext:Mr,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useInsertionEffect:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo,useDeferredValue:fo,useTransition:fo,useMutableSource:fo,useSyncExternalStore:fo,useId:fo,unstable_isNewReconciler:!1},Jo={readContext:Mr,useCallback:function(t,e){return yo().memoizedState=[t,void 0===e?null:e],t},useContext:Mr,useEffect:Io,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,No(4194308,4,jo.bind(null,e,t),n)},useLayoutEffect:function(t,e){return No(4194308,4,t,e)},useInsertionEffect:function(t,e){return No(4,2,t,e)},useMemo:function(t,e){var n=yo();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=yo();return e=void 0!==n?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=Qo.bind(null,oo,t),[s.memoizedState,t]},useRef:function(t){return t={current:t},yo().memoizedState=t},useState:Mo,useDebugValue:qo,useDeferredValue:function(t){return yo().memoizedState=t},useTransition:function(){var t=Mo(!1),e=t[0];return t=$o.bind(null,t[1]),yo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=oo,i=yo();if(ir){if(void 0===n)throw Error(r(407));n=n()}else{if(n=e(),null===Ol)throw Error(r(349));30&ro||To(s,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Io(Eo.bind(null,s,o,t),[t]),s.flags|=2048,Do(9,Co.bind(null,s,o,n,e),void 0,null),n},useId:function(){var t=yo(),e=Ol.identifierPrefix;if(ir){var n=Zi;e=":"+e+"R"+(n=(Gi&~(1<<32-oe(Gi)-1)).toString(32)+n),0<(n=ho++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=po++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ta={readContext:Mr,useCallback:Uo,useContext:Mr,useEffect:Vo,useImperativeHandle:Lo,useInsertionEffect:zo,useLayoutEffect:Fo,useMemo:Wo,useReducer:wo,useRef:Po,useState:function(){return wo(bo)},useDebugValue:qo,useDeferredValue:function(t){return Bo(_o(),ao.memoizedState,t)},useTransition:function(){return[wo(bo)[0],_o().memoizedState]},useMutableSource:ko,useSyncExternalStore:So,useId:Ho,unstable_isNewReconciler:!1},ea={readContext:Mr,useCallback:Uo,useContext:Mr,useEffect:Vo,useImperativeHandle:Lo,useInsertionEffect:zo,useLayoutEffect:Fo,useMemo:Wo,useReducer:xo,useRef:Po,useState:function(){return xo(bo)},useDebugValue:qo,useDeferredValue:function(t){var e=_o();return null===ao?e.memoizedState=t:Bo(e,ao.memoizedState,t)},useTransition:function(){return[xo(bo)[0],_o().memoizedState]},useMutableSource:ko,useSyncExternalStore:So,useId:Ho,unstable_isNewReconciler:!1};function na(t,e){if(t&&t.defaultProps){for(var n in e=z({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}function sa(t,e,n,s){n=null==(n=n(s,e=t.memoizedState))?e:z({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var ia={isMounted:function(t){return!!(t=t._reactInternals)&&Ut(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=tu(),i=eu(t),r=Fr(s,i);r.payload=e,null!=n&&(r.callback=n),null!==(e=jr(t,r,i))&&(nu(e,t,i,s),Lr(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=tu(),i=eu(t),r=Fr(s,i);r.tag=1,r.payload=e,null!=n&&(r.callback=n),null!==(e=jr(t,r,i))&&(nu(e,t,i,s),Lr(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tu(),s=eu(t),i=Fr(n,s);i.tag=2,null!=e&&(i.callback=e),null!==(e=jr(t,i,s))&&(nu(e,t,s,n),Lr(e,t,s))}};function ra(t,e,n,s,i,r,o){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(s,r,o):!(e.prototype&&e.prototype.isPureReactComponent&&ls(n,s)&&ls(i,r))}function oa(t,e,n){var s=!1,i=Ei,r=e.contextType;return"object"==typeof r&&null!==r?r=Mr(r):(i=Pi(e)?Mi:Ai.current,r=(s=null!=(s=e.contextTypes))?Di(t,i):Ei),e=new e(n,r),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=ia,t.stateNode=e,e._reactInternals=t,s&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=r),e}function aa(t,e,n,s){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,s),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&ia.enqueueReplaceState(e,e.state,null)}function la(t,e,n,s){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Vr(t);var r=e.contextType;"object"==typeof r&&null!==r?i.context=Mr(r):(r=Pi(e)?Mi:Ai.current,i.context=Di(t,r)),i.state=t.memoizedState,"function"==typeof(r=e.getDerivedStateFromProps)&&(sa(t,e,r,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&ia.enqueueReplaceState(i,i.state,null),Ur(t,n,i,s),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4194308)}function ua(t,e){try{var n="",s=e;do{n+=q(s),s=s.return}while(s);var i=n}catch(t){i="\nError generating stack: "+t.message+"\n"+t.stack}return{value:t,source:e,stack:i,digest:null}}function ca(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function ha(t,e){try{console.error(e.value)}catch(t){setTimeout((function(){throw t}))}}var da="function"==typeof WeakMap?WeakMap:Map;function pa(t,e,n){(n=Fr(-1,n)).tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){Bl||(Bl=!0,$l=s),ha(0,e)},n}function fa(t,e,n){(n=Fr(-1,n)).tag=3;var s=t.type.getDerivedStateFromError;if("function"==typeof s){var i=e.value;n.payload=function(){return s(i)},n.callback=function(){ha(0,e)}}var r=t.stateNode;return null!==r&&"function"==typeof r.componentDidCatch&&(n.callback=function(){ha(0,e),"function"!=typeof s&&(null===Hl?Hl=new Set([this]):Hl.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function ma(t,e,n){var s=t.pingCache;if(null===s){s=t.pingCache=new da;var i=new Set;s.set(e,i)}else void 0===(i=s.get(e))&&(i=new Set,s.set(e,i));i.has(n)||(i.add(n),t=Tu.bind(null,t,e,n),e.then(t,t))}function ga(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function va(t,e,n,s,i){return 1&t.mode?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Fr(-1,1)).tag=2,jr(n,e,1))),n.lanes|=1),t)}var ya=b.ReactCurrentOwner,_a=!1;function ba(t,e,n,s){e.child=null===t?wr(e,null,n,s):br(e,t.child,n,s)}function wa(t,e,n,s,i){n=n.render;var r=e.ref;return Or(e,i),s=go(t,e,n,s,r,i),n=vo(),null===t||_a?(ir&&n&&tr(e),e.flags|=1,ba(t,e,s,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ba(t,e,i))}function xa(t,e,n,s,i){if(null===t){var r=n.type;return"function"!=typeof r||Pu(r)||void 0!==r.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Ru(n.type,null,s,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=r,ka(t,e,r,s,i))}if(r=t.child,!(t.lanes&i)){var o=r.memoizedProps;if((n=null!==(n=n.compare)?n:ls)(o,s)&&t.ref===e.ref)return Ba(t,e,i)}return e.flags|=1,(t=Nu(r,s)).ref=e.ref,t.return=e,e.child=t}function ka(t,e,n,s,i){if(null!==t){var r=t.memoizedProps;if(ls(r,s)&&t.ref===e.ref){if(_a=!1,e.pendingProps=s=r,!(t.lanes&i))return e.lanes=t.lanes,Ba(t,e,i);131072&t.flags&&(_a=!0)}}return Ca(t,e,n,s,i)}function Sa(t,e,n){var s=e.pendingProps,i=s.children,r=null!==t?t.memoizedState:null;if("hidden"===s.mode)if(1&e.mode){if(!(1073741824&n))return t=null!==r?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ci(Nl,Pl),Pl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=null!==r?r.baseLanes:n,Ci(Nl,Pl),Pl|=s}else e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Nl,Pl),Pl|=n;else null!==r?(s=r.baseLanes|n,e.memoizedState=null):s=n,Ci(Nl,Pl),Pl|=s;return ba(t,e,i,n),e.child}function Ta(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ca(t,e,n,s,i){var r=Pi(n)?Mi:Ai.current;return r=Di(e,r),Or(e,i),n=go(t,e,n,s,r,i),s=vo(),null===t||_a?(ir&&s&&tr(e),e.flags|=1,ba(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ba(t,e,i))}function Ea(t,e,n,s,i){if(Pi(n)){var r=!0;Vi(e)}else r=!1;if(Or(e,i),null===e.stateNode)Wa(t,e),oa(e,n,s),la(e,n,s,i),s=!0;else if(null===t){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;u="object"==typeof u&&null!==u?Mr(u):Di(e,u=Pi(n)?Mi:Ai.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==s||l!==u)&&aa(e,o,s,u),Ir=!1;var d=e.memoizedState;o.state=d,Ur(e,s,o,i),l=e.memoizedState,a!==s||d!==l||Oi.current||Ir?("function"==typeof c&&(sa(e,n,c,s),l=e.memoizedState),(a=Ir||ra(e,n,a,s,d,l,u))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(e.flags|=4194308)):("function"==typeof o.componentDidMount&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),o.props=s,o.state=l,o.context=u,s=a):("function"==typeof o.componentDidMount&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,zr(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:na(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l="object"==typeof(l=n.contextType)&&null!==l?Mr(l):Di(e,l=Pi(n)?Mi:Ai.current);var p=n.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==h||d!==l)&&aa(e,o,s,l),Ir=!1,d=e.memoizedState,o.state=d,Ur(e,s,o,i);var f=e.memoizedState;a!==h||d!==f||Oi.current||Ir?("function"==typeof p&&(sa(e,n,p,s),f=e.memoizedState),(u=Ir||ra(e,n,u,s,d,f,l)||!1)?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(s,f,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(s,f,l)),"function"==typeof o.componentDidUpdate&&(e.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!=typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=f),o.props=s,o.state=f,o.context=l,s=u):("function"!=typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),s=!1)}return Aa(t,e,n,s,r,i)}function Aa(t,e,n,s,i,r){Ta(t,e);var o=!!(128&e.flags);if(!s&&!o)return i&&zi(e,n,!1),Ba(t,e,r);s=e.stateNode,ya.current=e;var a=o&&"function"!=typeof n.getDerivedStateFromError?null:s.render();return e.flags|=1,null!==t&&o?(e.child=br(e,t.child,null,r),e.child=br(e,null,a,r)):ba(t,e,a,r),e.memoizedState=s.state,i&&zi(e,n,!0),e.child}function Oa(t){var e=t.stateNode;e.pendingContext?Ri(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Ri(0,e.context,!1),Xr(t,e.containerInfo)}function Ma(t,e,n,s,i){return pr(),fr(i),e.flags|=256,ba(t,e,n,s),e.child}var Da,Pa,Na,Ra,Ia={dehydrated:null,treeContext:null,retryLane:0};function Va(t){return{baseLanes:t,cachePool:null,transitions:null}}function za(t,e,n){var s,i=e.pendingProps,o=Jr.current,a=!1,l=!!(128&e.flags);if((s=l)||(s=(null===t||null!==t.memoizedState)&&!!(2&o)),s?(a=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(o|=1),Ci(Jr,1&o),null===t)return ur(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(1&e.mode?"$!"===t.data?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=i.children,t=i.fallback,a?(i=e.mode,a=e.child,l={mode:"hidden",children:l},1&i||null===a?a=Vu(l,i,0,null):(a.childLanes=0,a.pendingProps=l),t=Iu(t,i,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Va(n),e.memoizedState=Ia,t):Fa(e,l));if(null!==(o=t.memoizedState)&&null!==(s=o.dehydrated))return function(t,e,n,s,i,o,a){if(n)return 256&e.flags?(e.flags&=-257,ja(t,e,a,s=ca(Error(r(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(o=s.fallback,i=e.mode,s=Vu({mode:"visible",children:s.children},i,0,null),(o=Iu(o,i,a,null)).flags|=2,s.return=e,o.return=e,s.sibling=o,e.child=s,1&e.mode&&br(e,t.child,null,a),e.child.memoizedState=Va(a),e.memoizedState=Ia,o);if(!(1&e.mode))return ja(t,e,a,null);if("$!"===i.data){if(s=i.nextSibling&&i.nextSibling.dataset)var l=s.dgst;return s=l,ja(t,e,a,s=ca(o=Error(r(419)),s,void 0))}if(l=!!(a&t.childLanes),_a||l){if(null!==(s=Ol)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=i&(s.suspendedLanes|a)?0:i)&&i!==o.retryLane&&(o.retryLane=i,Rr(t,i),nu(s,t,i,-1))}return mu(),ja(t,e,a,s=ca(Error(r(421))))}return"$?"===i.data?(e.flags|=128,e.child=t.child,e=Eu.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,sr=ui(i.nextSibling),nr=e,ir=!0,rr=null,null!==t&&(Qi[Yi++]=Gi,Qi[Yi++]=Zi,Qi[Yi++]=Xi,Gi=t.id,Zi=t.overflow,Xi=e),(e=Fa(e,s.children)).flags|=4096,e)}(t,e,l,i,s,o,n);if(a){a=i.fallback,l=e.mode,s=(o=t.child).sibling;var u={mode:"hidden",children:i.children};return 1&l||e.child===o?(i=Nu(o,u)).subtreeFlags=14680064&o.subtreeFlags:((i=e.child).childLanes=0,i.pendingProps=u,e.deletions=null),null!==s?a=Nu(s,a):(a=Iu(a,l,n,null)).flags|=2,a.return=e,i.return=e,i.sibling=a,e.child=i,i=a,a=e.child,l=null===(l=t.child.memoizedState)?Va(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~n,e.memoizedState=Ia,i}return t=(a=t.child).sibling,i=Nu(a,{mode:"visible",children:i.children}),!(1&e.mode)&&(i.lanes=n),i.return=e,i.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Fa(t,e){return(e=Vu({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function ja(t,e,n,s){return null!==s&&fr(s),br(e,t.child,null,n),(t=Fa(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function La(t,e,n){t.lanes|=e;var s=t.alternate;null!==s&&(s.lanes|=e),Ar(t.return,e,n)}function qa(t,e,n,s,i){var r=t.memoizedState;null===r?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=n,r.tailMode=i)}function Ua(t,e,n){var s=e.pendingProps,i=s.revealOrder,r=s.tail;if(ba(t,e,s.children,n),2&(s=Jr.current))s=1&s|2,e.flags|=128;else{if(null!==t&&128&t.flags)t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&La(t,n,e);else if(19===t.tag)La(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(Ci(Jr,s),1&e.mode)switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===to(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),qa(e,!1,i,n,r);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===to(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}qa(e,!0,n,null,r);break;case"together":qa(e,!1,null,null,void 0);break;default:e.memoizedState=null}else e.memoizedState=null;return e.child}function Wa(t,e){!(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ba(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Vl|=e.lanes,!(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(r(153));if(null!==e.child){for(n=Nu(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Nu(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function $a(t,e){if(!ir)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;null!==n;)null!==n.alternate&&(s=n),n=n.sibling;null===s?e||null===t.tail?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Ha(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,s=0;if(e)for(var i=t.child;null!==i;)n|=i.lanes|i.childLanes,s|=14680064&i.subtreeFlags,s|=14680064&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function Qa(t,e,n){var s=e.pendingProps;switch(er(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ha(e),null;case 1:case 17:return Pi(e.type)&&Ni(),Ha(e),null;case 3:return s=e.stateNode,Gr(),Ti(Oi),Ti(Ai),no(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==t&&null!==t.child||(hr(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&!(256&e.flags)||(e.flags|=1024,null!==rr&&(ou(rr),rr=null))),Pa(t,e),Ha(e),null;case 5:Kr(e);var i=Yr(Qr.current);if(n=e.type,null!==t&&null!=e.stateNode)Na(t,e,n,s,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(null===e.stateNode)throw Error(r(166));return Ha(e),null}if(t=Yr($r.current),hr(e)){s=e.stateNode,n=e.type;var o=e.memoizedProps;switch(s[di]=e,s[pi]=o,t=!!(1&e.mode),n){case"dialog":js("cancel",s),js("close",s);break;case"iframe":case"object":case"embed":js("load",s);break;case"video":case"audio":for(i=0;i<Is.length;i++)js(Is[i],s);break;case"source":js("error",s);break;case"img":case"image":case"link":js("error",s),js("load",s);break;case"details":js("toggle",s);break;case"input":G(s,o),js("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!o.multiple},js("invalid",s);break;case"textarea":it(s,o),js("invalid",s)}for(var l in yt(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"==typeof u?s.textContent!==u&&(!0!==o.suppressHydrationWarning&&Ks(s.textContent,u,t),i=["children",u]):"number"==typeof u&&s.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Ks(s.textContent,u,t),i=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&js("scroll",s)}switch(n){case"input":H(s),J(s,o,!0);break;case"textarea":H(s),ot(s);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(s.onclick=Js)}s=i,e.updateQueue=s,null!==s&&(e.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=at(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof s.is?t=l.createElement(n,{is:s.is}):(t=l.createElement(n),"select"===n&&(l=t,s.multiple?l.multiple=!0:s.size&&(l.size=s.size))):t=l.createElementNS(t,n),t[di]=e,t[pi]=s,Da(t,e,!1,!1),e.stateNode=t;t:{switch(l=_t(n,s),n){case"dialog":js("cancel",t),js("close",t),i=s;break;case"iframe":case"object":case"embed":js("load",t),i=s;break;case"video":case"audio":for(i=0;i<Is.length;i++)js(Is[i],t);i=s;break;case"source":js("error",t),i=s;break;case"img":case"image":case"link":js("error",t),js("load",t),i=s;break;case"details":js("toggle",t),i=s;break;case"input":G(t,s),i=X(t,s),js("invalid",t);break;case"option":default:i=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},i=z({},s,{value:void 0}),js("invalid",t);break;case"textarea":it(t,s),i=st(t,s),js("invalid",t)}for(o in yt(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?gt(t,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&ht(t,c):"children"===o?"string"==typeof c?("textarea"!==n||""!==c)&&dt(t,c):"number"==typeof c&&dt(t,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=c&&"onScroll"===o&&js("scroll",t):null!=c&&_(t,o,c,l))}switch(n){case"input":H(t),J(t,s,!1);break;case"textarea":H(t),ot(t);break;case"option":null!=s.value&&t.setAttribute("value",""+B(s.value));break;case"select":t.multiple=!!s.multiple,null!=(o=s.value)?nt(t,!!s.multiple,o,!1):null!=s.defaultValue&&nt(t,!!s.multiple,s.defaultValue,!0);break;default:"function"==typeof i.onClick&&(t.onclick=Js)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break t;case"img":s=!0;break t;default:s=!1}}s&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Ha(e),null;case 6:if(t&&null!=e.stateNode)Ra(t,e,t.memoizedProps,s);else{if("string"!=typeof s&&null===e.stateNode)throw Error(r(166));if(n=Yr(Qr.current),Yr($r.current),hr(e)){if(s=e.stateNode,n=e.memoizedProps,s[di]=e,(o=s.nodeValue!==n)&&null!==(t=nr))switch(t.tag){case 3:Ks(s.nodeValue,n,!!(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Ks(s.nodeValue,n,!!(1&t.mode))}o&&(e.flags|=4)}else(s=(9===n.nodeType?n:n.ownerDocument).createTextNode(s))[di]=e,e.stateNode=s}return Ha(e),null;case 13:if(Ti(Jr),s=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(ir&&null!==sr&&1&e.mode&&!(128&e.flags))dr(),pr(),e.flags|=98560,o=!1;else if(o=hr(e),null!==s&&null!==s.dehydrated){if(null===t){if(!o)throw Error(r(318));if(!(o=null!==(o=e.memoizedState)?o.dehydrated:null))throw Error(r(317));o[di]=e}else pr(),!(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Ha(e),o=!1}else null!==rr&&(ou(rr),rr=null),o=!0;if(!o)return 65536&e.flags?e:null}return 128&e.flags?(e.lanes=n,e):((s=null!==s)!=(null!==t&&null!==t.memoizedState)&&s&&(e.child.flags|=8192,1&e.mode&&(null===t||1&Jr.current?0===Rl&&(Rl=3):mu())),null!==e.updateQueue&&(e.flags|=4),Ha(e),null);case 4:return Gr(),Pa(t,e),null===t&&Us(e.stateNode.containerInfo),Ha(e),null;case 10:return Er(e.type._context),Ha(e),null;case 19:if(Ti(Jr),null===(o=e.memoizedState))return Ha(e),null;if(s=!!(128&e.flags),null===(l=o.rendering))if(s)$a(o,!1);else{if(0!==Rl||null!==t&&128&t.flags)for(t=e.child;null!==t;){if(null!==(l=to(t))){for(e.flags|=128,$a(o,!1),null!==(s=l.updateQueue)&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;null!==n;)t=s,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ci(Jr,1&Jr.current|2),e.child}t=t.sibling}null!==o.tail&&Zt()>Ul&&(e.flags|=128,s=!0,$a(o,!1),e.lanes=4194304)}else{if(!s)if(null!==(t=to(l))){if(e.flags|=128,s=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),$a(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ir)return Ha(e),null}else 2*Zt()-o.renderingStartTime>Ul&&1073741824!==n&&(e.flags|=128,s=!0,$a(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=o.last)?n.sibling=l:e.child=l,o.last=l)}return null!==o.tail?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Zt(),e.sibling=null,n=Jr.current,Ci(Jr,s?1&n|2:1&n),e):(Ha(e),null);case 22:case 23:return hu(),s=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==s&&(e.flags|=8192),s&&1&e.mode?!!(1073741824&Pl)&&(Ha(e),6&e.subtreeFlags&&(e.flags|=8192)):Ha(e),null;case 24:case 25:return null}throw Error(r(156,e.tag))}function Ya(t,e){switch(er(e),e.tag){case 1:return Pi(e.type)&&Ni(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return Gr(),Ti(Oi),Ti(Ai),no(),65536&(t=e.flags)&&!(128&t)?(e.flags=-65537&t|128,e):null;case 5:return Kr(e),null;case 13:if(Ti(Jr),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(r(340));pr()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Ti(Jr),null;case 4:return Gr(),null;case 10:return Er(e.type._context),null;case 22:case 23:return hu(),null;default:return null}}Da=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pa=function(){},Na=function(t,e,n,s){var i=t.memoizedProps;if(i!==s){t=e.stateNode,Yr($r.current);var r,o=null;switch(n){case"input":i=X(t,i),s=X(t,s),o=[];break;case"select":i=z({},i,{value:void 0}),s=z({},s,{value:void 0}),o=[];break;case"textarea":i=st(t,i),s=st(t,s),o=[];break;default:"function"!=typeof i.onClick&&"function"==typeof s.onClick&&(t.onclick=Js)}for(c in yt(n,s),n=null,i)if(!s.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(r in l)l.hasOwnProperty(r)&&(n||(n={}),n[r]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in s){var u=s[c];if(l=null!=i?i[c]:void 0,s.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(r in l)!l.hasOwnProperty(r)||u&&u.hasOwnProperty(r)||(n||(n={}),n[r]="");for(r in u)u.hasOwnProperty(r)&&l[r]!==u[r]&&(n||(n={}),n[r]=u[r])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&js("scroll",t),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}},Ra=function(t,e,n,s){n!==s&&(e.flags|=4)};var Xa=!1,Ga=!1,Za="function"==typeof WeakSet?WeakSet:Set,Ka=null;function Ja(t,e){var n=t.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Su(t,e,n)}else n.current=null}function tl(t,e,n){try{n()}catch(n){Su(t,e,n)}}var el=!1;function nl(t,e,n){var s=e.updateQueue;if(null!==(s=null!==s?s.lastEffect:null)){var i=s=s.next;do{if((i.tag&t)===t){var r=i.destroy;i.destroy=void 0,void 0!==r&&tl(e,n,r)}i=i.next}while(i!==s)}}function sl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function il(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"==typeof e?e(t):e.current=t}}function rl(t){var e=t.alternate;null!==e&&(t.alternate=null,rl(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(e=t.stateNode)&&(delete e[di],delete e[pi],delete e[mi],delete e[gi],delete e[vi]),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ol(t){return 5===t.tag||3===t.tag||4===t.tag}function al(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||ol(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ll(t,e,n){var s=t.tag;if(5===s||6===s)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!=(n=n._reactRootContainer)||null!==e.onclick||(e.onclick=Js));else if(4!==s&&null!==(t=t.child))for(ll(t,e,n),t=t.sibling;null!==t;)ll(t,e,n),t=t.sibling}function ul(t,e,n){var s=t.tag;if(5===s||6===s)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==s&&null!==(t=t.child))for(ul(t,e,n),t=t.sibling;null!==t;)ul(t,e,n),t=t.sibling}var cl=null,hl=!1;function dl(t,e,n){for(n=n.child;null!==n;)pl(t,e,n),n=n.sibling}function pl(t,e,n){if(re&&"function"==typeof re.onCommitFiberUnmount)try{re.onCommitFiberUnmount(ie,n)}catch(t){}switch(n.tag){case 5:Ga||Ja(n,e);case 6:var s=cl,i=hl;cl=null,dl(t,e,n),hl=i,null!==(cl=s)&&(hl?(t=cl,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(hl?(t=cl,n=n.stateNode,8===t.nodeType?li(t.parentNode,n):1===t.nodeType&&li(t,n),Ue(t)):li(cl,n.stateNode));break;case 4:s=cl,i=hl,cl=n.stateNode.containerInfo,hl=!0,dl(t,e,n),cl=s,hl=i;break;case 0:case 11:case 14:case 15:if(!Ga&&null!==(s=n.updateQueue)&&null!==(s=s.lastEffect)){i=s=s.next;do{var r=i,o=r.destroy;r=r.tag,void 0!==o&&(2&r||4&r)&&tl(n,e,o),i=i.next}while(i!==s)}dl(t,e,n);break;case 1:if(!Ga&&(Ja(n,e),"function"==typeof(s=n.stateNode).componentWillUnmount))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(t){Su(n,e,t)}dl(t,e,n);break;case 21:dl(t,e,n);break;case 22:1&n.mode?(Ga=(s=Ga)||null!==n.memoizedState,dl(t,e,n),Ga=s):dl(t,e,n);break;default:dl(t,e,n)}}function fl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Za),e.forEach((function(e){var s=Au.bind(null,t,e);n.has(e)||(n.add(e),e.then(s,s))}))}}function ml(t,e){var n=e.deletions;if(null!==n)for(var s=0;s<n.length;s++){var i=n[s];try{var o=t,a=e,l=a;t:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,hl=!1;break t;case 3:case 4:cl=l.stateNode.containerInfo,hl=!0;break t}l=l.return}if(null===cl)throw Error(r(160));pl(o,a,i),cl=null,hl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(t){Su(i,e,t)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)gl(e,t),e=e.sibling}function gl(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ml(e,t),vl(t),4&s){try{nl(3,t,t.return),sl(3,t)}catch(e){Su(t,t.return,e)}try{nl(5,t,t.return)}catch(e){Su(t,t.return,e)}}break;case 1:ml(e,t),vl(t),512&s&&null!==n&&Ja(n,n.return);break;case 5:if(ml(e,t),vl(t),512&s&&null!==n&&Ja(n,n.return),32&t.flags){var i=t.stateNode;try{dt(i,"")}catch(e){Su(t,t.return,e)}}if(4&s&&null!=(i=t.stateNode)){var o=t.memoizedProps,a=null!==n?n.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&Z(i,o),_t(l,a);var c=_t(l,o);for(a=0;a<u.length;a+=2){var h=u[a],d=u[a+1];"style"===h?gt(i,d):"dangerouslySetInnerHTML"===h?ht(i,d):"children"===h?dt(i,d):_(i,h,d,c)}switch(l){case"input":K(i,o);break;case"textarea":rt(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?nt(i,!!o.multiple,f,!1):p!==!!o.multiple&&(null!=o.defaultValue?nt(i,!!o.multiple,o.defaultValue,!0):nt(i,!!o.multiple,o.multiple?[]:"",!1))}i[pi]=o}catch(e){Su(t,t.return,e)}}break;case 6:if(ml(e,t),vl(t),4&s){if(null===t.stateNode)throw Error(r(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(e){Su(t,t.return,e)}}break;case 3:if(ml(e,t),vl(t),4&s&&null!==n&&n.memoizedState.isDehydrated)try{Ue(e.containerInfo)}catch(e){Su(t,t.return,e)}break;case 4:default:ml(e,t),vl(t);break;case 13:ml(e,t),vl(t),8192&(i=t.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(ql=Zt())),4&s&&fl(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(Ga=(c=Ga)||h,ml(e,t),Ga=c):ml(e,t),vl(t),8192&s){if(c=null!==t.memoizedState,(t.stateNode.isHidden=c)&&!h&&1&t.mode)for(Ka=t,h=t.child;null!==h;){for(d=Ka=h;null!==Ka;){switch(f=(p=Ka).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Ja(p,p.return);var m=p.stateNode;if("function"==typeof m.componentWillUnmount){s=p,n=p.return;try{e=s,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(t){Su(s,n,t)}}break;case 5:Ja(p,p.return);break;case 22:if(null!==p.memoizedState){wl(d);continue}}null!==f?(f.return=p,Ka=f):wl(d)}h=h.sibling}t:for(h=null,d=t;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"==typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=null!=(u=d.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,l.style.display=mt("display",a))}catch(e){Su(t,t.return,e)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(e){Su(t,t.return,e)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(e,t),vl(t),4&s&&fl(t);case 21:}}function vl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(ol(n)){var s=n;break t}n=n.return}throw Error(r(160))}switch(s.tag){case 5:var i=s.stateNode;32&s.flags&&(dt(i,""),s.flags&=-33),ul(t,al(t),i);break;case 3:case 4:var o=s.stateNode.containerInfo;ll(t,al(t),o);break;default:throw Error(r(161))}}catch(e){Su(t,t.return,e)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function yl(t,e,n){Ka=t,_l(t,e,n)}function _l(t,e,n){for(var s=!!(1&t.mode);null!==Ka;){var i=Ka,r=i.child;if(22===i.tag&&s){var o=null!==i.memoizedState||Xa;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ga;a=Xa;var u=Ga;if(Xa=o,(Ga=l)&&!u)for(Ka=i;null!==Ka;)l=(o=Ka).child,22===o.tag&&null!==o.memoizedState?xl(i):null!==l?(l.return=o,Ka=l):xl(i);for(;null!==r;)Ka=r,_l(r,e,n),r=r.sibling;Ka=i,Xa=a,Ga=u}bl(t)}else 8772&i.subtreeFlags&&null!==r?(r.return=i,Ka=r):bl(t)}}function bl(t){for(;null!==Ka;){var e=Ka;if(8772&e.flags){var n=e.alternate;try{if(8772&e.flags)switch(e.tag){case 0:case 11:case 15:Ga||sl(5,e);break;case 1:var s=e.stateNode;if(4&e.flags&&!Ga)if(null===n)s.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:na(e.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;null!==o&&Wr(e,o,s);break;case 3:var a=e.updateQueue;if(null!==a){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Wr(e,a,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var c=e.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Ue(d)}}}break;default:throw Error(r(163))}Ga||512&e.flags&&il(e)}catch(t){Su(e,e.return,t)}}if(e===t){Ka=null;break}if(null!==(n=e.sibling)){n.return=e.return,Ka=n;break}Ka=e.return}}function wl(t){for(;null!==Ka;){var e=Ka;if(e===t){Ka=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Ka=n;break}Ka=e.return}}function xl(t){for(;null!==Ka;){var e=Ka;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{sl(4,e)}catch(t){Su(e,n,t)}break;case 1:var s=e.stateNode;if("function"==typeof s.componentDidMount){var i=e.return;try{s.componentDidMount()}catch(t){Su(e,i,t)}}var r=e.return;try{il(e)}catch(t){Su(e,r,t)}break;case 5:var o=e.return;try{il(e)}catch(t){Su(e,o,t)}}}catch(t){Su(e,e.return,t)}if(e===t){Ka=null;break}var a=e.sibling;if(null!==a){a.return=e.return,Ka=a;break}Ka=e.return}}var kl,Sl=Math.ceil,Tl=b.ReactCurrentDispatcher,Cl=b.ReactCurrentOwner,El=b.ReactCurrentBatchConfig,Al=0,Ol=null,Ml=null,Dl=0,Pl=0,Nl=Si(0),Rl=0,Il=null,Vl=0,zl=0,Fl=0,jl=null,Ll=null,ql=0,Ul=1/0,Wl=null,Bl=!1,$l=null,Hl=null,Ql=!1,Yl=null,Xl=0,Gl=0,Zl=null,Kl=-1,Jl=0;function tu(){return 6&Al?Zt():-1!==Kl?Kl:Kl=Zt()}function eu(t){return 1&t.mode?2&Al&&0!==Dl?Dl&-Dl:null!==mr.transition?(0===Jl&&(Jl=me()),Jl):0!==(t=_e)?t:t=void 0===(t=window.event)?16:Ge(t.type):1}function nu(t,e,n,s){if(50<Gl)throw Gl=0,Zl=null,Error(r(185));ve(t,n,s),2&Al&&t===Ol||(t===Ol&&(!(2&Al)&&(zl|=n),4===Rl&&au(t,Dl)),su(t,s),1===n&&0===Al&&!(1&e.mode)&&(Ul=Zt()+500,ji&&Ui()))}function su(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-oe(r),a=1<<o,l=i[o];-1===l?a&n&&!(a&s)||(i[o]=pe(a,e)):l<=e&&(t.expiredLanes|=a),r&=~a}}(t,e);var s=de(t,t===Ol?Dl:0);if(0===s)null!==n&&Yt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(null!=n&&Yt(n),1===e)0===t.tag?function(t){ji=!0,qi(t)}(lu.bind(null,t)):qi(lu.bind(null,t)),oi((function(){!(6&Al)&&Ui()})),n=null;else{switch(be(s)){case 1:n=Jt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=se}n=Ou(n,iu.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function iu(t,e){if(Kl=-1,Jl=0,6&Al)throw Error(r(327));var n=t.callbackNode;if(xu()&&t.callbackNode!==n)return null;var s=de(t,t===Ol?Dl:0);if(0===s)return null;if(30&s||s&t.expiredLanes||e)e=gu(t,s);else{e=s;var i=Al;Al|=2;var o=fu();for(Ol===t&&Dl===e||(Wl=null,Ul=Zt()+500,du(t,e));;)try{yu();break}catch(e){pu(t,e)}Cr(),Tl.current=o,Al=i,null!==Ml?e=0:(Ol=null,Dl=0,e=Rl)}if(0!==e){if(2===e&&0!==(i=fe(t))&&(s=i,e=ru(t,i)),1===e)throw n=Il,du(t,0),au(t,s),su(t,Zt()),n;if(6===e)au(t,s);else{if(i=t.current.alternate,!(30&s||function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var s=0;s<n.length;s++){var i=n[s],r=i.getSnapshot;i=i.value;try{if(!as(r(),i))return!1}catch(t){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(i)||(e=gu(t,s),2===e&&(o=fe(t),0!==o&&(s=o,e=ru(t,o))),1!==e)))throw n=Il,du(t,0),au(t,s),su(t,Zt()),n;switch(t.finishedWork=i,t.finishedLanes=s,e){case 0:case 1:throw Error(r(345));case 2:case 5:wu(t,Ll,Wl);break;case 3:if(au(t,s),(130023424&s)===s&&10<(e=ql+500-Zt())){if(0!==de(t,0))break;if(((i=t.suspendedLanes)&s)!==s){tu(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=si(wu.bind(null,t,Ll,Wl),e);break}wu(t,Ll,Wl);break;case 4:if(au(t,s),(4194240&s)===s)break;for(e=t.eventTimes,i=-1;0<s;){var a=31-oe(s);o=1<<a,(a=e[a])>i&&(i=a),s&=~o}if(s=i,10<(s=(120>(s=Zt()-s)?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Sl(s/1960))-s)){t.timeoutHandle=si(wu.bind(null,t,Ll,Wl),s);break}wu(t,Ll,Wl);break;default:throw Error(r(329))}}}return su(t,Zt()),t.callbackNode===n?iu.bind(null,t):null}function ru(t,e){var n=jl;return t.current.memoizedState.isDehydrated&&(du(t,e).flags|=256),2!==(t=gu(t,e))&&(e=Ll,Ll=n,null!==e&&ou(e)),t}function ou(t){null===Ll?Ll=t:Ll.push.apply(Ll,t)}function au(t,e){for(e&=~Fl,e&=~zl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-oe(e),s=1<<n;t[n]=-1,e&=~s}}function lu(t){if(6&Al)throw Error(r(327));xu();var e=de(t,0);if(!(1&e))return su(t,Zt()),null;var n=gu(t,e);if(0!==t.tag&&2===n){var s=fe(t);0!==s&&(e=s,n=ru(t,s))}if(1===n)throw n=Il,du(t,0),au(t,e),su(t,Zt()),n;if(6===n)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wu(t,Ll,Wl),su(t,Zt()),null}function uu(t,e){var n=Al;Al|=1;try{return t(e)}finally{0===(Al=n)&&(Ul=Zt()+500,ji&&Ui())}}function cu(t){null!==Yl&&0===Yl.tag&&!(6&Al)&&xu();var e=Al;Al|=1;var n=El.transition,s=_e;try{if(El.transition=null,_e=1,t)return t()}finally{_e=s,El.transition=n,!(6&(Al=e))&&Ui()}}function hu(){Pl=Nl.current,Ti(Nl)}function du(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,ii(n)),null!==Ml)for(n=Ml.return;null!==n;){var s=n;switch(er(s),s.tag){case 1:null!=(s=s.type.childContextTypes)&&Ni();break;case 3:Gr(),Ti(Oi),Ti(Ai),no();break;case 5:Kr(s);break;case 4:Gr();break;case 13:case 19:Ti(Jr);break;case 10:Er(s.type._context);break;case 22:case 23:hu()}n=n.return}if(Ol=t,Ml=t=Nu(t.current,null),Dl=Pl=e,Rl=0,Il=null,Fl=zl=Vl=0,Ll=jl=null,null!==Dr){for(e=0;e<Dr.length;e++)if(null!==(s=(n=Dr[e]).interleaved)){n.interleaved=null;var i=s.next,r=n.pending;if(null!==r){var o=r.next;r.next=i,s.next=o}n.pending=s}Dr=null}return t}function pu(t,e){for(;;){var n=Ml;try{if(Cr(),so.current=Ko,uo){for(var s=oo.memoizedState;null!==s;){var i=s.queue;null!==i&&(i.pending=null),s=s.next}uo=!1}if(ro=0,lo=ao=oo=null,co=!1,ho=0,Cl.current=null,null===n||null===n.return){Rl=1,Il=e,Ml=null;break}t:{var o=t,a=n.return,l=n,u=e;if(e=Dl,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,h=l,d=h.tag;if(!(1&h.mode||0!==d&&11!==d&&15!==d)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=ga(a);if(null!==f){f.flags&=-257,va(f,a,l,0,e),1&f.mode&&ma(o,c,e),u=c;var m=(e=f).updateQueue;if(null===m){var g=new Set;g.add(u),e.updateQueue=g}else m.add(u);break t}if(!(1&e)){ma(o,c,e),mu();break t}u=Error(r(426))}else if(ir&&1&l.mode){var v=ga(a);if(null!==v){!(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,e),fr(ua(u,l));break t}}o=u=ua(u,l),4!==Rl&&(Rl=2),null===jl?jl=[o]:jl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e,qr(o,pa(0,u,e));break t;case 1:l=u;var y=o.type,_=o.stateNode;if(!(128&o.flags||"function"!=typeof y.getDerivedStateFromError&&(null===_||"function"!=typeof _.componentDidCatch||null!==Hl&&Hl.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e,qr(o,fa(o,l,e));break t}}o=o.return}while(null!==o)}bu(n)}catch(t){e=t,Ml===n&&null!==n&&(Ml=n=n.return);continue}break}}function fu(){var t=Tl.current;return Tl.current=Ko,null===t?Ko:t}function mu(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Ol||!(268435455&Vl)&&!(268435455&zl)||au(Ol,Dl)}function gu(t,e){var n=Al;Al|=2;var s=fu();for(Ol===t&&Dl===e||(Wl=null,du(t,e));;)try{vu();break}catch(e){pu(t,e)}if(Cr(),Al=n,Tl.current=s,null!==Ml)throw Error(r(261));return Ol=null,Dl=0,Rl}function vu(){for(;null!==Ml;)_u(Ml)}function yu(){for(;null!==Ml&&!Xt();)_u(Ml)}function _u(t){var e=kl(t.alternate,t,Pl);t.memoizedProps=t.pendingProps,null===e?bu(t):Ml=e,Cl.current=null}function bu(t){var e=t;do{var n=e.alternate;if(t=e.return,32768&e.flags){if(null!==(n=Ya(n,e)))return n.flags&=32767,void(Ml=n);if(null===t)return Rl=6,void(Ml=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}else if(null!==(n=Qa(n,e,Pl)))return void(Ml=n);if(null!==(e=e.sibling))return void(Ml=e);Ml=e=t}while(null!==e);0===Rl&&(Rl=5)}function wu(t,e,n){var s=_e,i=El.transition;try{El.transition=null,_e=1,function(t,e,n,s){do{xu()}while(null!==Yl);if(6&Al)throw Error(r(327));n=t.finishedWork;var i=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-oe(n),r=1<<i;e[i]=0,s[i]=-1,t[i]=-1,n&=~r}}(t,o),t===Ol&&(Ml=Ol=null,Dl=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Ql||(Ql=!0,Ou(ee,(function(){return xu(),null}))),o=!!(15990&n.flags),15990&n.subtreeFlags||o){o=El.transition,El.transition=null;var a=_e;_e=1;var l=Al;Al|=4,Cl.current=null,function(t,e){if(ti=Be,ps(t=ds())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var s=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(s&&0!==s.rangeCount){n=s.anchorNode;var i=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{n.nodeType,o.nodeType}catch(t){n=null;break t}var a=0,l=-1,u=-1,c=0,h=0,d=t,p=null;e:for(;;){for(var f;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==s&&3!==d.nodeType||(u=a+s),3===d.nodeType&&(a+=d.nodeValue.length),null!==(f=d.firstChild);)p=d,d=f;for(;;){if(d===t)break e;if(p===n&&++c===i&&(l=a),p===o&&++h===s&&(u=a),null!==(f=d.nextSibling))break;p=(d=p).parentNode}d=f}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:t,selectionRange:n},Be=!1,Ka=e;null!==Ka;)if(t=(e=Ka).child,1028&e.subtreeFlags&&null!==t)t.return=e,Ka=t;else for(;null!==Ka;){e=Ka;try{var m=e.alternate;if(1024&e.flags)switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=e.stateNode,_=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:na(e.type,g),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(r(163))}}catch(t){Su(e,e.return,t)}if(null!==(t=e.sibling)){t.return=e.return,Ka=t;break}Ka=e.return}m=el,el=!1}(t,n),gl(n,t),fs(ei),Be=!!ti,ei=ti=null,t.current=n,yl(n,t,i),Gt(),Al=l,_e=a,El.transition=o}else t.current=n;if(Ql&&(Ql=!1,Yl=t,Xl=i),0===(o=t.pendingLanes)&&(Hl=null),function(t){if(re&&"function"==typeof re.onCommitFiberRoot)try{re.onCommitFiberRoot(ie,t,void 0,!(128&~t.current.flags))}catch(t){}}(n.stateNode),su(t,Zt()),null!==e)for(s=t.onRecoverableError,n=0;n<e.length;n++)s((i=e[n]).value,{componentStack:i.stack,digest:i.digest});if(Bl)throw Bl=!1,t=$l,$l=null,t;!!(1&Xl)&&0!==t.tag&&xu(),1&(o=t.pendingLanes)?t===Zl?Gl++:(Gl=0,Zl=t):Gl=0,Ui()}(t,e,n,s)}finally{El.transition=i,_e=s}return null}function xu(){if(null!==Yl){var t=be(Xl),e=El.transition,n=_e;try{if(El.transition=null,_e=16>t?16:t,null===Yl)var s=!1;else{if(t=Yl,Yl=null,Xl=0,6&Al)throw Error(r(331));var i=Al;for(Al|=4,Ka=t.current;null!==Ka;){var o=Ka,a=o.child;if(16&Ka.flags){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Ka=c;null!==Ka;){var h=Ka;switch(h.tag){case 0:case 11:case 15:nl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Ka=d;else for(;null!==Ka;){var p=(h=Ka).sibling,f=h.return;if(rl(h),h===c){Ka=null;break}if(null!==p){p.return=f,Ka=p;break}Ka=f}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ka=o}}if(2064&o.subtreeFlags&&null!==a)a.return=o,Ka=a;else t:for(;null!==Ka;){if(2048&(o=Ka).flags)switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Ka=y;break t}Ka=o.return}}var _=t.current;for(Ka=_;null!==Ka;){var b=(a=Ka).child;if(2064&a.subtreeFlags&&null!==b)b.return=a,Ka=b;else t:for(a=_;null!==Ka;){if(2048&(l=Ka).flags)try{switch(l.tag){case 0:case 11:case 15:sl(9,l)}}catch(t){Su(l,l.return,t)}if(l===a){Ka=null;break t}var w=l.sibling;if(null!==w){w.return=l.return,Ka=w;break t}Ka=l.return}}if(Al=i,Ui(),re&&"function"==typeof re.onPostCommitFiberRoot)try{re.onPostCommitFiberRoot(ie,t)}catch(t){}s=!0}return s}finally{_e=n,El.transition=e}}return!1}function ku(t,e,n){t=jr(t,e=pa(0,e=ua(n,e),1),1),e=tu(),null!==t&&(ve(t,1,e),su(t,e))}function Su(t,e,n){if(3===t.tag)ku(t,t,n);else for(;null!==e;){if(3===e.tag){ku(e,t,n);break}if(1===e.tag){var s=e.stateNode;if("function"==typeof e.type.getDerivedStateFromError||"function"==typeof s.componentDidCatch&&(null===Hl||!Hl.has(s))){e=jr(e,t=fa(e,t=ua(n,t),1),1),t=tu(),null!==e&&(ve(e,1,t),su(e,t));break}}e=e.return}}function Tu(t,e,n){var s=t.pingCache;null!==s&&s.delete(e),e=tu(),t.pingedLanes|=t.suspendedLanes&n,Ol===t&&(Dl&n)===n&&(4===Rl||3===Rl&&(130023424&Dl)===Dl&&500>Zt()-ql?du(t,0):Fl|=n),su(t,e)}function Cu(t,e){0===e&&(1&t.mode?(e=ce,!(130023424&(ce<<=1))&&(ce=4194304)):e=1);var n=tu();null!==(t=Rr(t,e))&&(ve(t,e,n),su(t,n))}function Eu(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Cu(t,n)}function Au(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,i=t.memoizedState;null!==i&&(n=i.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(r(314))}null!==s&&s.delete(e),Cu(t,n)}function Ou(t,e){return Qt(t,e)}function Mu(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Du(t,e,n,s){return new Mu(t,e,n,s)}function Pu(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Nu(t,e){var n=t.alternate;return null===n?((n=Du(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ru(t,e,n,s,i,o){var a=2;if(s=t,"function"==typeof t)Pu(t)&&(a=1);else if("string"==typeof t)a=5;else t:switch(t){case k:return Iu(n.children,i,o,e);case S:a=8,i|=8;break;case T:return(t=Du(12,n,e,2|i)).elementType=T,t.lanes=o,t;case O:return(t=Du(13,n,e,i)).elementType=O,t.lanes=o,t;case M:return(t=Du(19,n,e,i)).elementType=M,t.lanes=o,t;case N:return Vu(n,i,o,e);default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case C:a=10;break t;case E:a=9;break t;case A:a=11;break t;case D:a=14;break t;case P:a=16,s=null;break t}throw Error(r(130,null==t?t:typeof t,""))}return(e=Du(a,n,e,i)).elementType=t,e.type=s,e.lanes=o,e}function Iu(t,e,n,s){return(t=Du(7,t,s,e)).lanes=n,t}function Vu(t,e,n,s){return(t=Du(22,t,s,e)).elementType=N,t.lanes=n,t.stateNode={isHidden:!1},t}function zu(t,e,n){return(t=Du(6,t,null,e)).lanes=n,t}function Fu(t,e,n){return(e=Du(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ju(t,e,n,s,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ge(0),this.expirationTimes=ge(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ge(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lu(t,e,n,s,i,r,o,a,l){return t=new ju(t,e,n,a,l),1===e?(e=1,!0===r&&(e|=8)):e=0,r=Du(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vr(r),t}function qu(t){if(!t)return Ei;t:{if(Ut(t=t._reactInternals)!==t||1!==t.tag)throw Error(r(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Pi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(r(171))}if(1===t.tag){var n=t.type;if(Pi(n))return Ii(t,n,e)}return e}function Uu(t,e,n,s,i,r,o,a,l){return(t=Lu(n,s,!0,t,0,r,0,a,l)).context=qu(null),n=t.current,(r=Fr(s=tu(),i=eu(n))).callback=null!=e?e:null,jr(n,r,i),t.current.lanes=i,ve(t,i,s),su(t,s),t}function Wu(t,e,n,s){var i=e.current,r=tu(),o=eu(i);return n=qu(n),null===e.context?e.context=n:e.pendingContext=n,(e=Fr(r,o)).payload={element:t},null!==(s=void 0===s?null:s)&&(e.callback=s),null!==(t=jr(i,e,o))&&(nu(t,i,o,r),Lr(t,i,o)),o}function Bu(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function $u(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Hu(t,e){$u(t,e),(t=t.alternate)&&$u(t,e)}kl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Oi.current)_a=!0;else{if(!(t.lanes&n||128&e.flags))return _a=!1,function(t,e,n){switch(e.tag){case 3:Oa(e),pr();break;case 5:Zr(e);break;case 1:Pi(e.type)&&Vi(e);break;case 4:Xr(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,i=e.memoizedProps.value;Ci(xr,s._currentValue),s._currentValue=i;break;case 13:if(null!==(s=e.memoizedState))return null!==s.dehydrated?(Ci(Jr,1&Jr.current),e.flags|=128,null):n&e.child.childLanes?za(t,e,n):(Ci(Jr,1&Jr.current),null!==(t=Ba(t,e,n))?t.sibling:null);Ci(Jr,1&Jr.current);break;case 19:if(s=!!(n&e.childLanes),128&t.flags){if(s)return Ua(t,e,n);e.flags|=128}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(Jr,Jr.current),s)break;return null;case 22:case 23:return e.lanes=0,Sa(t,e,n)}return Ba(t,e,n)}(t,e,n);_a=!!(131072&t.flags)}else _a=!1,ir&&1048576&e.flags&&Ji(e,Hi,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Wa(t,e),t=e.pendingProps;var i=Di(e,Ai.current);Or(e,n),i=go(null,e,s,t,i,n);var o=vo();return e.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pi(s)?(o=!0,Vi(e)):o=!1,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Vr(e),i.updater=ia,e.stateNode=i,i._reactInternals=e,la(e,s,t,n),e=Aa(null,e,s,!0,o,n)):(e.tag=0,ir&&o&&tr(e),ba(null,e,i,n),e=e.child),e;case 16:s=e.elementType;t:{switch(Wa(t,e),t=e.pendingProps,s=(i=s._init)(s._payload),e.type=s,i=e.tag=function(t){if("function"==typeof t)return Pu(t)?1:0;if(null!=t){if((t=t.$$typeof)===A)return 11;if(t===D)return 14}return 2}(s),t=na(s,t),i){case 0:e=Ca(null,e,s,t,n);break t;case 1:e=Ea(null,e,s,t,n);break t;case 11:e=wa(null,e,s,t,n);break t;case 14:e=xa(null,e,s,na(s.type,t),n);break t}throw Error(r(306,s,""))}return e;case 0:return s=e.type,i=e.pendingProps,Ca(t,e,s,i=e.elementType===s?i:na(s,i),n);case 1:return s=e.type,i=e.pendingProps,Ea(t,e,s,i=e.elementType===s?i:na(s,i),n);case 3:t:{if(Oa(e),null===t)throw Error(r(387));s=e.pendingProps,i=(o=e.memoizedState).element,zr(t,e),Ur(e,s,null,n);var a=e.memoizedState;if(s=a.element,o.isDehydrated){if(o={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,256&e.flags){e=Ma(t,e,s,n,i=ua(Error(r(423)),e));break t}if(s!==i){e=Ma(t,e,s,n,i=ua(Error(r(424)),e));break t}for(sr=ui(e.stateNode.containerInfo.firstChild),nr=e,ir=!0,rr=null,n=wr(e,null,s,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pr(),s===i){e=Ba(t,e,n);break t}ba(t,e,s,n)}e=e.child}return e;case 5:return Zr(e),null===t&&ur(e),s=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,a=i.children,ni(s,i)?a=null:null!==o&&ni(s,o)&&(e.flags|=32),Ta(t,e),ba(t,e,a,n),e.child;case 6:return null===t&&ur(e),null;case 13:return za(t,e,n);case 4:return Xr(e,e.stateNode.containerInfo),s=e.pendingProps,null===t?e.child=br(e,null,s,n):ba(t,e,s,n),e.child;case 11:return s=e.type,i=e.pendingProps,wa(t,e,s,i=e.elementType===s?i:na(s,i),n);case 7:return ba(t,e,e.pendingProps,n),e.child;case 8:case 12:return ba(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(s=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Ci(xr,s._currentValue),s._currentValue=a,null!==o)if(as(o.value,a)){if(o.children===i.children&&!Oi.current){e=Ba(t,e,n);break t}}else for(null!==(o=e.child)&&(o.return=e);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var u=l.firstContext;null!==u;){if(u.context===s){if(1===o.tag){(u=Fr(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Ar(o.return,n,e),l.lanes|=n;break}u=u.next}}else if(10===o.tag)a=o.type===e.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(r(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ar(a,n,e),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===e){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}ba(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps.children,Or(e,n),s=s(i=Mr(i)),e.flags|=1,ba(t,e,s,n),e.child;case 14:return i=na(s=e.type,e.pendingProps),xa(t,e,s,i=na(s.type,i),n);case 15:return ka(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:na(s,i),Wa(t,e),e.tag=1,Pi(s)?(t=!0,Vi(e)):t=!1,Or(e,n),oa(e,s,i),la(e,s,i,n),Aa(null,e,s,!0,t,n);case 19:return Ua(t,e,n);case 22:return Sa(t,e,n)}throw Error(r(156,e.tag))};var Qu="function"==typeof reportError?reportError:function(t){console.error(t)};function Yu(t){this._internalRoot=t}function Xu(t){this._internalRoot=t}function Gu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Zu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Ku(){}function Ju(t,e,n,s,i){var r=n._reactRootContainer;if(r){var o=r;if("function"==typeof i){var a=i;i=function(){var t=Bu(o);a.call(t)}}Wu(e,o,t,i)}else o=function(t,e,n,s,i){if(i){if("function"==typeof s){var r=s;s=function(){var t=Bu(o);r.call(t)}}var o=Uu(e,s,t,0,null,!1,0,"",Ku);return t._reactRootContainer=o,t[fi]=o.current,Us(8===t.nodeType?t.parentNode:t),cu(),o}for(;i=t.lastChild;)t.removeChild(i);if("function"==typeof s){var a=s;s=function(){var t=Bu(l);a.call(t)}}var l=Lu(t,0,!1,null,0,!1,0,"",Ku);return t._reactRootContainer=l,t[fi]=l.current,Us(8===t.nodeType?t.parentNode:t),cu((function(){Wu(e,l,n,s)})),l}(n,e,t,i,s);return Bu(o)}Xu.prototype.render=Yu.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(r(409));Wu(t,e,null,null)},Xu.prototype.unmount=Yu.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;cu((function(){Wu(null,t,null,null)})),e[fi]=null}},Xu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Se();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ne.length&&0!==e&&e<Ne[n].priority;n++);Ne.splice(n,0,t),0===n&&ze(t)}},we=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(ye(e,1|n),su(e,Zt()),!(6&Al)&&(Ul=Zt()+500,Ui()))}break;case 13:cu((function(){var e=Rr(t,1);if(null!==e){var n=tu();nu(e,t,1,n)}})),Hu(t,1)}},xe=function(t){if(13===t.tag){var e=Rr(t,134217728);null!==e&&nu(e,t,134217728,tu()),Hu(t,134217728)}},ke=function(t){if(13===t.tag){var e=eu(t),n=Rr(t,e);null!==n&&nu(n,t,e,tu()),Hu(t,e)}},Se=function(){return _e},Te=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}},xt=function(t,e,n){switch(e){case"input":if(K(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var i=wi(s);if(!i)throw Error(r(90));Q(s),K(s,i)}}}break;case"textarea":rt(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},At=uu,Ot=cu;var tc={usingClientEntryPoint:!1,Events:[_i,bi,wi,Ct,Et,uu]},ec={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:ec.bundleType,version:ec.version,rendererPackageName:ec.rendererPackageName,rendererConfig:ec.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=$t(t))?null:t.stateNode},findFiberByHostInstance:ec.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{ie=sc.inject(nc),re=sc}catch(ct){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gu(e))throw Error(r(200));return function(t,e,n){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==s?null:""+s,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Gu(t))throw Error(r(299));var n=!1,s="",i=Qu;return null!=e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(s=e.identifierPrefix),void 0!==e.onRecoverableError&&(i=e.onRecoverableError)),e=Lu(t,1,!1,null,0,n,0,s,i),t[fi]=e.current,Us(8===t.nodeType?t.parentNode:t),new Yu(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"==typeof t.render)throw Error(r(188));throw t=Object.keys(t).join(","),Error(r(268,t))}return null===(t=$t(e))?null:t.stateNode},e.flushSync=function(t){return cu(t)},e.hydrate=function(t,e,n){if(!Zu(e))throw Error(r(200));return Ju(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Gu(t))throw Error(r(405));var s=null!=n&&n.hydratedSources||null,i=!1,o="",a=Qu;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),e=Uu(e,null,t,1,null!=n?n:null,i,0,o,a),t[fi]=e.current,Us(t),s)for(t=0;t<s.length;t++)i=(i=(n=s[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Xu(e)},e.render=function(t,e,n){if(!Zu(e))throw Error(r(200));return Ju(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Zu(t))throw Error(r(40));return!!t._reactRootContainer&&(cu((function(){Ju(null,null,t,!1,(function(){t._reactRootContainer=null,t[fi]=null}))})),!0)},e.unstable_batchedUpdates=uu,e.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!Zu(n))throw Error(r(200));if(null==t||void 0===t._reactInternals)throw Error(r(38));return Ju(t,e,n,!1,s)},e.version="18.3.1-next-f1338f8080-20240426"},579:(t,e,n)=>{var s=n(736);function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,s(i.key),i)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},601:t=>{"use strict";t.exports=function(t){return t[1]}},639:(t,e,n)=>{"use strict";var s=n(540),i=Symbol.for("react.element"),r=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),o=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(t,e,n){var s,l={},u=null,c=null;for(s in void 0!==n&&(u=""+n),void 0!==e.key&&(u=""+e.key),void 0!==e.ref&&(c=e.ref),e)r.call(e,s)&&!a.hasOwnProperty(s)&&(l[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps)void 0===l[s]&&(l[s]=e[s]);return{$$typeof:i,type:t,key:u,ref:c,props:l,_owner:o.current}}e.jsx=l,e.jsxs=l},659:t=>{"use strict";var e={};t.exports=function(t,n){var s=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}},715:(t,e,n)=>{var s=n(987),i=n(156),r=n(122),o=n(752);t.exports=function(t,e){return s(t)||i(t,e)||r(t,e)||o()},t.exports.__esModule=!0,t.exports.default=t.exports},736:(t,e,n)=>{var s=n(738).default,i=n(45);t.exports=function(t){var e=i(t,"string");return"symbol"==s(e)?e:e+""},t.exports.__esModule=!0,t.exports.default=t.exports},738:t=>{function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},752:t=>{t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},795:function(t,e,n){!function(t,e,n,s){"use strict";var i=function(t,e,n){return{endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}},r=function(t,e,n){return{endTime:e,insertTime:n,type:"linearRampToValue",value:t}},o=function(t,e){return{startTime:e,type:"setValue",value:t}},a=function(t,e,n){return{duration:n,startTime:e,type:"setValueCurve",values:t}},l=function(t,e,n){var s=n.startTime,i=n.target,r=n.timeConstant;return i+(e-i)*Math.exp((s-t)/r)},u=function(t){return"exponentialRampToValue"===t.type},c=function(t){return"linearRampToValue"===t.type},h=function(t){return u(t)||c(t)},d=function(t){return"setValue"===t.type},p=function(t){return"setValueCurve"===t.type},f=function(t,e,n,s){var i=t[e];return void 0===i?s:h(i)||d(i)?i.value:p(i)?i.values[i.values.length-1]:l(n,f(t,e-1,i.startTime,s),i)},m=function(t,e,n,s,i){return void 0===n?[s.insertTime,i]:h(n)?[n.endTime,n.value]:d(n)?[n.startTime,n.value]:p(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,f(t,e-1,n.startTime,i)]},g=function(t){return"cancelAndHold"===t.type},v=function(t){return"cancelScheduledValues"===t.type},y=function(t){return g(t)||v(t)?t.cancelTime:u(t)||c(t)?t.endTime:t.startTime},_=function(t,e,n,s){var i=s.endTime,r=s.value;return n===r?r:0<n&&0<r||n<0&&r<0?n*Math.pow(r/n,(t-e)/(i-e)):0},b=function(t,e,n,s){return n+(t-e)/(s.endTime-e)*(s.value-n)},w=function(t,e){var n=e.duration,s=e.startTime,i=e.values;return function(t,e){var n=Math.floor(e),s=Math.ceil(e);return n===s?t[n]:(1-(e-n))*t[n]+(1-(s-e))*t[s]}(i,(t-s)/n*(i.length-1))},x=function(t){return"setTarget"===t.type},k=function(){return s((function t(e){n(this,t),this._automationEvents=[],this._currenTime=0,this._defaultValue=e}),[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(t){var e=y(t);if(g(t)||v(t)){var n=this._automationEvents.findIndex((function(n){return v(t)&&p(n)?n.startTime+n.duration>=e:y(n)>=e})),s=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),g(t)){var l=this._automationEvents[this._automationEvents.length-1];if(void 0!==s&&h(s)){if(void 0!==l&&x(l))throw new Error("The internal list is malformed.");var d=void 0===l?s.insertTime:p(l)?l.startTime+l.duration:y(l),f=void 0===l?this._defaultValue:p(l)?l.values[l.values.length-1]:l.value,m=u(s)?_(e,d,f,s):b(e,d,f,s),w=u(s)?i(m,e,this._currenTime):r(m,e,this._currenTime);this._automationEvents.push(w)}if(void 0!==l&&x(l)&&this._automationEvents.push(o(this.getValue(e),e)),void 0!==l&&p(l)&&l.startTime+l.duration>e){var k=e-l.startTime,S=(l.values.length-1)/l.duration,T=Math.max(2,1+Math.ceil(k*S)),C=k/(T-1)*S,E=l.values.slice(0,T);if(C<1)for(var A=1;A<T;A+=1){var O=C*A%1;E[A]=l.values[A-1]*(1-O)+l.values[A]*O}this._automationEvents[this._automationEvents.length-1]=a(E,l.startTime,k)}}}else{var M=this._automationEvents.findIndex((function(t){return y(t)>e})),D=-1===M?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[M-1];if(void 0!==D&&p(D)&&y(D)+D.duration>e)return!1;var P=u(t)?i(t.value,t.endTime,this._currenTime):c(t)?r(t.value,e,this._currenTime):t;if(-1===M)this._automationEvents.push(P);else{if(p(t)&&e+t.duration>y(this._automationEvents[M]))return!1;this._automationEvents.splice(M,0,P)}}return!0}},{key:"flush",value:function(t){var e=this._automationEvents.findIndex((function(e){return y(e)>t}));if(e>1){var n=this._automationEvents.slice(e-1),s=n[0];x(s)&&n.unshift(o(f(this._automationEvents,e-2,s.startTime,this._defaultValue),s.startTime)),this._automationEvents=n}}},{key:"getValue",value:function(t){if(0===this._automationEvents.length)return this._defaultValue;var n=this._automationEvents.findIndex((function(e){return y(e)>t})),s=this._automationEvents[n],i=(-1===n?this._automationEvents.length:n)-1,r=this._automationEvents[i];if(void 0!==r&&x(r)&&(void 0===s||!h(s)||s.insertTime>t))return l(t,f(this._automationEvents,i-1,r.startTime,this._defaultValue),r);if(void 0!==r&&d(r)&&(void 0===s||!h(s)))return r.value;if(void 0!==r&&p(r)&&(void 0===s||!h(s)||r.startTime+r.duration>t))return t<r.startTime+r.duration?w(t,r):r.values[r.values.length-1];if(void 0!==r&&h(r)&&(void 0===s||!h(s)))return r.value;if(void 0!==s&&u(s)){var o=m(this._automationEvents,i,r,s,this._defaultValue),a=e(o,2),g=a[0],v=a[1];return _(t,g,v,s)}if(void 0!==s&&c(s)){var k=m(this._automationEvents,i,r,s,this._defaultValue),S=e(k,2),T=S[0],C=S[1];return b(t,T,C,s)}return this._defaultValue}}])}();t.AutomationEventList=k,t.createCancelAndHoldAutomationEvent=function(t){return{cancelTime:t,type:"cancelAndHold"}},t.createCancelScheduledValuesAutomationEvent=function(t){return{cancelTime:t,type:"cancelScheduledValues"}},t.createExponentialRampToValueAutomationEvent=function(t,e){return{endTime:e,type:"exponentialRampToValue",value:t}},t.createLinearRampToValueAutomationEvent=function(t,e){return{endTime:e,type:"linearRampToValue",value:t}},t.createSetTargetAutomationEvent=function(t,e,n){return{startTime:e,target:t,timeConstant:n,type:"setTarget"}},t.createSetValueAutomationEvent=o,t.createSetValueCurveAutomationEvent=a}(e,n(715),n(383),n(579))},825:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var s="";n.supports&&(s+="@supports (".concat(n.supports,") {")),n.media&&(s+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(s+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),s+=n.css,i&&(s+="}"),n.media&&(s+="}"),n.supports&&(s+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(s,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},848:(t,e,n)=>{"use strict";t.exports=n(639)},961:(t,e,n)=>{"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=n(551)},972:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var s=n(601),i=n.n(s),r=n(314),o=n.n(r)()(i());o.push([t.id,"*, ::before, ::after {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}\n\n::backdrop {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}/*\n! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com\n*//*\n1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)\n2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)\n*/\n\n*,\n::before,\n::after {\n  box-sizing: border-box; /* 1 */\n  border-width: 0; /* 2 */\n  border-style: solid; /* 2 */\n  border-color: #e5e7eb; /* 2 */\n}\n\n::before,\n::after {\n  --tw-content: '';\n}\n\n/*\n1. Use a consistent sensible line-height in all browsers.\n2. Prevent adjustments of font size after orientation changes in iOS.\n3. Use a more readable tab size.\n4. Use the user's configured `sans` font-family by default.\n5. Use the user's configured `sans` font-feature-settings by default.\n6. Use the user's configured `sans` font-variation-settings by default.\n7. Disable tap highlights on iOS\n*/\n\nhtml,\n:host {\n  line-height: 1.5; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n  -moz-tab-size: 4; /* 3 */\n  -o-tab-size: 4;\n     tab-size: 4; /* 3 */\n  font-family: ui-sans-serif, system-ui, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"; /* 4 */\n  font-feature-settings: normal; /* 5 */\n  font-variation-settings: normal; /* 6 */\n  -webkit-tap-highlight-color: transparent; /* 7 */\n}\n\n/*\n1. Remove the margin in all browsers.\n2. Inherit line-height from `html` so users can set them as a class directly on the `html` element.\n*/\n\nbody {\n  margin: 0; /* 1 */\n  line-height: inherit; /* 2 */\n}\n\n/*\n1. Add the correct height in Firefox.\n2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)\n3. Ensure horizontal rules are visible by default.\n*/\n\nhr {\n  height: 0; /* 1 */\n  color: inherit; /* 2 */\n  border-top-width: 1px; /* 3 */\n}\n\n/*\nAdd the correct text decoration in Chrome, Edge, and Safari.\n*/\n\nabbr:where([title]) {\n  -webkit-text-decoration: underline dotted;\n          text-decoration: underline dotted;\n}\n\n/*\nRemove the default font size and weight for headings.\n*/\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n/*\nReset links to optimize for opt-in styling instead of opt-out.\n*/\n\na {\n  color: inherit;\n  text-decoration: inherit;\n}\n\n/*\nAdd the correct font weight in Edge and Safari.\n*/\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/*\n1. Use the user's configured `mono` font-family by default.\n2. Use the user's configured `mono` font-feature-settings by default.\n3. Use the user's configured `mono` font-variation-settings by default.\n4. Correct the odd `em` font sizing in all browsers.\n*/\n\ncode,\nkbd,\nsamp,\npre {\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace; /* 1 */\n  font-feature-settings: normal; /* 2 */\n  font-variation-settings: normal; /* 3 */\n  font-size: 1em; /* 4 */\n}\n\n/*\nAdd the correct font size in all browsers.\n*/\n\nsmall {\n  font-size: 80%;\n}\n\n/*\nPrevent `sub` and `sup` elements from affecting the line height in all browsers.\n*/\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/*\n1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)\n2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)\n3. Remove gaps between table borders by default.\n*/\n\ntable {\n  text-indent: 0; /* 1 */\n  border-color: inherit; /* 2 */\n  border-collapse: collapse; /* 3 */\n}\n\n/*\n1. Change the font styles in all browsers.\n2. Remove the margin in Firefox and Safari.\n3. Remove default padding in all browsers.\n*/\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit; /* 1 */\n  font-feature-settings: inherit; /* 1 */\n  font-variation-settings: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  font-weight: inherit; /* 1 */\n  line-height: inherit; /* 1 */\n  letter-spacing: inherit; /* 1 */\n  color: inherit; /* 1 */\n  margin: 0; /* 2 */\n  padding: 0; /* 3 */\n}\n\n/*\nRemove the inheritance of text transform in Edge and Firefox.\n*/\n\nbutton,\nselect {\n  text-transform: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Remove default button styles.\n*/\n\nbutton,\ninput:where([type='button']),\ninput:where([type='reset']),\ninput:where([type='submit']) {\n  -webkit-appearance: button; /* 1 */\n  background-color: transparent; /* 2 */\n  background-image: none; /* 2 */\n}\n\n/*\nUse the modern Firefox focus style for all focusable elements.\n*/\n\n:-moz-focusring {\n  outline: auto;\n}\n\n/*\nRemove the additional `:invalid` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)\n*/\n\n:-moz-ui-invalid {\n  box-shadow: none;\n}\n\n/*\nAdd the correct vertical alignment in Chrome and Firefox.\n*/\n\nprogress {\n  vertical-align: baseline;\n}\n\n/*\nCorrect the cursor style of increment and decrement buttons in Safari.\n*/\n\n::-webkit-inner-spin-button,\n::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/*\n1. Correct the odd appearance in Chrome and Safari.\n2. Correct the outline style in Safari.\n*/\n\n[type='search'] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/*\nRemove the inner padding in Chrome and Safari on macOS.\n*/\n\n::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Change font properties to `inherit` in Safari.\n*/\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/*\nAdd the correct display in Chrome and Safari.\n*/\n\nsummary {\n  display: list-item;\n}\n\n/*\nRemoves the default spacing and border for appropriate elements.\n*/\n\nblockquote,\ndl,\ndd,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nhr,\nfigure,\np,\npre {\n  margin: 0;\n}\n\nfieldset {\n  margin: 0;\n  padding: 0;\n}\n\nlegend {\n  padding: 0;\n}\n\nol,\nul,\nmenu {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n/*\nReset default styling for dialogs.\n*/\ndialog {\n  padding: 0;\n}\n\n/*\nPrevent resizing textareas horizontally by default.\n*/\n\ntextarea {\n  resize: vertical;\n}\n\n/*\n1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)\n2. Set the default placeholder color to the user's configured gray 400 color.\n*/\n\ninput::-moz-placeholder, textarea::-moz-placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n\ninput::placeholder,\ntextarea::placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n\n/*\nSet the default cursor for buttons.\n*/\n\nbutton,\n[role=\"button\"] {\n  cursor: pointer;\n}\n\n/*\nMake sure disabled buttons don't get the pointer cursor.\n*/\n:disabled {\n  cursor: default;\n}\n\n/*\n1. Make replaced elements `display: block` by default. (https://github.com/mozdevs/cssremedy/issues/14)\n2. Add `vertical-align: middle` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)\n   This can trigger a poorly considered lint error in some tools but is included by design.\n*/\n\nimg,\nsvg,\nvideo,\ncanvas,\naudio,\niframe,\nembed,\nobject {\n  display: block; /* 1 */\n  vertical-align: middle; /* 2 */\n}\n\n/*\nConstrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)\n*/\n\nimg,\nvideo {\n  max-width: 100%;\n  height: auto;\n}\n\n/* Make elements with the HTML hidden attribute stay hidden by default */\n[hidden]:where(:not([hidden=\"until-found\"])) {\n  display: none;\n}\n.btn {\n  border-radius: 0.5rem;\n  padding-left: 1rem;\n  padding-right: 1rem;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  font-weight: 500;\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 200ms;\n}\n.btn-primary {\n  --tw-bg-opacity: 1;\n  background-color: rgb(2 132 199 / var(--tw-bg-opacity, 1));\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n}\n.btn-primary:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(3 105 161 / var(--tw-bg-opacity, 1));\n}\n.btn-secondary {\n  --tw-bg-opacity: 1;\n  background-color: rgb(219 39 119 / var(--tw-bg-opacity, 1));\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n}\n.btn-secondary:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(190 24 93 / var(--tw-bg-opacity, 1));\n}\n.btn-outline {\n  border-width: 2px;\n  --tw-border-opacity: 1;\n  border-color: rgb(209 213 219 / var(--tw-border-opacity, 1));\n  --tw-text-opacity: 1;\n  color: rgb(209 213 219 / var(--tw-text-opacity, 1));\n}\n.btn-outline:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(31 41 55 / var(--tw-bg-opacity, 1));\n}\n.input-control {\n  border-radius: 0.5rem;\n  border-width: 1px;\n  --tw-border-opacity: 1;\n  border-color: rgb(55 65 81 / var(--tw-border-opacity, 1));\n  --tw-bg-opacity: 1;\n  background-color: rgb(31 41 55 / var(--tw-bg-opacity, 1));\n  padding: 0.5rem;\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n}\n.input-control:focus {\n  border-color: transparent;\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(14 165 233 / var(--tw-ring-opacity, 1));\n}\n.static {\n  position: static;\n}\n.fixed {\n  position: fixed;\n}\n.absolute {\n  position: absolute;\n}\n.relative {\n  position: relative;\n}\n.inset-0 {\n  inset: 0px;\n}\n.right-2 {\n  right: 0.5rem;\n}\n.top-2 {\n  top: 0.5rem;\n}\n.col-span-4 {\n  grid-column: span 4 / span 4;\n}\n.mx-auto {\n  margin-left: auto;\n  margin-right: auto;\n}\n.mb-1 {\n  margin-bottom: 0.25rem;\n}\n.mb-2 {\n  margin-bottom: 0.5rem;\n}\n.mb-4 {\n  margin-bottom: 1rem;\n}\n.mb-6 {\n  margin-bottom: 1.5rem;\n}\n.mt-1 {\n  margin-top: 0.25rem;\n}\n.mt-2 {\n  margin-top: 0.5rem;\n}\n.mt-4 {\n  margin-top: 1rem;\n}\n.mt-auto {\n  margin-top: auto;\n}\n.block {\n  display: block;\n}\n.flex {\n  display: flex;\n}\n.grid {\n  display: grid;\n}\n.h-16 {\n  height: 4rem;\n}\n.h-8 {\n  height: 2rem;\n}\n.h-full {\n  height: 100%;\n}\n.min-h-screen {\n  min-height: 100vh;\n}\n.w-16 {\n  width: 4rem;\n}\n.w-8 {\n  width: 2rem;\n}\n.w-full {\n  width: 100%;\n}\n.max-w-xl {\n  max-width: 36rem;\n}\n.flex-1 {\n  flex: 1 1 0%;\n}\n.scale-110 {\n  --tw-scale-x: 1.1;\n  --tw-scale-y: 1.1;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.transform {\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n@keyframes pulse {\n\n  50% {\n    opacity: .5;\n  }\n}\n.animate-pulse-slow {\n  animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n}\n.cursor-crosshair {\n  cursor: crosshair;\n}\n.cursor-pointer {\n  cursor: pointer;\n}\n.touch-none {\n  touch-action: none;\n}\n.resize {\n  resize: both;\n}\n.list-disc {\n  list-style-type: disc;\n}\n.grid-cols-4 {\n  grid-template-columns: repeat(4, minmax(0, 1fr));\n}\n.grid-cols-5 {\n  grid-template-columns: repeat(5, minmax(0, 1fr));\n}\n.flex-col {\n  flex-direction: column;\n}\n.items-center {\n  align-items: center;\n}\n.justify-center {\n  justify-content: center;\n}\n.justify-between {\n  justify-content: space-between;\n}\n.gap-2 {\n  gap: 0.5rem;\n}\n.gap-6 {\n  gap: 1.5rem;\n}\n.space-x-2 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-x-reverse: 0;\n  margin-right: calc(0.5rem * var(--tw-space-x-reverse));\n  margin-left: calc(0.5rem * calc(1 - var(--tw-space-x-reverse)));\n}\n.space-y-1 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(0.25rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(0.25rem * var(--tw-space-y-reverse));\n}\n.space-y-2 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(0.5rem * var(--tw-space-y-reverse));\n}\n.overflow-hidden {\n  overflow: hidden;\n}\n.overflow-y-auto {\n  overflow-y: auto;\n}\n.rounded {\n  border-radius: 0.25rem;\n}\n.rounded-full {\n  border-radius: 9999px;\n}\n.rounded-lg {\n  border-radius: 0.5rem;\n}\n.border {\n  border-width: 1px;\n}\n.border-r {\n  border-right-width: 1px;\n}\n.border-gray-700 {\n  --tw-border-opacity: 1;\n  border-color: rgb(55 65 81 / var(--tw-border-opacity, 1));\n}\n.bg-gray-700 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(55 65 81 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-800 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(31 41 55 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-900 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(17 24 39 / var(--tw-bg-opacity, 1));\n}\n.bg-opacity-70 {\n  --tw-bg-opacity: 0.7;\n}\n.bg-opacity-80 {\n  --tw-bg-opacity: 0.8;\n}\n.p-4 {\n  padding: 1rem;\n}\n.p-6 {\n  padding: 1.5rem;\n}\n.px-2 {\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n}\n.px-6 {\n  padding-left: 1.5rem;\n  padding-right: 1.5rem;\n}\n.py-1 {\n  padding-top: 0.25rem;\n  padding-bottom: 0.25rem;\n}\n.py-4 {\n  padding-top: 1rem;\n  padding-bottom: 1rem;\n}\n.pl-5 {\n  padding-left: 1.25rem;\n}\n.text-left {\n  text-align: left;\n}\n.text-center {\n  text-align: center;\n}\n.text-sm {\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n}\n.text-xl {\n  font-size: 1.25rem;\n  line-height: 1.75rem;\n}\n.text-xs {\n  font-size: 0.75rem;\n  line-height: 1rem;\n}\n.font-bold {\n  font-weight: 700;\n}\n.font-semibold {\n  font-weight: 600;\n}\n.text-gray-300 {\n  --tw-text-opacity: 1;\n  color: rgb(209 213 219 / var(--tw-text-opacity, 1));\n}\n.text-gray-400 {\n  --tw-text-opacity: 1;\n  color: rgb(156 163 175 / var(--tw-text-opacity, 1));\n}\n.text-primary-400 {\n  --tw-text-opacity: 1;\n  color: rgb(56 189 248 / var(--tw-text-opacity, 1));\n}\n.text-white {\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n}\n.shadow-xl {\n  --tw-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.ring-2 {\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n}\n.ring-white {\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(255 255 255 / var(--tw-ring-opacity, 1));\n}\n.filter {\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n}\n.transition {\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.transition-all {\n  transition-property: all;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.ease-in-out {\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n}\n.hover\\:scale-110:hover {\n  --tw-scale-x: 1.1;\n  --tw-scale-y: 1.1;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.hover\\:text-primary-300:hover {\n  --tw-text-opacity: 1;\n  color: rgb(125 211 252 / var(--tw-text-opacity, 1));\n}\n.hover\\:text-white:hover {\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n}\n@media (min-width: 768px) {\n\n  .md\\:w-64 {\n    width: 16rem;\n  }\n\n  .md\\:flex-row {\n    flex-direction: row;\n  }\n} ",""]);const a=o},982:(t,e,n)=>{"use strict";t.exports=n(463)},987:t=>{t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports}},e={};function n(s){var i=e[s];if(void 0!==i)return i.exports;var r=e[s]={id:s,exports:{}};return t[s].call(r.exports,r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0,(()=>{"use strict";var t=n(848),e=n(540),s=n(338);const i="15.0.4";var r=n(795);const o=new WeakSet,a=new WeakMap,l=new WeakMap,u=new WeakMap,c=new WeakMap,h=new WeakMap,d=new WeakMap,p=new WeakMap,f=new WeakMap,m=new WeakMap,g={construct:()=>g},v=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,y=(t,e)=>{const n=[];let s=t.replace(/^[\s]+/,""),i=s.match(v);for(;null!==i;){const t=i[1].slice(1,-1),r=i[0].replace(/([\s]+)?;?$/,"").replace(t,new URL(t,e).toString());n.push(r),s=s.slice(i[0].length).replace(/^[\s]+/,""),i=s.match(v)}return[n.join(";"),s]},_=t=>{if(void 0!==t&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},b=t=>{if(!(t=>{try{new new Proxy(t,g)}catch{return!1}return!0})(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===t.prototype||"object"!=typeof t.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},w=(t,e)=>{const n=t.get(e);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},x=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[s]=n;return t.delete(s),s},k=(t,e,n,s)=>{const i=w(t,e),r=x(i,(t=>t[0]===n&&t[1]===s));return 0===i.size&&t.delete(e),r},S=t=>w(d,t),T=t=>{if(o.has(t))throw new Error("The AudioNode is already stored.");o.add(t),S(t).forEach((t=>t(!0)))},C=t=>"port"in t,E=t=>{if(!o.has(t))throw new Error("The AudioNode is not stored.");o.delete(t),S(t).forEach((t=>t(!1)))},A=(t,e)=>{!C(t)&&e.every((t=>0===t.size))&&E(t)},O={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},M=(t,e)=>t.context===e,D=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},P=()=>new DOMException("","IndexSizeError"),N=t=>{var e;t.getChannelData=(e=t.getChannelData,n=>{try{return e.call(t,n)}catch(t){if(12===t.code)throw P();throw t}})},R={numberOfChannels:1},I=-34028234663852886e22,V=-I,z=t=>o.has(t),F={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},j=t=>w(a,t),L=t=>w(u,t),q=(t,e)=>{const{activeInputs:n}=j(t);n.forEach((n=>n.forEach((([n])=>{e.includes(t)||q(n,[...e,t])}))));const s=(t=>"playbackRate"in t)(t)?[t.playbackRate]:C(t)?Array.from(t.parameters.values()):(t=>"frequency"in t&&"gain"in t)(t)?[t.Q,t.detune,t.frequency,t.gain]:(t=>"offset"in t)(t)?[t.offset]:(t=>!("frequency"in t)&&"gain"in t)(t)?[t.gain]:(t=>"detune"in t&&"frequency"in t&&!("gain"in t))(t)?[t.detune,t.frequency]:(t=>"pan"in t)(t)?[t.pan]:[];for(const t of s){const n=L(t);void 0!==n&&n.activeInputs.forEach((([t])=>q(t,e)))}z(t)&&E(t)},U=t=>{q(t.destination,[])},W=t=>"context"in t,B=t=>W(t[0]),$=(t,e,n,s)=>{for(const e of t)if(n(e)){if(s)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},H=(t,e,[n,s],i)=>{$(t,[e,n,s],(t=>t[0]===e&&t[1]===n),i)},Q=(t,[e,n,s],i)=>{const r=t.get(e);void 0===r?t.set(e,new Set([[n,s]])):$(r,[n,s],(t=>t[0]===n),i)},Y=t=>"inputs"in t,X=(t,e,n,s)=>{if(Y(e)){const i=e.inputs[s];return t.connect(i,n,0),[i,n,0]}return t.connect(e,n,s),[e,n,s]},G=(t,e,n)=>{for(const s of t)if(s[0]===e&&s[1]===n)return t.delete(s),s;return null},Z=(t,e)=>{if(!S(t).delete(e))throw new Error("Missing the expected event listener.")},K=(t,e,n)=>{const s=w(t,e),i=x(s,(t=>t[0]===n));return 0===s.size&&t.delete(e),i},J=(t,e,n,s)=>{Y(e)?t.disconnect(e.inputs[s],n,0):t.disconnect(e,n,s)},tt=t=>w(l,t),et=t=>w(c,t),nt=t=>p.has(t),st=t=>!o.has(t),it=(t,e)=>new Promise((n=>{if(null!==e)n(!0);else{const e=t.createScriptProcessor(256,1,1),s=t.createGain(),i=t.createBuffer(1,2,44100),r=i.getChannelData(0);r[0]=1,r[1]=1;const o=t.createBufferSource();o.buffer=i,o.loop=!0,o.connect(e).connect(t.destination),o.connect(s),o.disconnect(s),e.onaudioprocess=s=>{const i=s.inputBuffer.getChannelData(0);Array.prototype.some.call(i,(t=>1===t))?n(!0):n(!1),o.stop(),e.onaudioprocess=null,o.disconnect(e),e.disconnect(t.destination)},o.start()}})),rt=(t,e)=>{const n=new Map;for(const e of t)for(const t of e){const e=n.get(t);n.set(t,void 0===e?1:e+1)}n.forEach(((t,n)=>e(n,t)))},ot=t=>"context"in t,at=t=>{const e=new Map;t.connect=(t=>(n,s=0,i=0)=>{const r=ot(n)?t(n,s,i):t(n,s),o=e.get(n);return void 0===o?e.set(n,[{input:i,output:s}]):o.every((t=>t.input!==i||t.output!==s))&&o.push({input:i,output:s}),r})(t.connect.bind(t)),t.disconnect=(n=>(s,i,r)=>{if(n.apply(t),void 0===s)e.clear();else if("number"==typeof s)for(const[t,n]of e){const i=n.filter((t=>t.output!==s));0===i.length?e.delete(t):e.set(t,i)}else if(e.has(s))if(void 0===i)e.delete(s);else{const t=e.get(s);if(void 0!==t){const n=t.filter((t=>t.output!==i&&(t.input!==r||void 0===r)));0===n.length?e.delete(s):e.set(s,n)}}for(const[n,s]of e)s.forEach((e=>{ot(n)?t.connect(n,e.output,e.input):t.connect(n,e.output)}))})(t.disconnect)},lt=(t,e,n,s,i)=>{const[r,o]=((t,e,n,s)=>{const{activeInputs:i,passiveInputs:r}=j(e),o=G(i[s],t,n);return null===o?[k(r,t,n,s)[2],!1]:[o[2],!0]})(t,n,s,i);if(null!==r&&(Z(t,r),!o||e||nt(t)||J(tt(t),tt(n),s,i)),z(n)){const{activeInputs:t}=j(n);A(n,t)}},ut=(t,e,n,s)=>{const[i,r]=((t,e,n)=>{const{activeInputs:s,passiveInputs:i}=L(e),r=G(s,t,n);return null===r?[K(i,t,n)[1],!1]:[r[2],!0]})(t,n,s);null!==i&&(Z(t,i),!r||e||nt(t)||tt(t).disconnect(et(n),s))};class ct{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,e=null){return this._map.forEach(((n,s)=>t.call(e,n,s,this)))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const ht={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function dt(t,e,n,s,i){if("function"==typeof t.copyFromChannel)0===e[n].byteLength&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],s,i);else{const r=t.getChannelData(s);if(0===e[n].byteLength)e[n]=r.slice(i,i+128);else{const t=new Float32Array(r.buffer,i*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(t)}}}const pt=(t,e,n,s,i)=>{"function"==typeof t.copyToChannel?0!==e[n].byteLength&&t.copyToChannel(e[n],s,i):0!==e[n].byteLength&&t.getChannelData(s).set(e[n],i)},ft=(t,e)=>{const n=[];for(let s=0;s<t;s+=1){const t=[],i="number"==typeof e?e:e[s];for(let e=0;e<i;e+=1)t.push(new Float32Array(128));n.push(t)}return n},mt=async(t,e,n,s,i,r,o)=>{const a=null===e?128*Math.ceil(t.context.length/128):e.length,l=s.channelCount*s.numberOfInputs,u=i.reduce(((t,e)=>t+e),0),c=0===u?null:n.createBuffer(u,a,n.sampleRate);if(void 0===r)throw new Error("Missing the processor constructor.");const h=j(t),d=await((t,e)=>{const n=w(m,t),s=tt(e);return w(n,s)})(n,t),p=ft(s.numberOfInputs,s.channelCount),f=ft(s.numberOfOutputs,i),g=Array.from(t.parameters.keys()).reduce(((t,e)=>({...t,[e]:new Float32Array(128)})),{});for(let u=0;u<a;u+=128){if(s.numberOfInputs>0&&null!==e)for(let t=0;t<s.numberOfInputs;t+=1)for(let n=0;n<s.channelCount;n+=1)dt(e,p[t],n,n,u);void 0!==r.parameterDescriptors&&null!==e&&r.parameterDescriptors.forEach((({name:t},n)=>{dt(e,g,t,l+n,u)}));for(let t=0;t<s.numberOfInputs;t+=1)for(let e=0;e<i[t];e+=1)0===f[t][e].byteLength&&(f[t][e]=new Float32Array(128));try{const t=p.map(((t,e)=>0===h.activeInputs[e].size?[]:t)),e=o(u/n.sampleRate,n.sampleRate,(()=>d.process(t,f,g)));if(null!==c)for(let t=0,e=0;t<s.numberOfOutputs;t+=1){for(let n=0;n<i[t];n+=1)pt(c,f[t],n,e+n,u);e+=i[t]}if(!e)break}catch(e){t.dispatchEvent(new ErrorEvent("processorerror",{colno:e.colno,filename:e.filename,lineno:e.lineno,message:e.message}));break}}return c},gt={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},vt={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},yt={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},_t={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},bt={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},wt=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise((s=>{const i=()=>{n.onmessage=null,e.close(),n.close(),s()};n.onmessage=()=>i();try{e.postMessage(t,[t])}catch{}finally{i()}}))},xt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},kt=(t,e,n)=>{const s=e[n];if(void 0===s)throw t();return s},St={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Tt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Ct=()=>new DOMException("","InvalidStateError"),Et=()=>new DOMException("","InvalidAccessError"),At={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Ot=(t,e,n,s,i,r,o,a,l,u,c)=>{const h=u.length;let d=a;for(let a=0;a<h;a+=1){let h=n[0]*u[a];for(let e=1;e<i;e+=1){const s=d-e&l-1;h+=n[e]*r[s],h-=t[e]*o[s]}for(let t=i;t<s;t+=1)h+=n[t]*r[d-t&l-1];for(let n=i;n<e;n+=1)h-=t[n]*o[d-n&l-1];r[d]=u[a],o[d]=h,d=d+1&l-1,c[a]=h}return d},Mt={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Dt=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,(()=>{}));return void 0!==n&&(n.catch((()=>{})),!0)}catch{}return!1},Pt=(t,e,n)=>{const s=e[n];void 0!==s&&s!==t[n]&&(t[n]=s)},Nt=(t,e)=>{Pt(t,e,"channelCount"),Pt(t,e,"channelCountMode"),Pt(t,e,"channelInterpretation")},Rt=t=>"function"==typeof t.getFloatTimeDomainData,It=(t,e,n)=>{const s=e[n];void 0!==s&&s!==t[n].value&&(t[n].value=s)},Vt=t=>{t.start=(e=>(n=0,s=0,i)=>{if("number"==typeof i&&i<0||s<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,s,i)})(t.start)},zt=t=>{var e;t.stop=(e=t.stop,(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})},Ft=(t,e)=>null===t?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),jt=(t,e)=>{const n=t.createBiquadFilter();return Nt(n,e),It(n,e,"Q"),It(n,e,"detune"),It(n,e,"frequency"),It(n,e,"gain"),Pt(n,e,"type"),n},Lt=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return Nt(n,e),(t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw Ct()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:t=>{if("explicit"!==t)throw Ct()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:t=>{if("discrete"!==t)throw Ct()}})})(n),n},qt=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),Ut=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return Nt(n,e),It(n,e,"delayTime"),n},Wt=(t,e)=>{const n=t.createGain();return Nt(n,e),It(n,e,"gain"),n};function Bt(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function $t(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)i=e,n=[(s=n)[0]*i[0]-s[1]*i[1],s[0]*i[1]+s[1]*i[0]],n[0]+=t[r];var s,i;return n}const Ht=(t,e,n,s)=>t.createScriptProcessor(e,n,s),Qt=()=>new DOMException("","NotSupportedError"),Yt={numberOfChannels:1},Xt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Gt={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Zt={disableNormalization:!1},Kt={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Jt=()=>new DOMException("","UnknownError"),te={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},ee=(t,e,n)=>void 0===t.copyFromChannel?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),ne=t=>{if(null===t)return!1;const e=t.length;return e%2!=0?0!==t[Math.floor(e/2)]:t[e/2-1]+t[e/2]!==0},se=(t,e,n,s)=>{let i=t;for(;!i.hasOwnProperty(e);)i=Object.getPrototypeOf(i);const{get:r,set:o}=Object.getOwnPropertyDescriptor(i,e);Object.defineProperty(t,e,{get:n(r),set:s(o)})},ie=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(s){if(9!==s.code)throw s;ie(t,e,n+1e-7)}},re=t=>{const e=t.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},oe=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},ae=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},le=(t,e)=>{const n=e.createGain();t.connect(n);const s=(e=>()=>{e.call(t,n),t.removeEventListener("ended",s)})(t.disconnect);t.addEventListener("ended",s),qt(t,n),t.stop=(e=>{let s=!1;return(i=0)=>{if(s)try{e.call(t,i)}catch{n.gain.setValueAtTime(0,i)}else e.call(t,i),s=!0}})(t.stop)},ue=(t,e)=>n=>{const s={value:t};return Object.defineProperties(n,{currentTarget:s,target:s}),"function"==typeof e?e.call(t,n):e.handleEvent.call(t,n)},ce=(t=>(e,n,[s,i,r],o)=>{t(e[i],[n,s,r],(t=>t[0]===n&&t[1]===s),o)})($),he=(t=>(e,n,[s,i,r],o)=>{const a=e.get(s);void 0===a?e.set(s,new Set([[i,n,r]])):t(a,[i,n,r],(t=>t[0]===i&&t[1]===n),o)})($),de=(t=>(e,n,s,i)=>t(e[i],(t=>t[0]===n&&t[1]===s)))(x),pe=new WeakMap,fe=(t=>e=>{var n;return null!==(n=t.get(e))&&void 0!==n?n:0})(pe),me=(ge=new Map,ve=new WeakMap,(t,e)=>{const n=ve.get(t);if(void 0!==n)return n;const s=ge.get(t);if(void 0!==s)return s;try{const n=e();return n instanceof Promise?(ge.set(t,n),n.catch((()=>!1)).then((e=>(ge.delete(t),ve.set(t,e),e)))):(ve.set(t,n),n)}catch{return ve.set(t,!1),!1}});var ge,ve;const ye="undefined"==typeof window?null:window,_e=((t,e)=>(n,s)=>{const i=n.createAnalyser();if(Nt(i,s),!(s.maxDecibels>s.minDecibels))throw e();return Pt(i,s,"fftSize"),Pt(i,s,"maxDecibels"),Pt(i,s,"minDecibels"),Pt(i,s,"smoothingTimeConstant"),t(Rt,(()=>Rt(i)))||(t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const s=Math.max(n.length,t.fftSize);for(let t=0;t<s;t+=1)e[t]=.0078125*(n[t]-128);return e}})(i),i})(me,P),be=(t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer})(j),we=((t,e,n)=>async(s,i,r)=>{const o=t(s);await Promise.all(o.activeInputs.map(((t,o)=>Array.from(t).map((async([t,a])=>{const l=e(t),u=await l.render(t,i),c=s.context.destination;n(t)||s===c&&n(s)||u.connect(r,a,o)})))).reduce(((t,e)=>[...t,...e]),[]))})(j,be,nt),xe=((t,e,n)=>()=>{const s=new WeakMap;return{render(i,r){const o=s.get(r);return void 0!==o?Promise.resolve(o):(async(i,r)=>{let o=e(i);if(!M(o,r)){const e={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,fftSize:o.fftSize,maxDecibels:o.maxDecibels,minDecibels:o.minDecibels,smoothingTimeConstant:o.smoothingTimeConstant};o=t(r,e)}return s.set(r,o),await n(i,r,o),o})(i,r)}}})(_e,tt,we),ke=(Se=h,t=>{const e=Se.get(t);if(void 0===e)throw Ct();return e});var Se;const Te=(t=>null===t?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null)(ye),Ce=(t=>e=>null!==t&&e instanceof t)(Te),Ee=new WeakMap,Ae=(t=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(e,n,s){if(null!==n){let i=this._listeners.get(n);void 0===i&&(i=t(this,n),"function"==typeof n&&this._listeners.set(n,i)),this._nativeEventTarget.addEventListener(e,i,s)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,e,n){const s=null===e?void 0:this._listeners.get(e);this._nativeEventTarget.removeEventListener(t,void 0===s?null:s,n)}})(ue),Oe=(t=>null===t?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null)(ye),Me=(t=>e=>null!==t&&e instanceof t)(Oe),De=(t=>e=>null!==t&&"function"==typeof t.AudioNode&&e instanceof t.AudioNode)(ye),Pe=(t=>e=>null!==t&&"function"==typeof t.AudioParam&&e instanceof t.AudioParam)(ye),Ne=(t=>null===t?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null)(ye),Re=((t,e,n,s,i,r,o,a,u,c,h,p,f,m,g,v)=>class extends c{constructor(e,s,i,r){super(i),this._context=e,this._nativeAudioNode=i;const o=h(e);p(o)&&!0!==n(it,(()=>it(o,v)))&&at(i),l.set(this,i),d.set(this,new Set),"closed"!==e.state&&s&&T(this),t(this,r,i)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(t){this._nativeAudioNode.channelCount=t}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(t){this._nativeAudioNode.channelCountMode=t}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(t){this._nativeAudioNode.channelInterpretation=t}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(t,n=0,a=0){if(n<0||n>=this._nativeAudioNode.numberOfOutputs)throw i();const l=h(this._context),c=g(l);if(f(t)||m(t))throw r();if(W(t)){const i=tt(t);try{const e=X(this._nativeAudioNode,i,n,a),s=st(this);(c||s)&&this._nativeAudioNode.disconnect(...e),"closed"!==this.context.state&&!s&&st(t)&&T(t)}catch(t){if(12===t.code)throw r();throw t}if(e(this,t,n,a,c)){const e=u([this],t);rt(e,s(c))}return t}const d=et(t);if("playbackRate"===d.name&&1024===d.maxValue)throw o();try{this._nativeAudioNode.connect(d,n),(c||st(this))&&this._nativeAudioNode.disconnect(d,n)}catch(t){if(12===t.code)throw r();throw t}if(((t,e,n,s)=>{const{activeInputs:i,passiveInputs:r}=L(e),{outputs:o}=j(t),a=S(t),l=o=>{const a=tt(t),l=et(e);if(o){const e=K(r,t,n);H(i,t,e,!1),s||nt(t)||a.connect(l,n)}else{const e=((t,e,n)=>x(t,(t=>t[0]===e&&t[1]===n)))(i,t,n);Q(r,e,!1),s||nt(t)||a.disconnect(l,n)}};return!!$(o,[e,n],(t=>t[0]===e&&t[1]===n),!0)&&(a.add(l),z(t)?H(i,t,[n,l],!0):Q(r,[t,n,l],!0),!0)})(this,t,n,c)){const e=u([this],t);rt(e,s(c))}}disconnect(t,e,n){let s;const o=h(this._context),l=g(o);if(void 0===t)s=((t,e)=>{const n=j(t),s=[];for(const i of n.outputs)B(i)?lt(t,e,...i):ut(t,e,...i),s.push(i[0]);return n.outputs.clear(),s})(this,l);else if("number"==typeof t){if(t<0||t>=this.numberOfOutputs)throw i();s=((t,e,n)=>{const s=j(t),i=[];for(const r of s.outputs)r[1]===n&&(B(r)?lt(t,e,...r):ut(t,e,...r),i.push(r[0]),s.outputs.delete(r));return i})(this,l,t)}else{if(void 0!==e&&(e<0||e>=this.numberOfOutputs))throw i();if(W(t)&&void 0!==n&&(n<0||n>=t.numberOfInputs))throw i();if(s=((t,e,n,s,i)=>{const r=j(t);return Array.from(r.outputs).filter((t=>!(t[0]!==n||void 0!==s&&t[1]!==s||void 0!==i&&t[2]!==i))).map((n=>(B(n)?lt(t,e,...n):ut(t,e,...n),r.outputs.delete(n),n[0])))})(this,l,t,e,n),0===s.length)throw r()}for(const t of s){const e=u([this],t);rt(e,a)}}})((Ie=a,(t,e,n)=>{const s=[];for(let t=0;t<n.numberOfInputs;t+=1)s.push(new Set);Ie.set(t,{activeInputs:s,outputs:new Set,passiveInputs:new WeakMap,renderer:e})}),((t,e,n,s,i,r,o,a,l,u,c,h,d)=>{const p=new WeakMap;return(f,m,g,v,y)=>{const{activeInputs:_,passiveInputs:b}=r(m),{outputs:w}=r(f),x=a(f),S=r=>{const a=l(m),u=l(f);if(r){const e=k(b,f,g,v);t(_,f,e,!1),y||h(f)||n(u,a,g,v),d(m)&&T(m)}else{const t=s(_,f,g,v);e(b,v,t,!1),y||h(f)||i(u,a,g,v);const n=o(m);if(0===n)c(m)&&A(m,_);else{const t=p.get(m);void 0!==t&&clearTimeout(t),p.set(m,setTimeout((()=>{c(m)&&A(m,_)}),1e3*n))}}};return!!u(w,[m,g,v],(t=>t[0]===m&&t[1]===g&&t[2]===v),!0)&&(x.add(S),c(f)?t(_,f,[g,v,S],!0):e(b,v,[f,g,S],!0),!0)}})(ce,he,X,de,J,j,fe,S,tt,$,z,nt,st),me,((t,e,n,s,i,r)=>o=>(a,l)=>{const u=t.get(a);if(void 0===u){if(!o&&r(a)){const t=s(a),{outputs:r}=n(a);for(const n of r)if(B(n)){const i=s(n[0]);e(t,i,n[1],n[2])}else{const e=i(n[0]);t.disconnect(e,n[1])}}t.set(a,l)}else t.set(a,u+l)})(p,J,j,tt,et,z),P,Et,Qt,((t,e,n,s,i,r,o,a)=>(l,u)=>{const c=e.get(l);if(void 0===c)throw new Error("Missing the expected cycle count.");const h=r(l.context),d=a(h);if(c===u){if(e.delete(l),!d&&o(l)){const e=s(l),{outputs:r}=n(l);for(const n of r)if(B(n)){const i=s(n[0]);t(e,i,n[1],n[2])}else{const t=i(n[0]);e.connect(t,n[1])}}}else e.set(l,c-u)})(X,p,j,tt,et,ke,z,Ce),((t,e,n)=>function s(i,r){const o=W(r)?r:n(t,r);if((t=>"delayTime"in t)(o))return[];if(i[0]===o)return[i];if(i.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map((t=>s([...i,o],t[0]))).reduce(((t,e)=>t.concat(e)),[])})(Ee,j,w),Ae,ke,Me,De,Pe,Ce,Ne);var Ie;const Ve=((t,e,n,s,i,r)=>class extends t{constructor(t,n){const o=i(t),a={...O,...n},l=s(o,a);super(t,!1,l,r(o)?e():null),this._nativeAnalyserNode=l}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(t){this._nativeAnalyserNode.fftSize=t}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(t){const e=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=t,!(t>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=e,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(t){const e=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=t,!(this._nativeAnalyserNode.maxDecibels>t))throw this._nativeAnalyserNode.minDecibels=e,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(t){this._nativeAnalyserNode.smoothingTimeConstant=t}getByteFrequencyData(t){this._nativeAnalyserNode.getByteFrequencyData(t)}getByteTimeDomainData(t){this._nativeAnalyserNode.getByteTimeDomainData(t)}getFloatFrequencyData(t){this._nativeAnalyserNode.getFloatFrequencyData(t)}getFloatTimeDomainData(t){this._nativeAnalyserNode.getFloatTimeDomainData(t)}})(Re,xe,P,_e,ke,Ce),ze=new WeakSet,Fe=(t=>null===t?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null)(ye),je=(Le=new Uint32Array(1),t=>(Le[0]=t,Le[0]));var Le;const qe=((t,e)=>n=>{n.copyFromChannel=(s,i,r=0)=>{const o=t(r),a=t(i);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),c=s.length;for(let t=o<0?-o:0;t+o<l&&t<c;t+=1)s[t]=u[t+o]},n.copyToChannel=(s,i,r=0)=>{const o=t(r),a=t(i);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),c=s.length;for(let t=o<0?-o:0;t+o<l&&t<c;t+=1)u[t+o]=s[t]}})(je,P),Ue=(t=>e=>{e.copyFromChannel=(n=>(s,i,r=0)=>{const o=t(r),a=t(i);if(o<e.length)return n.call(e,s,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(s,i,r=0)=>{const o=t(r),a=t(i);if(o<e.length)return n.call(e,s,a,o)})(e.copyToChannel)})(je),We=((t,e,n,s,i,r,o,a)=>{let l=null;return class u{constructor(u){if(null===i)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:c,numberOfChannels:h,sampleRate:d}={...R,...u};null===l&&(l=new i(1,1,44100));const p=null!==s&&e(r,r)?new s({length:c,numberOfChannels:h,sampleRate:d}):l.createBuffer(h,c,d);if(0===p.numberOfChannels)throw n();return"function"!=typeof p.copyFromChannel?(o(p),N(p)):e(D,(()=>D(p)))||a(p),t.add(p),p}static[Symbol.hasInstance](e){return null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===u.prototype||t.has(e)}}})(ze,me,Qt,Fe,Te,(t=>()=>{if(null===t)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0})(Fe),qe,Ue),Be=(t=>(e,n)=>{const s=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(s).connect(e.destination);const i=()=>{n.removeEventListener("ended",i),n.disconnect(s),s.disconnect()};n.addEventListener("ended",i)})(Wt),$e=((t,e,n)=>async(s,i,r)=>{const o=e(s);await Promise.all(Array.from(o.activeInputs).map((async([e,s])=>{const o=t(e),a=await o.render(e,i);n(e)||a.connect(r,s)})))})(be,L,nt),He=(t=>(e,n,s)=>t(n,e,s))($e),Qe=((t,e,n,s,i,r,o,a,l,u,c)=>(l,h)=>{const d=l.createBufferSource();return Nt(d,h),It(d,h,"playbackRate"),Pt(d,h,"buffer"),Pt(d,h,"loop"),Pt(d,h,"loopEnd"),Pt(d,h,"loopStart"),e(n,(()=>n(l)))||(t=>{t.start=(e=>{let n=!1;return(s=0,i=0,r)=>{if(n)throw Ct();e.call(t,s,i,r),n=!0}})(t.start)})(d),e(s,(()=>s(l)))||(t=>{t.start=(e=>(n=0,s=0,i)=>{const r=t.buffer,o=null===r?s:Math.min(r.duration,s);null!==r&&o>r.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,i)})(t.start)})(d),e(i,(()=>i(l)))||u(d,l),e(r,(()=>r(l)))||Vt(d),e(o,(()=>o(l)))||c(d,l),e(a,(()=>a(l)))||zt(d),t(l,d),d})(Be,me,(t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1}),(t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0}),(t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0}),re,oe,ae,0,(t=>(e,n)=>{const s=n.createBuffer(1,1,44100);null===e.buffer&&(e.buffer=s),t(e,"buffer",(t=>()=>{const n=t.call(e);return n===s?null:n}),(t=>n=>t.call(e,null===n?s:n)))})(se),le),Ye=((t,e)=>(n,s,i)=>(t(s).replay(i),e(s,n,i)))((t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(L),$e),Xe=((t,e,n,s,i)=>()=>{const r=new WeakMap;let o=null,a=null;return{set start(t){o=t},set stop(t){a=t},render(l,u){const c=r.get(u);return void 0!==c?Promise.resolve(c):(async(l,u)=>{let c=n(l);const h=M(c,u);if(!h){const t={buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,loop:c.loop,loopEnd:c.loopEnd,loopStart:c.loopStart,playbackRate:c.playbackRate.value};c=e(u,t),null!==o&&c.start(...o),null!==a&&c.stop(a)}return r.set(u,c),h?await t(u,l.playbackRate,c.playbackRate):await s(u,l.playbackRate,c.playbackRate),await i(l,u,c),c})(l,u)}}})(He,Qe,tt,Ye,we),Ge=((t,e,n,s,i,o,a,l,u,c,h,d,p)=>(s,f,m,g=null,v=null)=>{const y=m.value,_=new r.AutomationEventList(y),b=f?(t=>({replay(e){for(const n of t)if("exponentialRampToValue"===n.type){const{endTime:t,value:s}=n;e.exponentialRampToValueAtTime(s,t)}else if("linearRampToValue"===n.type){const{endTime:t,value:s}=n;e.linearRampToValueAtTime(s,t)}else if("setTarget"===n.type){const{startTime:t,target:s,timeConstant:i}=n;e.setTargetAtTime(s,t,i)}else if("setValue"===n.type){const{startTime:t,value:s}=n;e.setValueAtTime(s,t)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:t,startTime:s,values:i}=n;e.setValueCurveAtTime(i,s,t)}}}}))(_):null,w={get defaultValue(){return y},get maxValue(){return null===g?m.maxValue:g},get minValue(){return null===v?m.minValue:v},get value(){return m.value},set value(t){m.value=t,w.setValueAtTime(t,s.context.currentTime)},cancelAndHoldAtTime(t){if("function"==typeof m.cancelAndHoldAtTime)null===b&&_.flush(s.context.currentTime),_.add(i(t)),m.cancelAndHoldAtTime(t);else{const e=Array.from(_).pop();null===b&&_.flush(s.context.currentTime),_.add(i(t));const n=Array.from(_).pop();m.cancelScheduledValues(t),e!==n&&void 0!==n&&("exponentialRampToValue"===n.type?m.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?m.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?m.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&m.setValueCurveAtTime(n.values,n.startTime,n.duration))}return w},cancelScheduledValues:t=>(null===b&&_.flush(s.context.currentTime),_.add(o(t)),m.cancelScheduledValues(t),w),exponentialRampToValueAtTime(t,e){if(0===t)throw new RangeError;if(!Number.isFinite(e)||e<0)throw new RangeError;const n=s.context.currentTime;return null===b&&_.flush(n),0===Array.from(_).length&&(_.add(c(y,n)),m.setValueAtTime(y,n)),_.add(a(t,e)),m.exponentialRampToValueAtTime(t,e),w},linearRampToValueAtTime(t,e){const n=s.context.currentTime;return null===b&&_.flush(n),0===Array.from(_).length&&(_.add(c(y,n)),m.setValueAtTime(y,n)),_.add(l(t,e)),m.linearRampToValueAtTime(t,e),w},setTargetAtTime:(t,e,n)=>(null===b&&_.flush(s.context.currentTime),_.add(u(t,e,n)),m.setTargetAtTime(t,e,n),w),setValueAtTime:(t,e)=>(null===b&&_.flush(s.context.currentTime),_.add(c(t,e)),m.setValueAtTime(t,e),w),setValueCurveAtTime(t,e,n){const i=t instanceof Float32Array?t:new Float32Array(t);if(null!==d&&"webkitAudioContext"===d.name){const t=e+n,r=s.context.sampleRate,o=Math.ceil(e*r),a=Math.floor(t*r),l=a-o,u=new Float32Array(l);for(let t=0;t<l;t+=1){const s=(i.length-1)/n*((o+t)/r-e),a=Math.floor(s),l=Math.ceil(s);u[t]=a===l?i[a]:(1-(s-a))*i[a]+(1-(l-s))*i[l]}null===b&&_.flush(s.context.currentTime),_.add(h(u,e,n)),m.setValueCurveAtTime(u,e,n);const c=a/r;c<t&&p(w,u[u.length-1],c),p(w,i[i.length-1],t)}else null===b&&_.flush(s.context.currentTime),_.add(h(i,e,n)),m.setValueCurveAtTime(i,e,n);return w}};return n.set(w,m),e.set(w,s),t(w,b),w})((Ze=u,(t,e)=>{Ze.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:e})}),Ee,c,0,r.createCancelAndHoldAutomationEvent,r.createCancelScheduledValuesAutomationEvent,r.createExponentialRampToValueAutomationEvent,r.createLinearRampToValueAutomationEvent,r.createSetTargetAutomationEvent,r.createSetValueAutomationEvent,r.createSetValueCurveAutomationEvent,Oe,ie);var Ze;const Ke=((t,e,n,s,i,r,o,a)=>class extends t{constructor(t,s){const a=r(t),l={...F,...s},u=i(a,l),c=o(a),h=c?e():null;super(t,!1,u,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=null!==l.buffer,this._nativeAudioBufferSourceNode=u,this._onended=null,this._playbackRate=n(this,c,u.playbackRate,V,I)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(t){if(this._nativeAudioBufferSourceNode.buffer=t,null!==t){if(this._isBufferSet)throw s();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(t){this._nativeAudioBufferSourceNode.loop=t}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(t){this._nativeAudioBufferSourceNode.loopEnd=t}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(t){this._nativeAudioBufferSourceNode.loopStart=t}get onended(){return this._onended}set onended(t){const e="function"==typeof t?a(this,t):null;this._nativeAudioBufferSourceNode.onended=e;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===e?t:n}get playbackRate(){return this._playbackRate}start(t=0,e=0,n){if(this._nativeAudioBufferSourceNode.start(t,e,n),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===n?[t,e]:[t,e,n]),"closed"!==this.context.state){T(this);const t=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",t),z(this)&&E(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeAudioBufferSourceNode.stop(t),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=t)}})(Re,Xe,Ge,Ct,Qe,ke,Ce,ue),Je=((t,e,n,s,i,r,o,a)=>class extends t{constructor(t,e){const n=r(t),s=o(n),l=i(n,e,s);super(t,!1,l,s?(t=>{const e=new WeakMap;return{render(n,s){const i=e.get(s);return void 0!==i?Promise.resolve(i):(async(n,s)=>{const i=s.destination;return e.set(s,i),await t(n,s,i),i})(n,s)}}})(a):null),this._isNodeOfNativeOfflineAudioContext=s,this._nativeAudioDestinationNode=l}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(t){if(this._isNodeOfNativeOfflineAudioContext)throw s();if(t>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=t}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(t){if(this._isNodeOfNativeOfflineAudioContext)throw s();this._nativeAudioDestinationNode.channelCountMode=t}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(Re,0,P,Ct,((t,e)=>(n,s,i)=>{const r=n.destination;if(r.channelCount!==s)try{r.channelCount=s}catch{}i&&"explicit"!==r.channelCountMode&&(r.channelCountMode="explicit"),0===r.maxChannelCount&&Object.defineProperty(r,"maxChannelCount",{value:s});const o=t(n,{channelCount:s,channelCountMode:r.channelCountMode,channelInterpretation:r.channelInterpretation,gain:1});return e(o,"channelCount",(t=>()=>t.call(o)),(t=>e=>{t.call(o,e);try{r.channelCount=e}catch(t){if(e>r.maxChannelCount)throw t}})),e(o,"channelCountMode",(t=>()=>t.call(o)),(t=>e=>{t.call(o,e),r.channelCountMode=e})),e(o,"channelInterpretation",(t=>()=>t.call(o)),(t=>e=>{t.call(o,e),r.channelInterpretation=e})),Object.defineProperty(o,"maxChannelCount",{get:()=>r.maxChannelCount}),o.connect(r),o})(Wt,se),ke,Ce,we),tn=((t,e,n,s,i)=>()=>{const r=new WeakMap;return{render(o,a){const l=r.get(a);return void 0!==l?Promise.resolve(l):(async(o,a)=>{let l=n(o);const u=M(l,a);if(!u){const t={Q:l.Q.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,detune:l.detune.value,frequency:l.frequency.value,gain:l.gain.value,type:l.type};l=e(a,t)}return r.set(a,l),u?(await t(a,o.Q,l.Q),await t(a,o.detune,l.detune),await t(a,o.frequency,l.frequency),await t(a,o.gain,l.gain)):(await s(a,o.Q,l.Q),await s(a,o.detune,l.detune),await s(a,o.frequency,l.frequency),await s(a,o.gain,l.gain)),await i(o,a,l),l})(o,a)}}})(He,jt,tt,Ye,we),en=(t=>(e,n)=>t.set(e,n))(pe),nn=((t,e,n,s,i,r,o,a)=>class extends t{constructor(t,s){const l=r(t),u={...gt,...s},c=i(l,u),h=o(l);super(t,!1,c,h?n():null),this._Q=e(this,h,c.Q,V,I),this._detune=e(this,h,c.detune,1200*Math.log2(V),-1200*Math.log2(V)),this._frequency=e(this,h,c.frequency,t.sampleRate/2,0),this._gain=e(this,h,c.gain,40*Math.log10(V),I),this._nativeBiquadFilterNode=c,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(t){this._nativeBiquadFilterNode.type=t}getFrequencyResponse(t,e,n){try{this._nativeBiquadFilterNode.getFrequencyResponse(t,e,n)}catch(t){if(11===t.code)throw s();throw t}if(t.length!==e.length||e.length!==n.length)throw s()}})(Re,Ge,tn,Et,jt,ke,Ce,en),sn=((t,e)=>(n,s,i)=>{const r=new Set;return n.connect=(i=>(o,a=0,l=0)=>{const u=0===r.size;if(e(o))return i.call(n,o,a,l),t(r,[o,a,l],(t=>t[0]===o&&t[1]===a&&t[2]===l),!0),u&&s(),o;i.call(n,o,a),t(r,[o,a],(t=>t[0]===o&&t[1]===a),!0),u&&s()})(n.connect),n.disconnect=(t=>(s,o,a)=>{const l=r.size>0;if(void 0===s)t.apply(n),r.clear();else if("number"==typeof s){t.call(n,s);for(const t of r)t[1]===s&&r.delete(t)}else{e(s)?t.call(n,s,o,a):t.call(n,s,o);for(const t of r)t[0]!==s||void 0!==o&&t[1]!==o||void 0!==a&&t[2]!==a||r.delete(t)}const u=0===r.size;l&&u&&i()})(n.disconnect),n})($,De),rn=((t,e)=>(n,s)=>{s.channelCount=1,s.channelCountMode="explicit",Object.defineProperty(s,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(s,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const i=n.createBufferSource();e(s,(()=>{const t=s.numberOfInputs;for(let e=0;e<t;e+=1)i.connect(s,0,e)}),(()=>i.disconnect(s)))})(Ct,sn),on=((t,e)=>(n,s)=>{const i=n.createChannelMerger(s.numberOfInputs);return null!==t&&"webkitAudioContext"===t.name&&e(n,i),Nt(i,s),i})(Oe,rn),an=((t,e,n)=>()=>{const s=new WeakMap;return{render(i,r){const o=s.get(r);return void 0!==o?Promise.resolve(o):(async(i,r)=>{let o=e(i);if(!M(o,r)){const e={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,numberOfInputs:o.numberOfInputs};o=t(r,e)}return s.set(r,o),await n(i,r,o),o})(i,r)}}})(on,tt,we),ln=((t,e,n,s,i)=>class extends t{constructor(t,r){const o=s(t),a={...vt,...r};super(t,!1,n(o,a),i(o)?e():null)}})(Re,an,on,ke,Ce),un=((t,e,n)=>()=>{const s=new WeakMap;return{render(i,r){const o=s.get(r);return void 0!==o?Promise.resolve(o):(async(i,r)=>{let o=e(i);if(!M(o,r)){const e={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,numberOfOutputs:o.numberOfOutputs};o=t(r,e)}return s.set(r,o),await n(i,r,o),o})(i,r)}}})(Lt,tt,we),cn=((t,e,n,s,i)=>class extends t{constructor(t,r){const o=s(t),a=(t=>({...t,channelCount:t.numberOfOutputs}))({...yt,...r});super(t,!1,n(o,a),i(o)?e():null)}})(Re,un,Lt,ke,Ce),hn=((t,e,n,s)=>(i,{offset:r,...o})=>{const a=i.createBuffer(1,2,44100),l=e(i,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n(i,{...o,gain:r}),c=a.getChannelData(0);c[0]=1,c[1]=1,l.buffer=a,l.loop=!0;const h={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(t){u.channelCount=t},get channelCountMode(){return u.channelCountMode},set channelCountMode(t){u.channelCountMode=t},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(t){u.channelInterpretation=t},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return l.onended},set onended(t){l.onended=t},addEventListener:(...t)=>l.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>l.dispatchEvent(t[0]),removeEventListener:(...t)=>l.removeEventListener(t[0],t[1],t[2]),start(t=0){l.start.call(l,t)},stop(t=0){l.stop.call(l,t)}};return t(i,l),s(qt(h,u),(()=>l.connect(u)),(()=>l.disconnect(u)))})(Be,Qe,Wt,sn),dn=((t,e,n,s,i)=>(r,o)=>{if(void 0===r.createConstantSource)return n(r,o);const a=r.createConstantSource();return Nt(a,o),It(a,o,"offset"),e(s,(()=>s(r)))||Vt(a),e(i,(()=>i(r)))||zt(a),t(r,a),a})(Be,me,hn,re,ae),pn=((t,e,n,s,i)=>()=>{const r=new WeakMap;let o=null,a=null;return{set start(t){o=t},set stop(t){a=t},render(l,u){const c=r.get(u);return void 0!==c?Promise.resolve(c):(async(l,u)=>{let c=n(l);const h=M(c,u);if(!h){const t={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,offset:c.offset.value};c=e(u,t),null!==o&&c.start(o),null!==a&&c.stop(a)}return r.set(u,c),h?await t(u,l.offset,c.offset):await s(u,l.offset,c.offset),await i(l,u,c),c})(l,u)}}})(He,dn,tt,Ye,we),fn=((t,e,n,s,i,r,o)=>class extends t{constructor(t,o){const a=i(t),l={..._t,...o},u=s(a,l),c=r(a),h=c?n():null;super(t,!1,u,h),this._constantSourceNodeRenderer=h,this._nativeConstantSourceNode=u,this._offset=e(this,c,u.offset,V,I),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(t){const e="function"==typeof t?o(this,t):null;this._nativeConstantSourceNode.onended=e;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===e?t:n}start(t=0){if(this._nativeConstantSourceNode.start(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=t),"closed"!==this.context.state){T(this);const t=()=>{this._nativeConstantSourceNode.removeEventListener("ended",t),z(this)&&E(this)};this._nativeConstantSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeConstantSourceNode.stop(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=t)}})(Re,Ge,pn,dn,ke,Ce,ue),mn=((t,e)=>(n,s)=>{const i=n.createConvolver();if(Nt(i,s),s.disableNormalization===i.normalize&&(i.normalize=!s.disableNormalization),Pt(i,s,"buffer"),s.channelCount>2)throw t();if(e(i,"channelCount",(t=>()=>t.call(i)),(e=>n=>{if(n>2)throw t();return e.call(i,n)})),"max"===s.channelCountMode)throw t();return e(i,"channelCountMode",(t=>()=>t.call(i)),(e=>n=>{if("max"===n)throw t();return e.call(i,n)})),i})(Qt,se),gn=((t,e,n)=>()=>{const s=new WeakMap;return{render(i,r){const o=s.get(r);return void 0!==o?Promise.resolve(o):(async(i,r)=>{let o=e(i);if(!M(o,r)){const e={buffer:o.buffer,channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,disableNormalization:!o.normalize};o=t(r,e)}return s.set(r,o),Y(o)?await n(i,r,o.inputs[0]):await n(i,r,o),o})(i,r)}}})(mn,tt,we),vn=((t,e,n,s,i,r)=>class extends t{constructor(t,o){const a=s(t),l={...bt,...o},u=n(a,l);super(t,!1,u,i(a)?e():null),this._isBufferNullified=!1,this._nativeConvolverNode=u,null!==l.buffer&&r(this,l.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(t){if(this._nativeConvolverNode.buffer=t,null===t&&null!==this._nativeConvolverNode.buffer){const t=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=t.createBuffer(1,1,t.sampleRate),this._isBufferNullified=!0,r(this,0)}else this._isBufferNullified=!1,r(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(t){this._nativeConvolverNode.normalize=t}})(Re,gn,mn,ke,Ce,en),yn=((t,e,n,s,i)=>r=>{const o=new WeakMap;return{render(a,l){const u=o.get(l);return void 0!==u?Promise.resolve(u):(async(a,l)=>{let u=n(a);const c=M(u,l);if(!c){const t={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,delayTime:u.delayTime.value,maxDelayTime:r};u=e(l,t)}return o.set(l,u),c?await t(l,a.delayTime,u.delayTime):await s(l,a.delayTime,u.delayTime),await i(a,l,u),u})(a,l)}}})(He,Ut,tt,Ye,we),_n=((t,e,n,s,i,r,o)=>class extends t{constructor(t,a){const l=i(t),u={...xt,...a},c=s(l,u),h=r(l);super(t,!1,c,h?n(u.maxDelayTime):null),this._delayTime=e(this,h,c.delayTime),o(this,u.maxDelayTime)}get delayTime(){return this._delayTime}})(Re,Ge,yn,Ut,ke,Ce,en),bn=(t=>(e,n)=>{const s=e.createDynamicsCompressor();if(Nt(s,n),n.channelCount>2)throw t();if("max"===n.channelCountMode)throw t();return It(s,n,"attack"),It(s,n,"knee"),It(s,n,"ratio"),It(s,n,"release"),It(s,n,"threshold"),s})(Qt),wn=((t,e,n,s,i)=>()=>{const r=new WeakMap;return{render(o,a){const l=r.get(a);return void 0!==l?Promise.resolve(l):(async(o,a)=>{let l=n(o);const u=M(l,a);if(!u){const t={attack:l.attack.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,knee:l.knee.value,ratio:l.ratio.value,release:l.release.value,threshold:l.threshold.value};l=e(a,t)}return r.set(a,l),u?(await t(a,o.attack,l.attack),await t(a,o.knee,l.knee),await t(a,o.ratio,l.ratio),await t(a,o.release,l.release),await t(a,o.threshold,l.threshold)):(await s(a,o.attack,l.attack),await s(a,o.knee,l.knee),await s(a,o.ratio,l.ratio),await s(a,o.release,l.release),await s(a,o.threshold,l.threshold)),await i(o,a,l),l})(o,a)}}})(He,bn,tt,Ye,we),xn=((t,e,n,s,i,r,o,a)=>class extends t{constructor(t,i){const l=r(t),u={...St,...i},c=s(l,u),h=o(l);super(t,!1,c,h?n():null),this._attack=e(this,h,c.attack),this._knee=e(this,h,c.knee),this._nativeDynamicsCompressorNode=c,this._ratio=e(this,h,c.ratio),this._release=e(this,h,c.release),this._threshold=e(this,h,c.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(t){const e=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=t,t>2)throw this._nativeDynamicsCompressorNode.channelCount=e,i()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(t){const e=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=t,"max"===t)throw this._nativeDynamicsCompressorNode.channelCountMode=e,i()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(Re,Ge,wn,bn,Qt,ke,Ce,en),kn=((t,e,n,s,i)=>()=>{const r=new WeakMap;return{render(o,a){const l=r.get(a);return void 0!==l?Promise.resolve(l):(async(o,a)=>{let l=n(o);const u=M(l,a);if(!u){const t={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:l.gain.value};l=e(a,t)}return r.set(a,l),u?await t(a,o.gain,l.gain):await s(a,o.gain,l.gain),await i(o,a,l),l})(o,a)}}})(He,Wt,tt,Ye,we),Sn=((t,e,n,s,i,r)=>class extends t{constructor(t,o){const a=i(t),l={...Tt,...o},u=s(a,l),c=r(a);super(t,!1,u,c?n():null),this._gain=e(this,c,u.gain,V,I)}get gain(){return this._gain}})(Re,Ge,kn,Wt,ke,Ce),Tn=((t,e,n,s)=>(i,r,{channelCount:o,channelCountMode:a,channelInterpretation:l,feedback:u,feedforward:c})=>{const h=Ft(r,i.sampleRate),d=u instanceof Float64Array?u:new Float64Array(u),p=c instanceof Float64Array?c:new Float64Array(c),f=d.length,m=p.length,g=Math.min(f,m);if(0===f||f>20)throw s();if(0===d[0])throw e();if(0===m||m>20)throw s();if(0===p[0])throw e();if(1!==d[0]){for(let t=0;t<m;t+=1)p[t]/=d[0];for(let t=1;t<f;t+=1)d[t]/=d[0]}const v=n(i,h,o,o);v.channelCount=o,v.channelCountMode=a,v.channelInterpretation=l;const y=[],_=[],b=[];for(let t=0;t<o;t+=1){y.push(0);const t=new Float32Array(32),e=new Float32Array(32);t.fill(0),e.fill(0),_.push(t),b.push(e)}v.onaudioprocess=t=>{const e=t.inputBuffer,n=t.outputBuffer,s=e.numberOfChannels;for(let t=0;t<s;t+=1){const s=e.getChannelData(t),i=n.getChannelData(t);y[t]=Ot(d,f,p,m,g,_[t],b[t],y[t],32,s,i)}};const w=i.sampleRate/2;return qt({get bufferSize(){return h},get channelCount(){return v.channelCount},set channelCount(t){v.channelCount=t},get channelCountMode(){return v.channelCountMode},set channelCountMode(t){v.channelCountMode=t},get channelInterpretation(){return v.channelInterpretation},set channelInterpretation(t){v.channelInterpretation=t},get context(){return v.context},get inputs(){return[v]},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},addEventListener:(...t)=>v.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>v.dispatchEvent(t[0]),getFrequencyResponse(e,n,s){if(e.length!==n.length||n.length!==s.length)throw t();const i=e.length;for(let t=0;t<i;t+=1){const i=-Math.PI*(e[t]/w),r=[Math.cos(i),Math.sin(i)],o=Bt($t(p,r),$t(d,r));n[t]=Math.sqrt(o[0]*o[0]+o[1]*o[1]),s[t]=Math.atan2(o[1],o[0])}},removeEventListener:(...t)=>v.removeEventListener(t[0],t[1],t[2])},v)})(Et,Ct,Ht,Qt),Cn=((t,e,n,s)=>i=>t(Dt,(()=>Dt(i)))?Promise.resolve(t(s,s)).then((t=>{if(!t){const t=n(i,512,0,1);i.oncomplete=()=>{t.onaudioprocess=null,t.disconnect()},t.onaudioprocess=()=>i.currentTime,t.connect(i.destination)}return i.startRendering()})):new Promise((t=>{const n=e(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.oncomplete=e=>{n.disconnect(),t(e.renderedBuffer)},n.connect(i.destination),i.startRendering()})))(me,Wt,Ht,((t,e)=>()=>{if(null===e)return Promise.resolve(!1);const n=new e(1,1,44100),s=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise((t=>{n.oncomplete=()=>{s.disconnect(),t(0!==n.currentTime)},n.startRendering()}))})(Wt,Te)),En=((t,e,n,s,i)=>(r,o)=>{const a=new WeakMap;let l=null;return{render(u,c){const h=a.get(c);return void 0!==h?Promise.resolve(h):(async(u,c)=>{let h=null,d=e(u);const p=M(d,c);if(void 0===c.createIIRFilter?h=t(c,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):p||(d=c.createIIRFilter(o,r)),a.set(c,null===h?d:h),null!==h){if(null===l){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new n(u.context.destination.channelCount,u.context.length,c.sampleRate);l=(async()=>(await s(u,t,t.destination),((t,e,n,s)=>{const i=n instanceof Float64Array?n:new Float64Array(n),r=s instanceof Float64Array?s:new Float64Array(s),o=i.length,a=r.length,l=Math.min(o,a);if(1!==i[0]){for(let t=0;t<o;t+=1)r[t]/=i[0];for(let t=1;t<a;t+=1)i[t]/=i[0]}const u=new Float32Array(32),c=new Float32Array(32),h=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),d=t.numberOfChannels;for(let e=0;e<d;e+=1){const n=t.getChannelData(e),s=h.getChannelData(e);u.fill(0),c.fill(0),Ot(i,o,r,a,l,u,c,0,32,n,s)}return h})(await i(t),c,r,o)))()}const t=await l;return h.buffer=t,h.start(0),h}return await s(u,c,d),d})(u,c)}}})(Qe,tt,Te,we,Cn),An=(t=>(e,n,s)=>{if(void 0===e.createIIRFilter)return t(e,n,s);const i=e.createIIRFilter(s.feedforward,s.feedback);return Nt(i,s),i})(Tn),On=((t,e,n,s,i,r)=>class extends t{constructor(t,o){const a=s(t),l=i(a),u={...At,...o},c=e(a,l?null:t.baseLatency,u);super(t,!1,c,l?n(u.feedback,u.feedforward):null),(t=>{var e;t.getFrequencyResponse=(e=t.getFrequencyResponse,(n,s,i)=>{if(n.length!==s.length||s.length!==i.length)throw Et();return e.call(t,n,s,i)})})(c),this._nativeIIRFilterNode=c,r(this,1)}getFrequencyResponse(t,e,n){return this._nativeIIRFilterNode.getFrequencyResponse(t,e,n)}})(Re,An,En,ke,Ce,en),Mn=((t,e,n,s,i,r,o,a)=>(l,u)=>{const c=u.listener,{forwardX:h,forwardY:d,forwardZ:p,positionX:f,positionY:m,positionZ:g,upX:v,upY:y,upZ:_}=void 0===c.forwardX?(()=>{const h=new Float32Array(1),d=e(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),p=o(u);let f=!1,m=[0,0,-1,0,1,0],g=[0,0,0];const v=()=>{if(f)return;f=!0;const t=s(u,256,9,0);t.onaudioprocess=({inputBuffer:t})=>{const e=[r(t,h,0),r(t,h,1),r(t,h,2),r(t,h,3),r(t,h,4),r(t,h,5)];e.some(((t,e)=>t!==m[e]))&&(c.setOrientation(...e),m=e);const n=[r(t,h,6),r(t,h,7),r(t,h,8)];n.some(((t,e)=>t!==g[e]))&&(c.setPosition(...n),g=n)},d.connect(t)},y=t=>e=>{e!==m[t]&&(m[t]=e,c.setOrientation(...m))},_=t=>e=>{e!==g[t]&&(g[t]=e,c.setPosition(...g))},b=(e,s,r)=>{const o=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:s});o.connect(d,0,e),o.start(),Object.defineProperty(o.offset,"defaultValue",{get:()=>s});const c=t({context:l},p,o.offset,V,I);var h,f,m,g,y,_,b;return a(c,"value",(t=>()=>t.call(c)),(t=>e=>{try{t.call(c,e)}catch(t){if(9!==t.code)throw t}v(),p&&r(e)})),c.cancelAndHoldAtTime=(h=c.cancelAndHoldAtTime,p?()=>{throw i()}:(...t)=>{const e=h.apply(c,t);return v(),e}),c.cancelScheduledValues=(f=c.cancelScheduledValues,p?()=>{throw i()}:(...t)=>{const e=f.apply(c,t);return v(),e}),c.exponentialRampToValueAtTime=(m=c.exponentialRampToValueAtTime,p?()=>{throw i()}:(...t)=>{const e=m.apply(c,t);return v(),e}),c.linearRampToValueAtTime=(g=c.linearRampToValueAtTime,p?()=>{throw i()}:(...t)=>{const e=g.apply(c,t);return v(),e}),c.setTargetAtTime=(y=c.setTargetAtTime,p?()=>{throw i()}:(...t)=>{const e=y.apply(c,t);return v(),e}),c.setValueAtTime=(_=c.setValueAtTime,p?()=>{throw i()}:(...t)=>{const e=_.apply(c,t);return v(),e}),c.setValueCurveAtTime=(b=c.setValueCurveAtTime,p?()=>{throw i()}:(...t)=>{const e=b.apply(c,t);return v(),e}),c};return{forwardX:b(0,0,y(0)),forwardY:b(1,0,y(1)),forwardZ:b(2,-1,y(2)),positionX:b(6,0,_(0)),positionY:b(7,0,_(1)),positionZ:b(8,0,_(2)),upX:b(3,0,y(3)),upY:b(4,1,y(4)),upZ:b(5,0,y(5))}})():c;return{get forwardX(){return h},get forwardY(){return d},get forwardZ(){return p},get positionX(){return f},get positionY(){return m},get positionZ(){return g},get upX(){return v},get upY(){return y},get upZ(){return _}}})(Ge,on,dn,Ht,Qt,ee,Ce,se),Dn=new WeakMap,Pn=((t,e,n,s,i,r)=>class extends n{constructor(n,r){super(n),this._nativeContext=n,h.set(this,n),s(n)&&i.set(n,new Set),this._destination=new t(this,r),this._listener=e(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(t){const e="function"==typeof t?r(this,t):null;this._nativeContext.onstatechange=e;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===e?t:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(Je,Mn,Ae,Ce,Dn,ue),Nn=((t,e,n,s,i,r)=>(o,a)=>{const l=o.createOscillator();return Nt(l,a),It(l,a,"detune"),It(l,a,"frequency"),void 0!==a.periodicWave?l.setPeriodicWave(a.periodicWave):Pt(l,a,"type"),e(n,(()=>n(o)))||Vt(l),e(s,(()=>s(o)))||r(l,o),e(i,(()=>i(o)))||zt(l),t(o,l),l})(Be,me,re,oe,ae,le),Rn=((t,e,n,s,i)=>()=>{const r=new WeakMap;let o=null,a=null,l=null;return{set periodicWave(t){o=t},set start(t){a=t},set stop(t){l=t},render(u,c){const h=r.get(c);return void 0!==h?Promise.resolve(h):(async(u,c)=>{let h=n(u);const d=M(h,c);if(!d){const t={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,periodicWave:null===o?void 0:o,type:h.type};h=e(c,t),null!==a&&h.start(a),null!==l&&h.stop(l)}return r.set(c,h),d?(await t(c,u.detune,h.detune),await t(c,u.frequency,h.frequency)):(await s(c,u.detune,h.detune),await s(c,u.frequency,h.frequency)),await i(u,c,h),h})(u,c)}}})(He,Nn,tt,Ye,we),In=((t,e,n,s,i,r,o)=>class extends t{constructor(t,o){const a=i(t),l={...Xt,...o},u=n(a,l),c=r(a),h=c?s():null,d=t.sampleRate/2;super(t,!1,u,h),this._detune=e(this,c,u.detune,153600,-153600),this._frequency=e(this,c,u.frequency,d,-d),this._nativeOscillatorNode=u,this._onended=null,this._oscillatorNodeRenderer=h,null!==this._oscillatorNodeRenderer&&void 0!==l.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=l.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(t){const e="function"==typeof t?o(this,t):null;this._nativeOscillatorNode.onended=e;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===e?t:n}get type(){return this._nativeOscillatorNode.type}set type(t){this._nativeOscillatorNode.type=t,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(t){this._nativeOscillatorNode.setPeriodicWave(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=t)}start(t=0){if(this._nativeOscillatorNode.start(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=t),"closed"!==this.context.state){T(this);const t=()=>{this._nativeOscillatorNode.removeEventListener("ended",t),z(this)&&E(this)};this._nativeOscillatorNode.addEventListener("ended",t)}}stop(t=0){this._nativeOscillatorNode.stop(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=t)}})(Re,Ge,Nn,Rn,ke,Ce,ue),Vn=(t=>(e,n)=>{const s=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),i=e.createBuffer(1,2,44100);return s.buffer=i,s.loop=!0,s.connect(n),s.start(),()=>{s.stop(),s.disconnect(n)}})(Qe),zn=((t,e,n,s,i)=>(r,{curve:o,oversample:a,...l})=>{const u=r.createWaveShaper(),c=r.createWaveShaper();Nt(u,l),Nt(c,l);const h=n(r,{...l,gain:1}),d=n(r,{...l,gain:-1}),p=n(r,{...l,gain:1}),f=n(r,{...l,gain:-1});let m=null,g=!1,v=null;const y={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(t){h.channelCount=t,d.channelCount=t,u.channelCount=t,p.channelCount=t,c.channelCount=t,f.channelCount=t},get channelCountMode(){return u.channelCountMode},set channelCountMode(t){h.channelCountMode=t,d.channelCountMode=t,u.channelCountMode=t,p.channelCountMode=t,c.channelCountMode=t,f.channelCountMode=t},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(t){h.channelInterpretation=t,d.channelInterpretation=t,u.channelInterpretation=t,p.channelInterpretation=t,c.channelInterpretation=t,f.channelInterpretation=t},get context(){return u.context},get curve(){return v},set curve(n){if(null!==n&&n.length<2)throw e();if(null===n)u.curve=n,c.curve=n;else{const t=n.length,e=new Float32Array(t+2-t%2),s=new Float32Array(t+2-t%2);e[0]=n[0],s[0]=-n[t-1];const i=Math.ceil((t+1)/2),r=(t+1)/2-1;for(let o=1;o<i;o+=1){const a=o/i*r,l=Math.floor(a),u=Math.ceil(a);e[o]=l===u?n[l]:(1-(a-l))*n[l]+(1-(u-a))*n[u],s[o]=l===u?-n[t-1-l]:-(1-(a-l))*n[t-1-l]-(1-(u-a))*n[t-1-u]}e[i]=t%2==1?n[i-1]:(n[i-2]+n[i-1])/2,u.curve=e,c.curve=s}v=n,g&&(s(v)&&null===m?m=t(r,h):null!==m&&(m(),m=null))},get inputs(){return[h]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get oversample(){return u.oversample},set oversample(t){u.oversample=t,c.oversample=t},addEventListener:(...t)=>h.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>h.dispatchEvent(t[0]),removeEventListener:(...t)=>h.removeEventListener(t[0],t[1],t[2])};return null!==o&&(y.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==y.oversample&&(y.oversample=a),i(qt(y,p),(()=>{h.connect(u).connect(p),h.connect(d).connect(c).connect(f).connect(p),g=!0,s(v)&&(m=t(r,h))}),(()=>{h.disconnect(u),u.disconnect(p),h.disconnect(d),d.disconnect(c),c.disconnect(f),f.disconnect(p),g=!1,null!==m&&(m(),m=null)}))})(Vn,Ct,Wt,ne,sn),Fn=((t,e,n,s,i,r,o)=>(a,l)=>{const u=a.createWaveShaper();if(null!==r&&"webkitAudioContext"===r.name&&void 0===a.createGain().gain.automationRate)return n(a,l);Nt(u,l);const c=null===l.curve||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(null!==c&&c.length<2)throw e();Pt(u,{curve:c},"curve"),Pt(u,l,"oversample");let h=null,d=!1;return o(u,"curve",(t=>()=>t.call(u)),(e=>n=>(e.call(u,n),d&&(s(n)&&null===h?h=t(a,u):s(n)||null===h||(h(),h=null)),n))),i(u,(()=>{d=!0,s(u.curve)&&(h=t(a,u))}),(()=>{d=!1,null!==h&&(h(),h=null)}))})(Vn,Ct,zn,ne,sn,Oe,se),jn=((t,e,n,s,i,r,o,a,l,u)=>(c,{coneInnerAngle:h,coneOuterAngle:d,coneOuterGain:p,distanceModel:f,maxDistance:m,orientationX:g,orientationY:v,orientationZ:y,panningModel:_,positionX:b,positionY:w,positionZ:x,refDistance:k,rolloffFactor:S,...T})=>{const C=c.createPanner();if(T.channelCount>2)throw o();if("max"===T.channelCountMode)throw o();Nt(C,T);const E={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},A=n(c,{...E,channelInterpretation:"speakers",numberOfInputs:6}),O=s(c,{...T,gain:1}),M=s(c,{...E,gain:1}),D=s(c,{...E,gain:0}),P=s(c,{...E,gain:0}),N=s(c,{...E,gain:0}),R=s(c,{...E,gain:0}),I=s(c,{...E,gain:0}),V=i(c,256,6,1),z=r(c,{...E,curve:new Float32Array([1,1]),oversample:"none"});let F=[g,v,y],j=[b,w,x];const L=new Float32Array(1);V.onaudioprocess=({inputBuffer:t})=>{const e=[l(t,L,0),l(t,L,1),l(t,L,2)];e.some(((t,e)=>t!==F[e]))&&(C.setOrientation(...e),F=e);const n=[l(t,L,3),l(t,L,4),l(t,L,5)];n.some(((t,e)=>t!==j[e]))&&(C.setPosition(...n),j=n)},Object.defineProperty(D.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"defaultValue",{get:()=>0}),Object.defineProperty(N.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(I.gain,"defaultValue",{get:()=>0});const q={get bufferSize(){},get channelCount(){return C.channelCount},set channelCount(t){if(t>2)throw o();O.channelCount=t,C.channelCount=t},get channelCountMode(){return C.channelCountMode},set channelCountMode(t){if("max"===t)throw o();O.channelCountMode=t,C.channelCountMode=t},get channelInterpretation(){return C.channelInterpretation},set channelInterpretation(t){O.channelInterpretation=t,C.channelInterpretation=t},get coneInnerAngle(){return C.coneInnerAngle},set coneInnerAngle(t){C.coneInnerAngle=t},get coneOuterAngle(){return C.coneOuterAngle},set coneOuterAngle(t){C.coneOuterAngle=t},get coneOuterGain(){return C.coneOuterGain},set coneOuterGain(t){if(t<0||t>1)throw e();C.coneOuterGain=t},get context(){return C.context},get distanceModel(){return C.distanceModel},set distanceModel(t){C.distanceModel=t},get inputs(){return[O]},get maxDistance(){return C.maxDistance},set maxDistance(t){if(t<0)throw new RangeError;C.maxDistance=t},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},get orientationX(){return M.gain},get orientationY(){return D.gain},get orientationZ(){return P.gain},get panningModel(){return C.panningModel},set panningModel(t){C.panningModel=t},get positionX(){return N.gain},get positionY(){return R.gain},get positionZ(){return I.gain},get refDistance(){return C.refDistance},set refDistance(t){if(t<0)throw new RangeError;C.refDistance=t},get rolloffFactor(){return C.rolloffFactor},set rolloffFactor(t){if(t<0)throw new RangeError;C.rolloffFactor=t},addEventListener:(...t)=>O.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>O.dispatchEvent(t[0]),removeEventListener:(...t)=>O.removeEventListener(t[0],t[1],t[2])};return h!==q.coneInnerAngle&&(q.coneInnerAngle=h),d!==q.coneOuterAngle&&(q.coneOuterAngle=d),p!==q.coneOuterGain&&(q.coneOuterGain=p),f!==q.distanceModel&&(q.distanceModel=f),m!==q.maxDistance&&(q.maxDistance=m),g!==q.orientationX.value&&(q.orientationX.value=g),v!==q.orientationY.value&&(q.orientationY.value=v),y!==q.orientationZ.value&&(q.orientationZ.value=y),_!==q.panningModel&&(q.panningModel=_),b!==q.positionX.value&&(q.positionX.value=b),w!==q.positionY.value&&(q.positionY.value=w),x!==q.positionZ.value&&(q.positionZ.value=x),k!==q.refDistance&&(q.refDistance=k),S!==q.rolloffFactor&&(q.rolloffFactor=S),1===F[0]&&0===F[1]&&0===F[2]||C.setOrientation(...F),0===j[0]&&0===j[1]&&0===j[2]||C.setPosition(...j),u(qt(q,C),(()=>{O.connect(C),t(O,z,0,0),z.connect(M).connect(A,0,0),z.connect(D).connect(A,0,1),z.connect(P).connect(A,0,2),z.connect(N).connect(A,0,3),z.connect(R).connect(A,0,4),z.connect(I).connect(A,0,5),A.connect(V).connect(c.destination)}),(()=>{O.disconnect(C),a(O,z,0,0),z.disconnect(M),M.disconnect(A),z.disconnect(D),D.disconnect(A),z.disconnect(P),P.disconnect(A),z.disconnect(N),N.disconnect(A),z.disconnect(R),R.disconnect(A),z.disconnect(I),I.disconnect(A),A.disconnect(V),V.disconnect(c.destination)}))})(X,Ct,on,Wt,Ht,Fn,Qt,J,ee,sn),Ln=(t=>(e,n)=>{const s=e.createPanner();return void 0===s.orientationX?t(e,n):(Nt(s,n),It(s,n,"orientationX"),It(s,n,"orientationY"),It(s,n,"orientationZ"),It(s,n,"positionX"),It(s,n,"positionY"),It(s,n,"positionZ"),Pt(s,n,"coneInnerAngle"),Pt(s,n,"coneOuterAngle"),Pt(s,n,"coneOuterGain"),Pt(s,n,"distanceModel"),Pt(s,n,"maxDistance"),Pt(s,n,"panningModel"),Pt(s,n,"refDistance"),Pt(s,n,"rolloffFactor"),s)})(jn),qn=((t,e,n,s,i,r,o,a,l,u)=>()=>{const c=new WeakMap;let h=null;return{render(d,p){const f=c.get(p);return void 0!==f?Promise.resolve(f):(async(d,p)=>{let f=null,m=r(d);const g={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation},v={...g,coneInnerAngle:m.coneInnerAngle,coneOuterAngle:m.coneOuterAngle,coneOuterGain:m.coneOuterGain,distanceModel:m.distanceModel,maxDistance:m.maxDistance,panningModel:m.panningModel,refDistance:m.refDistance,rolloffFactor:m.rolloffFactor},y=M(m,p);if("bufferSize"in m)f=s(p,{...g,gain:1});else if(!y){const t={...v,orientationX:m.orientationX.value,orientationY:m.orientationY.value,orientationZ:m.orientationZ.value,positionX:m.positionX.value,positionY:m.positionY.value,positionZ:m.positionZ.value};m=i(p,t)}if(c.set(p,null===f?m:f),null!==f){if(null===h){if(null===o)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new o(6,d.context.length,p.sampleRate),s=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});s.connect(t.destination),h=(async()=>{const e=await Promise.all([d.orientationX,d.orientationY,d.orientationZ,d.positionX,d.positionY,d.positionZ].map((async(e,s)=>{const i=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===s?1:0});return await a(t,e,i.offset),i})));for(let t=0;t<6;t+=1)e[t].connect(s,0,t),e[t].start(0);return u(t)})()}const t=await h,r=s(p,{...g,gain:1});await l(d,p,r);const c=[];for(let e=0;e<t.numberOfChannels;e+=1)c.push(t.getChannelData(e));let m=[c[0][0],c[1][0],c[2][0]],y=[c[3][0],c[4][0],c[5][0]],_=s(p,{...g,gain:1}),b=i(p,{...v,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:y[0],positionY:y[1],positionZ:y[2]});r.connect(_).connect(b.inputs[0]),b.connect(f);for(let e=128;e<t.length;e+=128){const t=[c[0][e],c[1][e],c[2][e]],n=[c[3][e],c[4][e],c[5][e]];if(t.some(((t,e)=>t!==m[e]))||n.some(((t,e)=>t!==y[e]))){m=t,y=n;const o=e/p.sampleRate;_.gain.setValueAtTime(0,o),_=s(p,{...g,gain:0}),b=i(p,{...v,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:y[0],positionY:y[1],positionZ:y[2]}),_.gain.setValueAtTime(1,o),r.connect(_).connect(b.inputs[0]),b.connect(f)}}return f}return y?(await t(p,d.orientationX,m.orientationX),await t(p,d.orientationY,m.orientationY),await t(p,d.orientationZ,m.orientationZ),await t(p,d.positionX,m.positionX),await t(p,d.positionY,m.positionY),await t(p,d.positionZ,m.positionZ)):(await a(p,d.orientationX,m.orientationX),await a(p,d.orientationY,m.orientationY),await a(p,d.orientationZ,m.orientationZ),await a(p,d.positionX,m.positionX),await a(p,d.positionY,m.positionY),await a(p,d.positionZ,m.positionZ)),Y(m)?await l(d,p,m.inputs[0]):await l(d,p,m),m})(d,p)}}})(He,on,dn,Wt,Ln,tt,Te,Ye,we,Cn),Un=((t,e,n,s,i,r,o)=>class extends t{constructor(t,a){const l=i(t),u={...Gt,...a},c=n(l,u),h=r(l);super(t,!1,c,h?s():null),this._nativePannerNode=c,this._orientationX=e(this,h,c.orientationX,V,I),this._orientationY=e(this,h,c.orientationY,V,I),this._orientationZ=e(this,h,c.orientationZ,V,I),this._positionX=e(this,h,c.positionX,V,I),this._positionY=e(this,h,c.positionY,V,I),this._positionZ=e(this,h,c.positionZ,V,I),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(t){this._nativePannerNode.coneInnerAngle=t}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(t){this._nativePannerNode.coneOuterAngle=t}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(t){this._nativePannerNode.coneOuterGain=t}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(t){this._nativePannerNode.distanceModel=t}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(t){this._nativePannerNode.maxDistance=t}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(t){this._nativePannerNode.panningModel=t}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(t){this._nativePannerNode.refDistance=t}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(t){this._nativePannerNode.rolloffFactor=t}})(Re,Ge,Ln,qn,ke,Ce,en),Wn=(t=>(e,{disableNormalization:n,imag:s,real:i})=>{const r=s instanceof Float32Array?s:new Float32Array(s),o=i instanceof Float32Array?i:new Float32Array(i),a=e.createPeriodicWave(o,r,{disableNormalization:n});if(Array.from(s).length<2)throw t();return a})(P),Bn=((t,e,n)=>class s{constructor(s,i){const r=e(s),o=(t=>{const{imag:e,real:n}=t;return void 0===e?void 0===n?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,(()=>0)),real:n}:void 0===n?{...t,imag:e,real:Array.from(e,(()=>0))}:{...t,imag:e,real:n}})({...Zt,...i}),a=t(r,o);return n.add(a),a}static[Symbol.hasInstance](t){return null!==t&&"object"==typeof t&&Object.getPrototypeOf(t)===s.prototype||n.has(t)}})(Wn,ke,new WeakSet),$n=((t,e,n,s,i,r)=>{const o=16385,a=new Float32Array([1,1]),l=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},c={...u,oversample:"none"},h=(t,r,h,d,p)=>{if(1===r)return((t,e,i,r)=>{const h=new Float32Array(o),d=new Float32Array(o);for(let t=0;t<o;t+=1){const e=t/16384*l;h[t]=Math.cos(e),d[t]=Math.sin(e)}const p=n(t,{...u,gain:0}),f=s(t,{...c,curve:h}),m=s(t,{...c,curve:a}),g=n(t,{...u,gain:0}),v=s(t,{...c,curve:d});return{connectGraph(){e.connect(p),e.connect(void 0===m.inputs?m:m.inputs[0]),e.connect(g),m.connect(i),i.connect(void 0===f.inputs?f:f.inputs[0]),i.connect(void 0===v.inputs?v:v.inputs[0]),f.connect(p.gain),v.connect(g.gain),p.connect(r,0,0),g.connect(r,0,1)},disconnectGraph(){e.disconnect(p),e.disconnect(void 0===m.inputs?m:m.inputs[0]),e.disconnect(g),m.disconnect(i),i.disconnect(void 0===f.inputs?f:f.inputs[0]),i.disconnect(void 0===v.inputs?v:v.inputs[0]),f.disconnect(p.gain),v.disconnect(g.gain),p.disconnect(r,0,0),g.disconnect(r,0,1)}}})(t,h,d,p);if(2===r)return((t,i,r,h)=>{const d=new Float32Array(o),p=new Float32Array(o),f=new Float32Array(o),m=new Float32Array(o),g=Math.floor(8192.5);for(let t=0;t<o;t+=1)if(t>g){const e=(t-g)/(16384-g)*l;d[t]=Math.cos(e),p[t]=Math.sin(e),f[t]=0,m[t]=1}else{const e=t/(16384-g)*l;d[t]=1,p[t]=0,f[t]=Math.cos(e),m[t]=Math.sin(e)}const v=e(t,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),y=n(t,{...u,gain:0}),_=s(t,{...c,curve:d}),b=n(t,{...u,gain:0}),w=s(t,{...c,curve:p}),x=s(t,{...c,curve:a}),k=n(t,{...u,gain:0}),S=s(t,{...c,curve:f}),T=n(t,{...u,gain:0}),C=s(t,{...c,curve:m});return{connectGraph(){i.connect(v),i.connect(void 0===x.inputs?x:x.inputs[0]),v.connect(y,0),v.connect(b,0),v.connect(k,1),v.connect(T,1),x.connect(r),r.connect(void 0===_.inputs?_:_.inputs[0]),r.connect(void 0===w.inputs?w:w.inputs[0]),r.connect(void 0===S.inputs?S:S.inputs[0]),r.connect(void 0===C.inputs?C:C.inputs[0]),_.connect(y.gain),w.connect(b.gain),S.connect(k.gain),C.connect(T.gain),y.connect(h,0,0),k.connect(h,0,0),b.connect(h,0,1),T.connect(h,0,1)},disconnectGraph(){i.disconnect(v),i.disconnect(void 0===x.inputs?x:x.inputs[0]),v.disconnect(y,0),v.disconnect(b,0),v.disconnect(k,1),v.disconnect(T,1),x.disconnect(r),r.disconnect(void 0===_.inputs?_:_.inputs[0]),r.disconnect(void 0===w.inputs?w:w.inputs[0]),r.disconnect(void 0===S.inputs?S:S.inputs[0]),r.disconnect(void 0===C.inputs?C:C.inputs[0]),_.disconnect(y.gain),w.disconnect(b.gain),S.disconnect(k.gain),C.disconnect(T.gain),y.disconnect(h,0,0),k.disconnect(h,0,0),b.disconnect(h,0,1),T.disconnect(h,0,1)}}})(t,h,d,p);throw i()};return(e,{channelCount:s,channelCountMode:o,pan:a,...l})=>{if("max"===o)throw i();const u=t(e,{...l,channelCount:1,channelCountMode:o,numberOfInputs:2}),c=n(e,{...l,channelCount:s,channelCountMode:o,gain:1}),d=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:a});let{connectGraph:p,disconnectGraph:f}=h(e,s,c,d,u);Object.defineProperty(d.gain,"defaultValue",{get:()=>0}),Object.defineProperty(d.gain,"maxValue",{get:()=>1}),Object.defineProperty(d.gain,"minValue",{get:()=>-1});const m={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(t){c.channelCount!==t&&(g&&f(),({connectGraph:p,disconnectGraph:f}=h(e,t,c,d,u)),g&&p()),c.channelCount=t},get channelCountMode(){return c.channelCountMode},set channelCountMode(t){if("clamped-max"===t||"max"===t)throw i();c.channelCountMode=t},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(t){c.channelInterpretation=t},get context(){return c.context},get inputs(){return[c]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get pan(){return d.gain},addEventListener:(...t)=>c.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>c.dispatchEvent(t[0]),removeEventListener:(...t)=>c.removeEventListener(t[0],t[1],t[2])};let g=!1;return r(qt(m,u),(()=>{p(),g=!0}),(()=>{f(),g=!1}))}})(on,Lt,Wt,Fn,Qt,sn),Hn=((t,e)=>(n,s)=>{const i=s.channelCountMode;if("clamped-max"===i)throw e();if(void 0===n.createStereoPanner)return t(n,s);const r=n.createStereoPanner();return Nt(r,s),It(r,s,"pan"),Object.defineProperty(r,"channelCountMode",{get:()=>i,set:t=>{if(t!==i)throw e()}}),r})($n,Qt),Qn=((t,e,n,s,i)=>()=>{const r=new WeakMap;return{render(o,a){const l=r.get(a);return void 0!==l?Promise.resolve(l):(async(o,a)=>{let l=n(o);const u=M(l,a);if(!u){const t={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,pan:l.pan.value};l=e(a,t)}return r.set(a,l),u?await t(a,o.pan,l.pan):await s(a,o.pan,l.pan),Y(l)?await i(o,a,l.inputs[0]):await i(o,a,l),l})(o,a)}}})(He,Hn,tt,Ye,we),Yn=((t,e,n,s,i,r)=>class extends t{constructor(t,o){const a=i(t),l={...Kt,...o},u=n(a,l),c=r(a);super(t,!1,u,c?s():null),this._pan=e(this,c,u.pan)}get pan(){return this._pan}})(Re,Ge,Hn,Qn,ke,Ce),Xn=((t,e,n)=>()=>{const s=new WeakMap;return{render(i,r){const o=s.get(r);return void 0!==o?Promise.resolve(o):(async(i,r)=>{let o=e(i);if(!M(o,r)){const e={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,curve:o.curve,oversample:o.oversample};o=t(r,e)}return s.set(r,o),Y(o)?await n(i,r,o.inputs[0]):await n(i,r,o),o})(i,r)}}})(Fn,tt,we),Gn=((t,e,n,s,i,r,o)=>class extends t{constructor(t,e){const a=i(t),l={...te,...e},u=n(a,l);super(t,!0,u,r(a)?s():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=u,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(t){if(null===t)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(t.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=t}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(t){this._nativeWaveShaperNode.oversample=t}})(Re,Ct,Fn,Xn,ke,Ce,en),Zn=(t=>null!==t&&t.isSecureContext)(ye),Kn=(t=>(e,n,s)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get:()=>Math.round(e*n)},currentTime:{configurable:!0,get:()=>e}});try{return s()}finally{null!==t&&(delete t.currentFrame,delete t.currentTime)}})(ye),Jn=new WeakMap,ts=((t,e)=>n=>{let s=t.get(n);if(void 0!==s)return s;if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");return s=new e(1,1,44100),t.set(n,s),s})(Jn,Te),es=Zn?((t,e,n,s,i,r,o,a,l,u,c,h,d)=>{let p=0;return(m,g,v={credentials:"omit"})=>{const w=c.get(m);if(void 0!==w&&w.has(g))return Promise.resolve();const x=u.get(m);if(void 0!==x){const t=x.get(g);if(void 0!==t)return t}const k=r(m),S=void 0===k.audioWorklet?i(g).then((([t,e])=>{const[s,i]=y(t,e);return n(`${s};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${i}\n})})(window,'_AWGS')`)})).then((()=>{const t=d._AWGS.pop();if(void 0===t)throw new SyntaxError;s(k.currentTime,k.sampleRate,(()=>t(class{},void 0,((t,n)=>{if(""===t.trim())throw e();const s=f.get(k);if(void 0!==s){if(s.has(t))throw e();b(n),_(n.parameterDescriptors),s.set(t,n)}else b(n),_(n.parameterDescriptors),f.set(k,new Map([[t,n]]))}),k.sampleRate,void 0,void 0)))})):Promise.all([i(g),Promise.resolve(t(h,h))]).then((([[t,e],n])=>{const s=p+1;p=s;const[i,r]=y(t,e),u=new Blob([`${i};((AudioWorkletProcessor,registerProcessor)=>{${r}\n})(${n?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${n?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${n?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${s}',class extends AudioWorkletProcessor{process(){return !1}})`],{type:"application/javascript; charset=utf-8"}),c=URL.createObjectURL(u);return k.audioWorklet.addModule(c,v).then((()=>{if(a(k))return k;const t=o(k);return t.audioWorklet.addModule(c,v).then((()=>t))})).then((t=>{if(null===l)throw new SyntaxError;try{new l(t,`__sac${s}`)}catch{throw new SyntaxError}})).finally((()=>URL.revokeObjectURL(c)))}));return void 0===x?u.set(m,new Map([[g,S]])):x.set(g,S),S.then((()=>{const t=c.get(m);void 0===t?c.set(m,new Set([g])):t.add(g)})).finally((()=>{const t=u.get(m);void 0!==t&&t.delete(g)})),S}})(me,Qt,(t=>e=>new Promise(((n,s)=>{if(null===t)return void s(new SyntaxError);const i=t.document.head;if(null===i)s(new SyntaxError);else{const r=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),l=t.onerror,u=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(e,n,i,r,o)=>n===a||n===t.location.href&&1===i&&1===r?(u(),s(o),!1):null!==l?l(e,n,i,r,o):void 0,r.onerror=()=>{u(),s(new SyntaxError)},r.onload=()=>{u(),n()},r.src=a,r.type="module",i.appendChild(r)}})))(ye),Kn,(async t=>{try{const e=await fetch(t);if(e.ok)return[await e.text(),e.url]}catch{}throw new DOMException("","AbortError")}),ke,ts,Ce,Ne,new WeakMap,new WeakMap,((t,e)=>async()=>{if(null===t)return!0;if(null===e)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new e(1,128,44100),i=URL.createObjectURL(n);let r=!1,o=!1;try{await s.audioWorklet.addModule(i);const e=new t(s,"a",{numberOfOutputs:0}),n=s.createOscillator();e.port.onmessage=()=>r=!0,e.onprocessorerror=()=>o=!0,n.connect(e),n.start(0),await s.startRendering(),await new Promise((t=>setTimeout(t)))}catch{}finally{URL.revokeObjectURL(i)}return r&&!o})(Ne,Te),ye):void 0,ns=((t,e)=>n=>t(n)||e(n))(Me,Ce),ss=((t,e,n,s,i,r,o,a,l,u,c)=>(n,s)=>{const h=o(n)?n:r(n);if(i.has(s)){const t=new DOMException("","DataCloneError");return Promise.reject(t)}try{i.add(s)}catch{}return e(l,(()=>l(h)))?h.decodeAudioData(s).then((n=>(wt(s).catch((()=>{})),e(a,(()=>a(n)))||c(n),t.add(n),n))):new Promise(((e,n)=>{const i=async()=>{try{await wt(s)}catch{}},r=t=>{n(t),i()};try{h.decodeAudioData(s,(n=>{"function"!=typeof n.copyFromChannel&&(u(n),N(n)),t.add(n),i().then((()=>e(n)))}),(t=>{r(null===t?new DOMException("","EncodingError"):t)}))}catch(t){r(t)}}))})(ze,me,0,0,new WeakSet,ke,ns,D,Dt,qe,Ue),is=((t,e,n,s,i,r,o,a,l,u,c,h,d,p,f,m,g,v,y,_)=>class extends f{constructor(e,n){super(e,n),this._nativeContext=e,this._audioWorklet=void 0===t?void 0:{addModule:(e,n)=>t(this,e,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new i(this)}createBuffer(t,e,s){return new n({length:e,numberOfChannels:t,sampleRate:s})}createBufferSource(){return new s(this)}createChannelMerger(t=6){return new r(this,{numberOfInputs:t})}createChannelSplitter(t=6){return new o(this,{numberOfOutputs:t})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(t=1){return new c(this,{maxDelayTime:t})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(t,e){return new p(this,{feedback:e,feedforward:t})}createOscillator(){return new m(this)}createPanner(){return new g(this)}createPeriodicWave(t,e,n={disableNormalization:!1}){return new v(this,{...n,imag:e,real:t})}createStereoPanner(){return new y(this)}createWaveShaper(){return new _(this)}decodeAudioData(t,e,n){return u(this._nativeContext,t).then((t=>("function"==typeof e&&e(t),t)),(t=>{throw"function"==typeof n&&n(t),t}))}})(es,Ve,We,Ke,nn,ln,cn,fn,vn,ss,_n,xn,Sn,On,Pn,In,Un,Bn,Yn,Gn),rs=((t,e,n,s)=>class extends t{constructor(t,e){const i=n(t),r=((t,e)=>t.createMediaElementSource(e.mediaElement))(i,e);if(s(i))throw TypeError();super(t,!0,r,null),this._nativeMediaElementAudioSourceNode=r}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(Re,0,ke,Ce),os=((t,e,n,s)=>class extends t{constructor(t,e){const i=n(t);if(s(i))throw new TypeError;const r=((t,e)=>{const n=t.createMediaStreamDestination();return Nt(n,e),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n})(i,{...Mt,...e});super(t,!1,r,null),this._nativeMediaStreamAudioDestinationNode=r}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(Re,0,ke,Ce),as=((t,e,n,s)=>class extends t{constructor(t,e){const i=n(t),r=((t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort(((t,e)=>t.id<e.id?-1:t.id>e.id?1:0));const s=n.slice(0,1),i=t.createMediaStreamSource(new MediaStream(s));return Object.defineProperty(i,"mediaStream",{value:e}),i})(i,e);if(s(i))throw new TypeError;super(t,!0,r,null),this._nativeMediaStreamAudioSourceNode=r}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(Re,0,ke,Ce),ls=((t,e)=>(n,{mediaStreamTrack:s})=>{if("function"==typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(s);const i=new MediaStream([s]),r=n.createMediaStreamSource(i);if("audio"!==s.kind)throw t();if(e(n))throw new TypeError;return r})(Ct,Ce),us=((t,e,n)=>class extends t{constructor(t,s){const i=n(t);super(t,!0,e(i,s),null)}})(Re,ls,ke),cs=((t,e,n,s,i,r,o,a,l)=>class extends t{constructor(t={}){if(null===l)throw new Error("Missing the native AudioContext constructor.");let e;try{e=new l(t)}catch(t){if(12===t.code&&"sampleRate is not in range"===t.message)throw n();throw t}if(null===e)throw s();if(!(t=>void 0===t||"number"==typeof t||"string"==typeof t&&("balanced"===t||"interactive"===t||"playback"===t))(t.latencyHint))throw new TypeError(`The provided value '${t.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==t.sampleRate&&e.sampleRate!==t.sampleRate)throw n();super(e,2);const{latencyHint:i}=t,{sampleRate:r}=e;if(this._baseLatency="number"==typeof e.baseLatency?e.baseLatency:"balanced"===i?512/r:"interactive"===i||void 0===i?256/r:"playback"===i?1024/r:128*Math.max(2,Math.min(128,Math.round(i*r/128)))/r,this._nativeAudioContext=e,"webkitAudioContext"===l.name?(this._nativeGainNode=e.createGain(),this._nativeOscillatorNode=e.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(e.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===e.state){this._state="suspended";const t=()=>{"suspended"===this._state&&(this._state=null),e.removeEventListener("statechange",t)};e.addEventListener("statechange",t)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then((()=>{throw e()})):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then((()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),U(this)})))}createMediaElementSource(t){return new i(this,{mediaElement:t})}createMediaStreamDestination(){return new r(this)}createMediaStreamSource(t){return new o(this,{mediaStream:t})}createMediaStreamTrackSource(t){return new a(this,{mediaStreamTrack:t})}resume(){return"suspended"===this._state?new Promise(((t,e)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?t():this.resume().then(t,e)};this._nativeAudioContext.addEventListener("statechange",n)})):this._nativeAudioContext.resume().catch((t=>{if(void 0===t||15===t.code)throw e();throw t}))}suspend(){return this._nativeAudioContext.suspend().catch((t=>{if(void 0===t)throw e();throw t}))}})(is,Ct,Qt,Jt,rs,os,as,us,Oe),hs=(t=>e=>{const n=t.get(e);if(void 0===n)throw new Error("The context has no set of AudioWorkletNodes.");return n})(Dn),ds=(t=>(e,n)=>{t(e).add(n)})(hs),ps=(t=>(e,n,s=0,i=0)=>{const r=e[s];if(void 0===r)throw t();return ot(n)?r.connect(n,0,i):r.connect(n,0)})(P),fs=(t=>(e,n)=>{t(e).delete(n)})(hs),ms=(t=>(e,n=void 0,s=void 0,i=0)=>void 0===n?e.forEach((t=>t.disconnect())):"number"==typeof n?kt(t,e,n).disconnect():ot(n)?void 0===s?e.forEach((t=>t.disconnect(n))):void 0===i?kt(t,e,s).disconnect(n,0):kt(t,e,s).disconnect(n,0,i):void 0===s?e.forEach((t=>t.disconnect(n))):kt(t,e,s).disconnect(n,0))(P),gs=new WeakMap,vs=((t,e)=>n=>e(t,n))(gs,w),ys=((t,e,n,s,i,r,o,a,l,u,c,h,d)=>(p,f,g,v)=>{if(0===v.numberOfInputs&&0===v.numberOfOutputs)throw l();const y=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(y.some((t=>t<1)))throw l();if(y.length!==v.numberOfOutputs)throw e();if("explicit"!==v.channelCountMode)throw l();const _=v.channelCount*v.numberOfInputs,b=y.reduce(((t,e)=>t+e),0),w=void 0===g.parameterDescriptors?0:g.parameterDescriptors.length;if(_+w>6||b>6)throw l();const x=new MessageChannel,k=[],S=[];for(let t=0;t<v.numberOfInputs;t+=1)k.push(o(p,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),S.push(i(p,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const T=[];if(void 0!==g.parameterDescriptors)for(const{defaultValue:t,maxValue:e,minValue:n,name:s}of g.parameterDescriptors){const i=r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==v.parameterData[s]?v.parameterData[s]:void 0===t?0:t});Object.defineProperties(i.offset,{defaultValue:{get:()=>void 0===t?0:t},maxValue:{get:()=>void 0===e?V:e},minValue:{get:()=>void 0===n?I:n}}),T.push(i)}const C=s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,_+w)}),E=Ft(f,p.sampleRate),A=a(p,E,_+w,Math.max(1,b)),O=i(p,{channelCount:Math.max(1,b),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,b)}),M=[];for(let t=0;t<v.numberOfOutputs;t+=1)M.push(s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:y[t]}));for(let t=0;t<v.numberOfInputs;t+=1){k[t].connect(S[t]);for(let e=0;e<v.channelCount;e+=1)S[t].connect(C,e,t*v.channelCount+e)}const D=new ct(void 0===g.parameterDescriptors?[]:g.parameterDescriptors.map((({name:t},e)=>{const n=T[e];return n.connect(C,0,_+e),n.start(0),[t,n.offset]})));C.connect(A);let P=v.channelInterpretation,N=null;const R=0===v.numberOfOutputs?[A]:M,z={get bufferSize(){return E},get channelCount(){return v.channelCount},set channelCount(t){throw n()},get channelCountMode(){return v.channelCountMode},set channelCountMode(t){throw n()},get channelInterpretation(){return P},set channelInterpretation(t){for(const e of k)e.channelInterpretation=t;P=t},get context(){return A.context},get inputs(){return k},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},get onprocessorerror(){return N},set onprocessorerror(t){"function"==typeof N&&z.removeEventListener("processorerror",N),N="function"==typeof t?t:null,"function"==typeof N&&z.addEventListener("processorerror",N)},get parameters(){return D},get port(){return x.port2},addEventListener:(...t)=>A.addEventListener(t[0],t[1],t[2]),connect:t.bind(null,R),disconnect:u.bind(null,R),dispatchEvent:(...t)=>A.dispatchEvent(t[0]),removeEventListener:(...t)=>A.removeEventListener(t[0],t[1],t[2])},F=new Map;var j,L;x.port1.addEventListener=(j=x.port1.addEventListener,(...t)=>{if("message"===t[0]){const e="function"==typeof t[1]?t[1]:"object"==typeof t[1]&&null!==t[1]&&"function"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=F.get(t[1]);void 0!==n?t[1]=n:(t[1]=t=>{c(p.currentTime,p.sampleRate,(()=>e(t)))},F.set(e,t[1]))}}return j.call(x.port1,t[0],t[1],t[2])}),x.port1.removeEventListener=(L=x.port1.removeEventListener,(...t)=>{if("message"===t[0]){const e=F.get(t[1]);void 0!==e&&(F.delete(t[1]),t[1]=e)}return L.call(x.port1,t[0],t[1],t[2])});let q=null;Object.defineProperty(x.port1,"onmessage",{get:()=>q,set:t=>{"function"==typeof q&&x.port1.removeEventListener("message",q),q="function"==typeof t?t:null,"function"==typeof q&&(x.port1.addEventListener("message",q),x.port1.start())}}),g.prototype.port=x.port1;let U=null;const W=((t,e,n,s)=>{let i=m.get(t);void 0===i&&(i=new WeakMap,m.set(t,i));const r=(async(t,e)=>{const n=await(t=>new Promise(((e,n)=>{const{port1:s,port2:i}=new MessageChannel;s.onmessage=({data:t})=>{s.close(),i.close(),e(t)},s.onmessageerror=({data:t})=>{s.close(),i.close(),n(t)},i.postMessage(t)})))(e);return new t(n)})(n,s);return i.set(e,r),r})(p,z,g,v);W.then((t=>U=t));const B=ft(v.numberOfInputs,v.channelCount),$=ft(v.numberOfOutputs,y),H=void 0===g.parameterDescriptors?[]:g.parameterDescriptors.reduce(((t,{name:e})=>({...t,[e]:new Float32Array(128)})),{});let Q=!0;const Y=()=>{v.numberOfOutputs>0&&A.disconnect(O);for(let t=0,e=0;t<v.numberOfOutputs;t+=1){const n=M[t];for(let s=0;s<y[t];s+=1)O.disconnect(n,e+s,s);e+=y[t]}},X=new Map;A.onaudioprocess=({inputBuffer:t,outputBuffer:e})=>{if(null!==U){const n=h(z);for(let s=0;s<E;s+=128){for(let e=0;e<v.numberOfInputs;e+=1)for(let n=0;n<v.channelCount;n+=1)dt(t,B[e],n,n,s);void 0!==g.parameterDescriptors&&g.parameterDescriptors.forEach((({name:e},n)=>{dt(t,H,e,_+n,s)}));for(let t=0;t<v.numberOfInputs;t+=1)for(let e=0;e<y[t];e+=1)0===$[t][e].byteLength&&($[t][e]=new Float32Array(128));try{const t=B.map(((t,e)=>{if(n[e].size>0)return X.set(e,E/128),t;const s=X.get(e);return void 0===s?[]:(t.every((t=>t.every((t=>0===t))))&&(1===s?X.delete(e):X.set(e,s-1)),t)})),i=c(p.currentTime+s/p.sampleRate,p.sampleRate,(()=>U.process(t,$,H)));Q=i;for(let t=0,n=0;t<v.numberOfOutputs;t+=1){for(let i=0;i<y[t];i+=1)pt(e,$[t],i,n+i,s);n+=y[t]}}catch(t){Q=!1,z.dispatchEvent(new ErrorEvent("processorerror",{colno:t.colno,filename:t.filename,lineno:t.lineno,message:t.message}))}if(!Q){for(let t=0;t<v.numberOfInputs;t+=1){k[t].disconnect(S[t]);for(let e=0;e<v.channelCount;e+=1)S[s].disconnect(C,e,t*v.channelCount+e)}if(void 0!==g.parameterDescriptors){const t=g.parameterDescriptors.length;for(let e=0;e<t;e+=1){const t=T[e];t.disconnect(C,0,_+e),t.stop()}}C.disconnect(A),A.onaudioprocess=null,G?Y():J();break}}}};let G=!1;const Z=o(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),K=()=>A.connect(Z).connect(p.destination),J=()=>{A.disconnect(Z),Z.disconnect()};return K(),d(z,(()=>{if(Q){J(),v.numberOfOutputs>0&&A.connect(O);for(let t=0,e=0;t<v.numberOfOutputs;t+=1){const n=M[t];for(let s=0;s<y[t];s+=1)O.connect(n,e+s,s);e+=y[t]}}G=!0}),(()=>{Q&&(K(),Y()),G=!1}))})(ps,P,Ct,on,Lt,dn,Wt,Ht,Qt,ms,Kn,vs,sn),_s=((t,e,n,s,i)=>(r,o,a,l,u,c)=>{if(null!==a)try{const e=new a(r,l,c),s=new Map;let o=null;if(Object.defineProperties(e,{channelCount:{get:()=>c.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>o,set:t=>{"function"==typeof o&&e.removeEventListener("processorerror",o),o="function"==typeof t?t:null,"function"==typeof o&&e.addEventListener("processorerror",o)}}}),e.addEventListener=(d=e.addEventListener,(...t)=>{if("processorerror"===t[0]){const e="function"==typeof t[1]?t[1]:"object"==typeof t[1]&&null!==t[1]&&"function"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=s.get(t[1]);void 0!==n?t[1]=n:(t[1]=n=>{"error"===n.type?(Object.defineProperties(n,{type:{value:"processorerror"}}),e(n)):e(new ErrorEvent(t[0],{...n}))},s.set(e,t[1]))}}return d.call(e,"error",t[1],t[2]),d.call(e,...t)}),e.removeEventListener=(h=e.removeEventListener,(...t)=>{if("processorerror"===t[0]){const e=s.get(t[1]);void 0!==e&&(s.delete(t[1]),t[1]=e)}return h.call(e,"error",t[1],t[2]),h.call(e,t[0],t[1],t[2])}),0!==c.numberOfOutputs){const t=n(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return e.connect(t).connect(r.destination),i(e,(()=>t.disconnect()),(()=>t.connect(r.destination)))}return e}catch(t){if(11===t.code)throw s();throw t}var h,d;if(void 0===u)throw s();return(t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}})(c),e(r,o,u,c)})(Ct,ys,Wt,Qt,sn),bs=((t,e,n,s,i,r,o,a,l,u,c,h,d,p,f,m)=>(g,v,y)=>{const _=new WeakMap;let b=null;return{render(w,x){a(x,w);const k=_.get(x);return void 0!==k?Promise.resolve(k):(async(a,w)=>{let x=c(a),k=null;const S=M(x,w),T=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(null===h){const t=T.reduce(((t,e)=>t+e),0),n=i(w,{channelCount:Math.max(1,t),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,t)}),r=[];for(let t=0;t<a.numberOfOutputs;t+=1)r.push(s(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:T[t]}));const u=o(w,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1});u.connect=e.bind(null,r),u.disconnect=l.bind(null,r),k=[n,r,u]}else S||(x=new h(w,g));if(_.set(w,null===k?x:k[2]),null!==k){if(null===b){if(void 0===y)throw new Error("Missing the processor constructor.");if(null===d)throw new Error("Missing the native OfflineAudioContext constructor.");const t=a.channelCount*a.numberOfInputs,e=void 0===y.parameterDescriptors?0:y.parameterDescriptors.length,n=t+e,l=async()=>{const l=new d(n,128*Math.ceil(a.context.length/128),w.sampleRate),u=[],c=[];for(let t=0;t<v.numberOfInputs;t+=1)u.push(o(l,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),c.push(i(l,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const h=await Promise.all(Array.from(a.parameters.values()).map((async t=>{const e=r(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:t.value});return await p(l,t,e.offset),e}))),g=s(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,t+e)});for(let t=0;t<v.numberOfInputs;t+=1){u[t].connect(c[t]);for(let e=0;e<v.channelCount;e+=1)c[t].connect(g,e,t*v.channelCount+e)}for(const[e,n]of h.entries())n.connect(g,0,t+e),n.start(0);return g.connect(l.destination),await Promise.all(u.map((t=>f(a,l,t)))),m(l)};b=mt(a,0===n?null:await l(),w,v,T,y,u)}const t=await b,e=n(w,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[l,c,h]=k;null!==t&&(e.buffer=t,e.start(0)),e.connect(l);for(let t=0,e=0;t<a.numberOfOutputs;t+=1){const n=c[t];for(let s=0;s<T[t];s+=1)l.connect(n,e+s,s);e+=T[t]}return h}if(S)for(const[e,n]of a.parameters.entries())await t(w,n,x.parameters.get(e));else for(const[t,e]of a.parameters.entries())await p(w,e,x.parameters.get(t));return await f(a,w,x),x})(w,x)}}})(He,ps,Qe,on,Lt,dn,Wt,fs,ms,Kn,tt,Ne,Te,Ye,we,Cn),ws=(t=>e=>t.get(e))(Jn),xs=(t=>(e,n)=>{t.set(e,n)})(gs),ks=Zn?((t,e,n,s,i,r,o,a,l,u,c,h,d,p)=>class extends e{constructor(e,c,d){var p;const m=a(e),g=l(m),v=(t=>({...t,outputChannelCount:void 0!==t.outputChannelCount?t.outputChannelCount:1===t.numberOfInputs&&1===t.numberOfOutputs?[t.channelCount]:Array.from({length:t.numberOfOutputs},(()=>1))}))({...ht,...d});(t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}})(v);const y=f.get(m),_=null==y?void 0:y.get(c),b=g||"closed"!==m.state?m:null!==(p=o(m))&&void 0!==p?p:m,w=i(b,g?null:e.baseLatency,u,c,_,v);super(e,!0,w,g?s(c,v,_):null);const x=[];w.parameters.forEach(((t,e)=>{const s=n(this,g,t);x.push([e,s])})),this._nativeAudioWorkletNode=w,this._onprocessorerror=null,this._parameters=new ct(x),g&&t(m,this);const{activeInputs:k}=r(this);h(w,k)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(t){const e="function"==typeof t?p(this,t):null;this._nativeAudioWorkletNode.onprocessorerror=e;const n=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==n&&n===e?t:n}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(ds,Re,Ge,bs,_s,j,ws,ke,Ce,Ne,0,xs,0,ue):void 0,Ss=((t,e)=>(n,s,i)=>{if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,s,i)}catch(e){if("SyntaxError"===e.name)throw t();throw e}})(Qt,Te),Ts=((t,e,n,s,i,r,o,a)=>(l,u)=>n(l).render(l,u).then((()=>Promise.all(Array.from(s(u)).map((t=>n(t).render(t,u)))))).then((()=>i(u))).then((n=>("function"!=typeof n.copyFromChannel?(o(n),N(n)):e(r,(()=>r(n)))||a(n),t.add(n),n))))(ze,me,be,hs,Cn,D,qe,Ue),Cs=((t,e,n,s,i)=>class extends t{constructor(t,n,i){let r;if("number"==typeof t&&void 0!==n&&void 0!==i)r={length:n,numberOfChannels:t,sampleRate:i};else{if("object"!=typeof t)throw new Error("The given parameters are not valid.");r=t}const{length:o,numberOfChannels:a,sampleRate:l}={...Yt,...r},u=s(a,o,l);e(Dt,(()=>Dt(u)))||u.addEventListener("statechange",(()=>{let t=0;const e=n=>{"running"===this._state&&(t>0?(u.removeEventListener("statechange",e),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):t+=1)};return e})()),super(u,a),this._length=o,this._nativeOfflineAudioContext=u,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",i(this.destination,this._nativeOfflineAudioContext).finally((()=>{this._state=null,U(this)})))}_waitForThePromiseToSettle(t){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(t):setTimeout((()=>this._waitForThePromiseToSettle(t)))}})(is,me,Ct,Ss,Ts),Es=((t,e)=>n=>{const s=t.get(n);return e(s)||e(n)})(h,Me),As=((t,e)=>n=>t.has(n)||e(n))(l,De),Os=((t,e)=>n=>t.has(n)||e(n))(c,Pe),Ms=((t,e)=>n=>{const s=t.get(n);return e(s)||e(n)})(h,Ce);function Ds(t){return void 0===t}function Ps(t){return void 0!==t}function Ns(t){return"number"==typeof t}function Rs(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object}function Is(t){return"boolean"==typeof t}function Vs(t){return Array.isArray(t)}function zs(t){return"string"==typeof t}function Fs(t){return zs(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function js(t,e){if(!t)throw new Error(e)}function Ls(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function qs(t){t.isOffline||"running"===t.state||Hs('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Us=!1,Ws=!1;function Bs(t){Us=t}let $s=console;function Hs(...t){$s.warn(...t)}const Qs="object"==typeof self?self:null,Ys=Qs&&(Qs.hasOwnProperty("AudioContext")||Qs.hasOwnProperty("webkitAudioContext"));function Xs(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}function Gs(t,e,n,s){return new(n||(n=Promise))((function(i,r){function o(t){try{l(s.next(t))}catch(t){r(t)}}function a(t){try{l(s.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}l((s=s.apply(t,e||[])).next())}))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;class Zs{constructor(t,e,n,s){this._callback=t,this._type=e,this._minimumUpdateInterval=Math.max(128/(s||44100),.001),this.updateInterval=n,this._createClock()}_createWorker(){const t=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:"text/javascript"}),e=URL.createObjectURL(t),n=new Worker(e);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout((()=>{this._createTimeout(),this._callback()}),1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch(t){this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){var e;this._updateInterval=Math.max(t,this._minimumUpdateInterval),"worker"===this._type&&(null===(e=this._worker)||void 0===e||e.postMessage(1e3*this._updateInterval))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function Ks(t){return Os(t)}function Js(t){return As(t)}function ti(t){return Ms(t)}function ei(t){return Es(t)}function ni(t,e){return"value"===t||Ks(e)||Js(e)||function(t){return t instanceof We}(e)}function si(t,...e){if(!e.length)return t;const n=e.shift();if(Rs(t)&&Rs(n))for(const e in n)ni(e,n[e])?t[e]=n[e]:Rs(n[e])?(t[e]||Object.assign(t,{[e]:{}}),si(t[e],n[e])):Object.assign(t,{[e]:n[e]});return si(t,...e)}function ii(t,e,n=[],s){const i={},r=Array.from(e);if(Rs(r[0])&&s&&!Reflect.has(r[0],s)&&(Object.keys(r[0]).some((e=>Reflect.has(t,e)))||(si(i,{[s]:r[0]}),n.splice(n.indexOf(s),1),r.shift())),1===r.length&&Rs(r[0]))si(i,r[0]);else for(let t=0;t<n.length;t++)Ps(r[t])&&(i[n[t]]=r[t]);return si(t,i)}function ri(t,e){return Ds(t)?e:t}function oi(t,e){return e.forEach((e=>{Reflect.has(t,e)&&delete t[e]})),t}class ai{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||Qs&&this.toString()===Qs.TONE_DEBUG_CLASS)&&function(...t){$s.log(...t)}(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}ai.version=i;const li=1e-6;function ui(t,e){return t>e+li}function ci(t,e){return ui(t,e)||di(t,e)}function hi(t,e){return t+li<e}function di(t,e){return Math.abs(t-e)<li}class pi extends ai{constructor(){super(),this.name="Timeline",this._timeline=[];const t=ii(pi.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(js(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const e=this._timeline[this.length-1];js(ci(t.time,e.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const e=this._search(t.time);this._timeline.splice(e+1,0,t)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(t){const e=this._timeline.indexOf(t);return-1!==e&&this._timeline.splice(e,1),this}get(t,e="time"){const n=this._search(t,e);return-1!==n?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,e="time"){const n=this._search(t,e);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(t){const e=this._timeline.length;if(e>0&&this._timeline[e-1].time<t)return this._timeline[e-1];const n=this._search(t);return n-1>=0?this._timeline[n-1]:null}cancel(t){if(this._timeline.length>1){let e=this._search(t);if(e>=0)if(di(this._timeline[e].time,t)){for(let n=e;n>=0&&di(this._timeline[n].time,t);n--)e=n;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&ci(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const e=this._search(t);return e>=0&&(this._timeline=this._timeline.slice(e+1)),this}previousEvent(t){const e=this._timeline.indexOf(t);return e>0?this._timeline[e-1]:null}_search(t,e="time"){if(0===this._timeline.length)return-1;let n=0;const s=this._timeline.length;let i=s;if(s>0&&this._timeline[s-1][e]<=t)return s-1;for(;n<i;){let s=Math.floor(n+(i-n)/2);const r=this._timeline[s],o=this._timeline[s+1];if(di(r[e],t)){for(let n=s;n<this._timeline.length&&di(this._timeline[n][e],t);n++)s=n;return s}if(hi(r[e],t)&&ui(o[e],t))return s;ui(r[e],t)?i=s:n=s+1}return-1}_iterate(t,e=0,n=this._timeline.length-1){this._timeline.slice(e,n+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,e){const n=this._search(t);return-1!==n&&this._iterate(e,0,n),this}forEachAfter(t,e){const n=this._search(t);return this._iterate(e,n+1),this}forEachBetween(t,e,n){let s=this._search(t),i=this._search(e);return-1!==s&&-1!==i?(this._timeline[s].time!==t&&(s+=1),this._timeline[i].time===e&&(i-=1),this._iterate(n,s,i)):-1===s&&this._iterate(n,0,i),this}forEachFrom(t,e){let n=this._search(t);for(;n>=0&&this._timeline[n].time>=t;)n--;return this._iterate(e,n+1),this}forEachAtTime(t,e){const n=this._search(t);if(-1!==n&&di(this._timeline[n].time,t)){let s=n;for(let e=n;e>=0&&di(this._timeline[e].time,t);e--)s=e;this._iterate((t=>{e(t)}),s,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const fi=[];function mi(t){fi.push(t)}const gi=[];function vi(t){gi.push(t)}class yi extends ai{constructor(){super(...arguments),this.name="Emitter"}on(t,e){return t.split(/\W+/).forEach((t=>{Ds(this._events)&&(this._events={}),this._events.hasOwnProperty(t)||(this._events[t]=[]),this._events[t].push(e)})),this}once(t,e){const n=(...s)=>{e(...s),this.off(t,n)};return this.on(t,n),this}off(t,e){return t.split(/\W+/).forEach((t=>{if(Ds(this._events)&&(this._events={}),this._events.hasOwnProperty(t))if(Ds(e))this._events[t]=[];else{const n=this._events[t];for(let t=n.length-1;t>=0;t--)n[t]===e&&n.splice(t,1)}})),this}emit(t,...e){if(this._events&&this._events.hasOwnProperty(t)){const n=this._events[t].slice(0);for(let t=0,s=n.length;t<s;t++)n[t].apply(this,e)}return this}static mixin(t){["on","once","off","emit"].forEach((e=>{const n=Object.getOwnPropertyDescriptor(yi.prototype,e);Object.defineProperty(t.prototype,e,n)}))}dispose(){return super.dispose(),this._events=void 0,this}}class _i extends yi{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class bi extends _i{constructor(){var t,e;super(),this.name="Context",this._constants=new Map,this._timeouts=new pi,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const n=ii(bi.getDefaults(),arguments,["context"]);n.context?(this._context=n.context,this._latencyHint=(null===(t=arguments[0])||void 0===t?void 0:t.latencyHint)||""):(this._context=function(t){return new cs(t)}({latencyHint:n.latencyHint}),this._latencyHint=n.latencyHint),this._ticker=new Zs(this.emit.bind(this,"tick"),n.clockSource,n.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[(null===(e=arguments[0])||void 0===e?void 0:e.hasOwnProperty("updateInterval"))?"_lookAhead":"lookAhead"]=n.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){var t;return this._initialized||(t=this,fi.forEach((e=>e(t))),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,e,n){return this._context.createBuffer(t,e,n)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,e){return this._context.createIIRFilter(t,e)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,e,n){return this._context.createPeriodicWave(t,e,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){return js(ei(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(t)}createMediaElementSource(t){return js(ei(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(t)}createMediaStreamDestination(){return js(ei(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){js(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){js(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){js(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){js(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,e){return function(t,e,n){return js(Ps(ks),"AudioWorkletNode only works in a secure context (https or localhost)"),new(t instanceof(null==Qs?void 0:Qs.BaseAudioContext)?null==Qs?void 0:Qs.AudioWorkletNode:ks)(t,e,n)}(this.rawContext,t,e)}addAudioWorkletModule(t){return Gs(this,void 0,void 0,(function*(){js(Ps(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(t)),yield this._workletPromise}))}workletsAreReady(){return Gs(this,void 0,void 0,(function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()}))}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get lookAhead(){return this._lookAhead}set lookAhead(t){this._lookAhead=t,this.updateInterval=t?t/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return ei(this._context)?this._context.resume():Promise.resolve()}close(){return Gs(this,void 0,void 0,(function*(){var t;ei(this._context)&&"closed"!==this.state&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&(t=this,gi.forEach((e=>e(t))))}))}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const e=this._context.createBuffer(1,128,this._context.sampleRate),n=e.getChannelData(0);for(let e=0;e<n.length;e++)n[e]=t;const s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=e,s.loop=!0,s.start(0),this._constants.set(t,s),s}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map((t=>this._constants[t].disconnect())),this.close(),this}_timeoutLoop(){const t=this.now();let e=this._timeouts.peek();for(;this._timeouts.length&&e&&e.time<=t;)e.callback(),this._timeouts.shift(),e=this._timeouts.peek()}setTimeout(t,e){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:n+e}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach((e=>{e.id===t&&this._timeouts.remove(e)})),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,e){const n=++this._timeoutIds,s=()=>{const i=this.now();this._timeouts.add({callback:()=>{t(),s()},id:n,time:i+e})};return s(),n}}function wi(t,e){Vs(e)?e.forEach((e=>wi(t,e))):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function xi(t,e){Vs(e)?e.forEach((e=>xi(t,e))):Object.defineProperty(t,e,{writable:!0})}const ki=()=>{};class Si extends ai{constructor(){super(),this.name="ToneAudioBuffer",this.onload=ki;const t=ii(Si.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,zs(t.url)?this.load(t.url).catch(t.onerror):t.url&&this.set(t.url)}static getDefaults(){return{onerror:ki,onload:ki,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Ai().sampleRate}set(t){return t instanceof Si?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return Gs(this,void 0,void 0,(function*(){const e=Si.load(t).then((t=>{this.set(t),this.onload(this)}));Si.downloads.push(e);try{yield e}finally{const t=Si.downloads.indexOf(e);Si.downloads.splice(t,1)}return this}))}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const e=Vs(t)&&t[0].length>0,n=e?t.length:1,s=e?t[0].length:t.length,i=Ai(),r=i.createBuffer(n,s,i.sampleRate),o=e||1!==n?t:[t];for(let t=0;t<n;t++)r.copyToChannel(o[t],t);return this._buffer=r,this}toMono(t){if(Ns(t))this.fromArray(this.toArray(t));else{let t=new Float32Array(this.length);const e=this.numberOfChannels;for(let n=0;n<e;n++){const e=this.toArray(n);for(let n=0;n<e.length;n++)t[n]+=e[n]}t=t.map((t=>t/e)),this.fromArray(t)}return this}toArray(t){if(Ns(t))return this.getChannelData(t);if(1===this.numberOfChannels)return this.toArray(0);{const t=[];for(let e=0;e<this.numberOfChannels;e++)t[e]=this.getChannelData(e);return t}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,e=this.duration){js(this.loaded,"Buffer is not loaded");const n=Math.floor(t*this.sampleRate),s=Math.floor(e*this.sampleRate);js(n<s,"The start time must be less than the end time");const i=s-n,r=Ai().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let t=0;t<this.numberOfChannels;t++)r.copyToChannel(this.getChannelData(t).subarray(n,s),t);return new Si(r)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return(new Si).fromArray(t)}static fromUrl(t){return Gs(this,void 0,void 0,(function*(){const e=new Si;return yield e.load(t)}))}static load(t){return Gs(this,void 0,void 0,(function*(){const e=t.match(/\[([^\]\[]+\|.+)\]$/);if(e){const n=e[1].split("|");let s=n[0];for(const t of n)if(Si.supportsType(t)){s=t;break}t=t.replace(e[0],s)}const n=""===Si.baseUrl||Si.baseUrl.endsWith("/")?Si.baseUrl:Si.baseUrl+"/",s=document.createElement("a");s.href=n+t,s.pathname=(s.pathname+s.hash).split("/").map(encodeURIComponent).join("/");const i=yield fetch(s.href);if(!i.ok)throw new Error(`could not load url: ${t}`);const r=yield i.arrayBuffer();return yield Ai().decodeAudioData(r)}))}static supportsType(t){const e=t.split("."),n=e[e.length-1];return""!==document.createElement("audio").canPlayType("audio/"+n)}static loaded(){return Gs(this,void 0,void 0,(function*(){for(yield Promise.resolve();Si.downloads.length;)yield Si.downloads[0]}))}}Si.baseUrl="",Si.downloads=[];class Ti extends bi{constructor(){var t,e,n;super({clockSource:"offline",context:ti(arguments[0])?arguments[0]:(t=arguments[0],e=arguments[1]*arguments[2],n=arguments[2],new Cs(t,e,n)),lookAhead:0,updateInterval:ti(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=ti(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return Gs(this,void 0,void 0,(function*(){let e=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,e++;const n=Math.floor(this.sampleRate/128);t&&e%n==0&&(yield new Promise((t=>setTimeout(t,1))))}}))}render(){return Gs(this,arguments,void 0,(function*(t=!0){yield this.workletsAreReady(),yield this._renderClock(t);const e=yield this._context.startRendering();return new Si(e)}))}close(){return Promise.resolve()}}const Ci=new class extends _i{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,e,n){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,e){return{}}createPanner(){return{}}createPeriodicWave(t,e,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,e){return{}}get rawContext(){return{}}addAudioWorkletModule(t){return Gs(this,void 0,void 0,(function*(){return Promise.resolve()}))}resume(){return Promise.resolve()}setTimeout(t,e){return 0}clearTimeout(t){return this}setInterval(t,e){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}};let Ei=Ci;function Ai(){return Ei===Ci&&Ys&&function(t,e=!1){e&&Ei.dispose(),Ei=ei(t)?new bi(t):ti(t)?new Ti(t):t}(new bi),Ei}function Oi(){return Ei.resume()}if(Qs&&!Qs.TONE_SILENCE_LOGGING){const t=` * Tone.js ${"v"}${i} * `;console.log(`%c${t}`,"background: #000; color: #fff")}function Mi(t){return Math.pow(2,t/12)}let Di=440;function Pi(t){return Math.round(Ni(t))}function Ni(t){return 69+12*Math.log2(t/Di)}function Ri(t){return Di*Math.pow(2,(t-69)/12)}class Ii extends ai{constructor(t,e,n){super(),this.defaultUnits="s",this._val=e,this._units=n,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,e)=>{const n=parseInt(t,10),s="."===e?1.5:1;return 1===n?this._beatsToUnits(this._getTimeSignature())*s:this._beatsToUnits(4/n)*s},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const e=parseInt(t,10);return this._beatsToUnits(8/(3*Math.floor(e)))},regexp:/^(\d+)t$/i},tr:{method:(t,e,n)=>{let s=0;return t&&"0"!==t&&(s+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(s+=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(s+=this._beatsToUnits(parseFloat(n)/4)),s},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Ii&&this.fromType(this._val),Ds(this._val))return this._noArg();if(zs(this._val)&&Ds(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(Rs(this._val)){let t=0;for(const e in this._val)if(Ps(this._val[e])){const n=this._val[e];t+=new this.constructor(this.context,e).valueOf()*n}return t}if(Ps(this._units)){const t=this._expressions[this._units],e=this._val.toString().trim().match(t.regexp);return e?t.method.apply(this,e.slice(1)):t.method.call(this,this._val)}return zs(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class Vi extends Ii{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const e=new Vi(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(e))},regexp:/^@(.+)/}})}quantize(t,e=1){const n=new this.constructor(this.context,t).valueOf(),s=this.valueOf();return s+(Math.round(s/n)*n-s)*e}toNotation(){const t=this.toSeconds(),e=["1m"];for(let t=1;t<9;t++){const n=Math.pow(2,t);e.push(n+"n."),e.push(n+"n"),e.push(n+"t")}e.push("0");let n=e[0],s=new Vi(this.context,e[0]).toSeconds();return e.forEach((e=>{const i=new Vi(this.context,e).toSeconds();Math.abs(i-t)<Math.abs(s-t)&&(n=e,s=i)})),n}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let e=this.valueOf()/t;e=parseFloat(e.toFixed(4));const n=Math.floor(e/this._getTimeSignature());let s=e%1*4;e=Math.floor(e)%this._getTimeSignature();const i=s.toString();return i.length>3&&(s=parseFloat(parseFloat(i).toFixed(3))),[n,e,s].join(":")}toTicks(){const t=this._beatsToUnits(1);return this.valueOf()/t*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Pi(this.toFrequency())}_now(){return this.context.now()}}class zi extends Vi{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return Di}static set A4(t){!function(t){Di=t}(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return"midi"===this.defaultUnits?t:zi.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(t,e){const n=Fi[t.toLowerCase()]+12*(parseInt(e,10)+1);return"midi"===this.defaultUnits?n:zi.mtof(n)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,e,n){let s=1;return t&&"0"!==t&&(s*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(s*=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(s*=this._beatsToUnits(parseFloat(n)/4)),s}}})}transpose(t){return new zi(this.context,this.valueOf()*Mi(t))}harmonize(t){return t.map((t=>this.transpose(t)))}toMidi(){return Pi(this.valueOf())}toNote(){const t=this.toFrequency(),e=Math.log2(t/zi.A4);let n=Math.round(12*e)+57;const s=Math.floor(n/12);return s<0&&(n+=-12*s),ji[n%12]+s.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.floor(e*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(60*t/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return Ri(t)}static ftom(t){return Pi(t)}}const Fi={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},ji=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Li extends Vi{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class qi extends ai{constructor(){super();const t=ii(qi.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:Ai()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return function(t){Ds(t)&&Us&&!Ws&&(Ws=!0,Hs("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}(t),new Vi(this.context,t).toSeconds()}toFrequency(t){return new zi(this.context,t).toFrequency()}toTicks(t){return new Li(this.context,t).toTicks()}_getPartialProperties(t){const e=this.get();return Object.keys(e).forEach((n=>{Ds(t[n])&&delete e[n]})),e}get(){const t=this.constructor.getDefaults();return Object.keys(t).forEach((e=>{if(Reflect.has(this,e)){const n=this[e];Ps(n)&&Ps(n.value)&&Ps(n.setValueAtTime)?t[e]=n.value:n instanceof qi?t[e]=n._getPartialProperties(t[e]):Vs(n)||Ns(n)||zs(n)||Is(n)?t[e]=n:delete t[e]}})),t}set(t){return Object.keys(t).forEach((e=>{Reflect.has(this,e)&&Ps(this[e])&&(this[e]&&Ps(this[e].value)&&Ps(this[e].setValueAtTime)?this[e].value!==t[e]&&(this[e].value=t[e]):this[e]instanceof qi?this[e].set(t[e]):this[e]=t[e])})),this}}class Ui extends pi{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const e=this.get(t);return null!==e?e.state:this._initial}setStateAtTime(t,e,n){return Ls(e,0),this.add(Object.assign({},n,{state:t,time:e})),this}getLastState(t,e){for(let n=this._search(e);n>=0;n--){const e=this._timeline[n];if(e.state===t)return e}}getNextState(t,e){const n=this._search(e);if(-1!==n)for(let e=n;e<this._timeline.length;e++){const n=this._timeline[e];if(n.state===t)return n}}}class Wi extends qi{constructor(){const t=ii(Wi.getDefaults(),arguments,["param","units","convert"]);for(super(t),this.name="Param",this.overridden=!1,this._minOutput=1e-7,js(Ps(t.param)&&(Ks(t.param)||t.param instanceof Wi),"param must be an AudioParam");!Ks(t.param);)t.param=t.param._param;this._swappable=!!Ps(t.swappable)&&t.swappable,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new pi(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,Ps(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(qi.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return Ps(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return Ps(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(t,e){return this.units===e}_assertRange(t){return Ps(this.maxValue)&&Ps(this.minValue)&&Ls(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?(e=t,Math.pow(10,e/20)):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t;var e}_toType(t){return this.convert&&"decibels"===this.units?(e=t,Math.log(e)/Math.LN10*20):t;var e}setValueAtTime(t,e){const n=this.toSeconds(e),s=this._fromType(t);return js(isFinite(s)&&isFinite(n),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(s),this.log(this.units,"setValueAtTime",t,n),this._events.add({time:n,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,n),this}getValueAtTime(t){const e=Math.max(this.toSeconds(t),0),n=this._events.getAfter(e),s=this._events.get(e);let i=this._initialValue;if(null===s)i=this._initialValue;else if("setTargetAtTime"!==s.type||null!==n&&"setValueAtTime"!==n.type)if(null===n)i=s.value;else if("linearRampToValueAtTime"===n.type||"exponentialRampToValueAtTime"===n.type){let t=s.value;if("setTargetAtTime"===s.type){const e=this._events.getBefore(s.time);t=null===e?this._initialValue:e.value}i="linearRampToValueAtTime"===n.type?this._linearInterpolate(s.time,t,n.time,n.value,e):this._exponentialInterpolate(s.time,t,n.time,n.value,e)}else i=s.value;else{const t=this._events.getBefore(s.time);let n;n=null===t?this._initialValue:t.value,"setTargetAtTime"===s.type&&(i=this._exponentialApproach(s.time,n,s.value,s.constant,e))}return this._toType(i)}setRampPoint(t){t=this.toSeconds(t);let e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),0===this._fromType(e)&&(e=this._toType(this._minOutput)),this.setValueAtTime(e,t),this}linearRampToValueAtTime(t,e){const n=this._fromType(t),s=this.toSeconds(e);return js(isFinite(n)&&isFinite(s),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(n),this._events.add({time:s,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",t,s),this._param.linearRampToValueAtTime(n,s),this}exponentialRampToValueAtTime(t,e){let n=this._fromType(t);n=di(n,0)?this._minOutput:n,this._assertRange(n);const s=this.toSeconds(e);return js(isFinite(n)&&isFinite(s),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({time:s,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",t,s),this._param.exponentialRampToValueAtTime(n,s),this}exponentialRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(t,n+this.toSeconds(e)),this}linearRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(t,n+this.toSeconds(e)),this}targetRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(t,n,e),this}exponentialApproachValueAtTime(t,e,n){e=this.toSeconds(e),n=this.toSeconds(n);const s=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(t,e,s),this.cancelAndHoldAtTime(e+.9*n),this.linearRampToValueAtTime(t,e+n),this}setTargetAtTime(t,e,n){const s=this._fromType(t);js(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(e);return this._assertRange(s),js(isFinite(s)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({constant:n,time:i,type:"setTargetAtTime",value:s}),this.log(this.units,"setTargetAtTime",t,i,n),this._param.setTargetAtTime(s,i,n),this}setValueCurveAtTime(t,e,n,s=1){n=this.toSeconds(n),e=this.toSeconds(e);const i=this._fromType(t[0])*s;this.setValueAtTime(this._toType(i),e);const r=n/(t.length-1);for(let n=1;n<t.length;n++){const i=this._fromType(t[n])*s;this.linearRampToValueAtTime(this._toType(i),e+n*r)}return this}cancelScheduledValues(t){const e=this.toSeconds(t);return js(isFinite(e),`Invalid argument to cancelScheduledValues: ${JSON.stringify(t)}`),this._events.cancel(e),this._param.cancelScheduledValues(e),this.log(this.units,"cancelScheduledValues",e),this}cancelAndHoldAtTime(t){const e=this.toSeconds(t),n=this._fromType(this.getValueAtTime(e));js(isFinite(e),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(t)}`),this.log(this.units,"cancelAndHoldAtTime",e,"value="+n);const s=this._events.get(e),i=this._events.getAfter(e);return s&&di(s.time,e)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(e),this._events.cancel(e+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),"linearRampToValueAtTime"===i.type?this.linearRampToValueAtTime(this._toType(n),e):"exponentialRampToValueAtTime"===i.type&&this.exponentialRampToValueAtTime(this._toType(n),e)),this._events.add({time:e,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,e),this}rampTo(t,e=.1,n){return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(t,e,n):this.linearRampTo(t,e,n),this}apply(t){const e=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(e),e);const n=this._events.get(e);if(n&&"setTargetAtTime"===n.type){const s=this._events.getAfter(n.time),i=s?s.time:e+2,r=(i-e)/10;for(let n=e;n<i;n+=r)t.linearRampToValueAtTime(this.getValueAtTime(n),n)}return this._events.forEachAfter(this.context.currentTime,(e=>{"cancelScheduledValues"===e.type?t.cancelScheduledValues(e.time):"setTargetAtTime"===e.type?t.setTargetAtTime(e.value,e.time,e.constant):t[e.type](e.value,e.time)})),this}setParam(t){js(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const e=this.input;return e.disconnect(this._param),this.apply(t),this._param=t,e.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,e,n,s,i){return n+(e-n)*Math.exp(-(i-t)/s)}_linearInterpolate(t,e,n,s,i){return e+(i-t)/(n-t)*(s-e)}_exponentialInterpolate(t,e,n,s,i){return e*Math.pow(s/e,(i-t)/(n-t))}}class Bi extends qi{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Ps(this.input)?Ks(this.input)||this.input instanceof Wi?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Ps(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return Ps(t)&&(t instanceof Bi||Js(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach((e=>{e.channelCount=t.channelCount,e.channelCountMode=t.channelCountMode,e.channelInterpretation=t.channelInterpretation}))}_getChannelProperties(){const t=this._getInternalNodes();js(t.length>0,"ToneAudioNode does not have any internal nodes");const e=t[0];return{channelCount:e.channelCount,channelCountMode:e.channelCountMode,channelInterpretation:e.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelInterpretation:t}))}connect(t,e=0,n=0){return Hi(this,t,e,n),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Hs("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,e=0,n=0){return function(t,e,n=0,s=0){if(Ps(e))for(;e instanceof Bi;)e=e.input;for(;!Js(t);)Ps(t.output)&&(t=t.output);Ks(e)?t.disconnect(e,n):Js(e)?t.disconnect(e,n,s):t.disconnect()}(this,t,e,n),this}chain(...t){return $i(this,...t),this}fan(...t){return t.forEach((t=>this.connect(t))),this}dispose(){return super.dispose(),Ps(this.input)&&(this.input instanceof Bi?this.input.dispose():Js(this.input)&&this.input.disconnect()),Ps(this.output)&&(this.output instanceof Bi?this.output.dispose():Js(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function $i(...t){const e=t.shift();t.reduce(((t,e)=>(t instanceof Bi?t.connect(e):Js(t)&&Hi(t,e),e)),e)}function Hi(t,e,n=0,s=0){for(js(Ps(t),"Cannot connect from undefined node"),js(Ps(e),"Cannot connect to undefined node"),(e instanceof Bi||Js(e))&&js(e.numberOfInputs>0,"Cannot connect to node with no inputs"),js(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof Bi||e instanceof Wi;)Ps(e.input)&&(e=e.input);for(;t instanceof Bi;)Ps(t.output)&&(t=t.output);Ks(e)?t.connect(e,n):t.connect(e,n,s)}class Qi extends Bi{constructor(){const t=ii(Qi.getDefaults(),arguments,["gain","units"]);super(t),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new Wi({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),wi(this,"gain")}static getDefaults(){return Object.assign(Bi.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Yi extends Bi{constructor(t){super(t),this.onended=ki,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Qi({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const e=this.toSeconds(t);return-1!==this._startTime&&e>=this._startTime&&(-1===this._stopTime||e<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(Bi.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:ki})}_startGain(t,e=1){js(-1===this._startTime,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=t+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,t),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(e,t+n):this._gainNode.gain.exponentialApproachValueAtTime(e,t,n)):this._gainNode.gain.setValueAtTime(e,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){js(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const e=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+e,this._stopTime=Math.max(this._stopTime,this.now()),e>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,e,t):this._gainNode.gain.targetRampTo(0,e,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout((()=>{const t="exponential"===this._curve?2*e:0;this._stopSource(this.now()+t),this._onended()}),this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==ki&&(this.onended(this),this.onended=ki,!this.context.isOffline)){const t=()=>this.dispose();void 0!==window.requestIdleCallback?window.requestIdleCallback(t):setTimeout(t,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),js(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=ki,this}}class Xi extends Yi{constructor(){const t=ii(Xi.getDefaults(),arguments,["offset"]);super(t),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Hi(this._source,this._gainNode),this.offset=new Wi({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(Yi.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._source.start(e),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Gi extends Bi{constructor(){const t=ii(Gi.getDefaults(),arguments,["value","units"]);super(t),this.name="Signal",this.override=!0,this.output=this._constantSource=new Xi({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Bi.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,e=0,n=0){return Zi(this,t,e,n),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,e){return this._param.setValueAtTime(t,e),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,e){return this._param.linearRampToValueAtTime(t,e),this}exponentialRampToValueAtTime(t,e){return this._param.exponentialRampToValueAtTime(t,e),this}exponentialRampTo(t,e,n){return this._param.exponentialRampTo(t,e,n),this}linearRampTo(t,e,n){return this._param.linearRampTo(t,e,n),this}targetRampTo(t,e,n){return this._param.targetRampTo(t,e,n),this}exponentialApproachValueAtTime(t,e,n){return this._param.exponentialApproachValueAtTime(t,e,n),this}setTargetAtTime(t,e,n){return this._param.setTargetAtTime(t,e,n),this}setValueCurveAtTime(t,e,n,s){return this._param.setValueCurveAtTime(t,e,n,s),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,e,n){return this._param.rampTo(t,e,n),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function Zi(t,e,n,s){(e instanceof Wi||Ks(e)||e instanceof Gi&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Gi&&(e.overridden=!0)),Hi(t,e,n,s)}class Ki extends Wi{constructor(){const t=ii(Ki.getDefaults(),arguments,["value"]);super(t),this.name="TickParam",this._events=new pi(1/0),this._multiplier=1,this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Wi.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,e,n){e=this.toSeconds(e),this.setRampPoint(e);const s=this._fromType(t),i=this._events.get(e),r=Math.round(Math.max(1/n,1));for(let t=0;t<=r;t++){const r=n*t+e,o=this._exponentialApproach(i.time,i.value,s,n,r);this.linearRampToValueAtTime(this._toType(o),r)}return this}setValueAtTime(t,e){const n=this.toSeconds(e);super.setValueAtTime(t,e);const s=this._events.get(n),i=this._events.previousEvent(s),r=this._getTicksUntilEvent(i,n);return s.ticks=Math.max(r,0),this}linearRampToValueAtTime(t,e){const n=this.toSeconds(e);super.linearRampToValueAtTime(t,e);const s=this._events.get(n),i=this._events.previousEvent(s),r=this._getTicksUntilEvent(i,n);return s.ticks=Math.max(r,0),this}exponentialRampToValueAtTime(t,e){e=this.toSeconds(e);const n=this._fromType(t),s=this._events.get(e),i=Math.round(Math.max(10*(e-s.time),1)),r=(e-s.time)/i;for(let t=0;t<=i;t++){const i=r*t+s.time,o=this._exponentialInterpolate(s.time,s.value,e,n,i);this.linearRampToValueAtTime(this._toType(o),i)}return this}_getTicksUntilEvent(t,e){if(null===t)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Ds(t.ticks)){const e=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(e,t.time)}const n=this._fromType(this.getValueAtTime(t.time));let s=this._fromType(this.getValueAtTime(e));const i=this._events.get(e);return i&&i.time===e&&"setValueAtTime"===i.type&&(s=this._fromType(this.getValueAtTime(e-this.sampleTime))),.5*(e-t.time)*(n+s)+t.ticks}getTicksAtTime(t){const e=this.toSeconds(t),n=this._events.get(e);return Math.max(this._getTicksUntilEvent(n,e),0)}getDurationOfTicks(t,e){const n=this.toSeconds(e),s=this.getTicksAtTime(e);return this.getTimeOfTick(s+t)-n}getTimeOfTick(t){const e=this._events.get(t,"ticks"),n=this._events.getAfter(t,"ticks");if(e&&e.ticks===t)return e.time;if(e&&n&&"linearRampToValueAtTime"===n.type&&e.value!==n.value){const s=this._fromType(this.getValueAtTime(e.time)),i=(this._fromType(this.getValueAtTime(n.time))-s)/(n.time-e.time),r=Math.sqrt(Math.pow(s,2)-2*i*(e.ticks-t)),o=(-s+r)/i;return(o>0?o:(-s-r)/i)+e.time}return e?0===e.value?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue}ticksToTime(t,e){return this.getDurationOfTicks(t,e)}timeToTicks(t,e){const n=this.toSeconds(e),s=this.toSeconds(t),i=this.getTicksAtTime(n);return this.getTicksAtTime(n+s)-i}_fromType(t){return"bpm"===this.units&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return"bpm"===this.units&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const e=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(e,0)}}class Ji extends Gi{constructor(){const t=ii(Ji.getDefaults(),arguments,["value"]);super(t),this.name="TickSignal",this.input=this._param=new Ki({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(Gi.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,e){return this._param.ticksToTime(t,e)}timeToTicks(t,e){return this._param.timeToTicks(t,e)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,e){return this._param.getDurationOfTicks(t,e)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class tr extends qi{constructor(){const t=ii(tr.getDefaults(),arguments,["frequency"]);super(t),this.name="TickSource",this._state=new Ui,this._tickOffset=new pi,this._ticksAtTime=new pi,this._secondsAtTime=new pi,this.frequency=new Ji({context:this.context,units:t.units,value:t.frequency}),wi(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},qi.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,e){const n=this.toSeconds(t);return"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),Ps(e)&&this.setTicksAtTime(e,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}stop(t){const e=this.toSeconds(t);if("stopped"===this._state.getValueAtTime(e)){const t=this._state.get(e);t&&t.time>0&&(this._tickOffset.cancel(t.time),this._state.cancel(t.time))}return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this.setTicksAtTime(0,e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&(this._state.setStateAtTime("paused",e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e)),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getTicksAtTime(t){const e=this.toSeconds(t),n=this._state.getLastState("stopped",e),s=this._ticksAtTime.get(e),i={state:"paused",time:e};this._state.add(i);let r=s||n,o=s?s.ticks:0,a=null;return this._state.forEachBetween(r.time,e+this.sampleTime,(t=>{let e=r.time;const n=this._tickOffset.get(t.time);n&&n.time>=r.time&&(o=n.ticks,e=n.time),"started"===r.state&&"started"!==t.state&&(o+=this.frequency.getTicksAtTime(t.time)-this.frequency.getTicksAtTime(e),t.time!==i.time&&(a={state:t.state,time:t.time,ticks:o})),r=t})),this._state.remove(i),a&&this._ticksAtTime.add(a),o}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const e=this.now(),n=this.frequency.timeToTicks(t,e);this.setTicksAtTime(n,e)}getSecondsAtTime(t){t=this.toSeconds(t);const e=this._state.getLastState("stopped",t),n={state:"paused",time:t};this._state.add(n);const s=this._secondsAtTime.get(t);let i=s||e,r=s?s.seconds:0,o=null;return this._state.forEachBetween(i.time,t+this.sampleTime,(t=>{let e=i.time;const s=this._tickOffset.get(t.time);s&&s.time>=i.time&&(r=s.seconds,e=s.time),"started"===i.state&&"started"!==t.state&&(r+=t.time-e,t.time!==n.time&&(o={state:t.state,time:t.time,seconds:r})),i=t})),this._state.remove(n),o&&this._secondsAtTime.add(o),r}setTicksAtTime(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,e),ticks:t,time:e}),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,e=this.now()){const n=this._tickOffset.get(e),s=this._state.get(e),i=Math.max(n.time,s.time),r=this.frequency.getTicksAtTime(i)+t-n.ticks;return this.frequency.getTimeOfTick(r)}forEachTickBetween(t,e,n){let s=this._state.get(t);this._state.forEachBetween(t,e,(e=>{s&&"started"===s.state&&"started"!==e.state&&this.forEachTickBetween(Math.max(s.time,t),e.time-this.sampleTime,n),s=e}));let i=null;if(s&&"started"===s.state){const r=Math.max(s.time,t),o=this.frequency.getTicksAtTime(r),a=o-this.frequency.getTicksAtTime(s.time);let l=Math.ceil(a)-a;l=di(l,1)?0:l;let u=this.frequency.getTimeOfTick(o+l);for(;u<e;){try{n(u,Math.round(this.getTicksAtTime(u)))}catch(t){i=t;break}u+=this.frequency.getDurationOfTicks(1,u)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class er extends qi{constructor(){const t=ii(er.getDefaults(),arguments,["callback","frequency"]);super(t),this.name="Clock",this.callback=ki,this._lastUpdate=0,this._state=new Ui("stopped"),this._boundLoop=this._loop.bind(this),this.callback=t.callback,this._tickSource=new tr({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,wi(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(qi.getDefaults(),{callback:ki,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,e){qs(this.context);const n=this.toSeconds(t);return this.log("start",n),"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,e),n<this._lastUpdate&&this.emit("start",n,e)),this}stop(t){const e=this.toSeconds(t);return this.log("stop",e),this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._tickSource.stop(e),e<this._lastUpdate&&this.emit("stop",e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&(this._state.setStateAtTime("paused",e),this._tickSource.pause(e),e<this._lastUpdate&&this.emit("pause",e)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,e){return this._tickSource.setTicksAtTime(t,e),this}getTimeOfTick(t,e=this.now()){return this._tickSource.getTimeOfTick(t,e)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,e){const n=this.toSeconds(e),s=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(s+t,n)}_loop(){const t=this._lastUpdate,e=this.now();this._lastUpdate=e,this.log("loop",t,e),t!==e&&(this._state.forEachBetween(t,e,(t=>{switch(t.state){case"started":const e=this._tickSource.getTicksAtTime(t.time);this.emit("start",t.time,e);break;case"stopped":0!==t.time&&this.emit("stop",t.time);break;case"paused":this.emit("pause",t.time)}})),this._tickSource.forEachTickBetween(t,e,((t,e)=>{this.callback(t,e)})))}getStateAtTime(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}yi.mixin(er);class nr extends Bi{constructor(){const t=ii(nr.getDefaults(),arguments,["delayTime","maxDelay"]);super(t),this.name="Delay";const e=this.toSeconds(t.maxDelay);this._maxDelay=Math.max(e,this.toSeconds(t.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(e),this.delayTime=new Wi({context:this.context,param:this._delayNode.delayTime,units:"time",value:t.delayTime,minValue:0,maxValue:this.maxDelay}),wi(this,"delayTime")}static getDefaults(){return Object.assign(Bi.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}class sr extends Bi{constructor(){const t=ii(sr.getDefaults(),arguments,["volume"]);super(t),this.name="Volume",this.input=this.output=new Qi({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,wi(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(Bi.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class ir extends Bi{constructor(){const t=ii(ir.getDefaults(),arguments);super(t),this.name="Destination",this.input=new sr({context:this.context}),this.output=new Qi({context:this.context}),this.volume=this.input.volume,$i(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Bi.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),$i(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}mi((t=>{t.destination=new ir({context:t})})),vi((t=>{t.destination.dispose()}));class rr extends Bi{constructor(){super(...arguments),this.name="Listener",this.positionX=new Wi({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Wi({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Wi({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Wi({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Wi({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Wi({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Wi({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Wi({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Wi({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Bi.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}mi((t=>{t.listener=new rr({context:t})})),vi((t=>{t.listener.dispose()}));class or extends ai{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=ii(or.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach((e=>{this._loadingCount++;const n=t.urls[e];this.add(e,n,this._bufferLoaded.bind(this,t.onload),t.onerror)}))}static getDefaults(){return{baseUrl:"",onerror:ki,onload:ki,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return js(this.has(t),`ToneAudioBuffers has no buffer named: ${t}`),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,0===this._loadingCount&&t&&t()}get loaded(){return Array.from(this._buffers).every((([t,e])=>e.loaded))}add(t,e,n=ki,s=ki){return zs(e)?(this.baseUrl&&"data:audio/"===e.trim().substring(0,11).toLowerCase()&&(this.baseUrl=""),this._buffers.set(t.toString(),new Si(this.baseUrl+e,n,s))):this._buffers.set(t.toString(),new Si(e,n,s)),this}dispose(){return super.dispose(),this._buffers.forEach((t=>t.dispose())),this._buffers.clear(),this}}class ar extends zi{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(t){return Pi(super._frequencyToUnits(t))}_ticksToUnits(t){return Pi(super._ticksToUnits(t))}_beatsToUnits(t){return Pi(super._beatsToUnits(t))}_secondsToUnits(t){return Pi(super._secondsToUnits(t))}toMidi(){return this.valueOf()}toFrequency(){return Ri(this.toMidi())}transpose(t){return new ar(this.context,this.toMidi()+t)}}class lr extends Li{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class ur extends qi{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new pi,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=t;){const e=this._events.shift();e&&t-e.time<=this.expiration&&e.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}mi((t=>{t.draw=new ur({context:t})})),vi((t=>{t.draw.dispose()}));class cr extends ai{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){js(Ps(t.time),"Events must have a time property"),js(Ps(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let e=new hr(t.time,t.time+t.duration,t);for(null===this._root?this._root=e:this._root.insert(e),this._length++;null!==e;)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this}remove(t){if(null!==this._root){const e=[];this._root.search(t.time,e);for(const n of e)if(n.event===t){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,(t=>this.remove(t))),this}_setRoot(t){this._root=t,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)}_removeNode(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{let e,n=null;if(t.getBalance()>0)if(null===t.left.right)e=t.left,e.right=t.right,n=e;else{for(e=t.left.right;null!==e.right;)e=e.right;e.parent&&(e.parent.right=e.left,n=e.parent,e.left=t.left,e.right=t.right)}else if(null===t.right.left)e=t.right,e.left=t.left,n=e;else{for(e=t.right.left;null!==e.left;)e=e.left;e.parent&&(e.parent.left=e.right,n=e.parent,e.left=t.left,e.right=t.right)}null!==t.parent?t.isLeftChild()?t.parent.left=e:t.parent.right=e:this._setRoot(e),n&&this._rebalance(n)}t.dispose()}_rotateLeft(t){const e=t.parent,n=t.isLeftChild(),s=t.right;s&&(t.right=s.left,s.left=t),null!==e?n?e.left=s:e.right=s:this._setRoot(s)}_rotateRight(t){const e=t.parent,n=t.isLeftChild(),s=t.left;s&&(t.left=s.right,s.right=t),null!==e?n?e.left=s:e.right=s:this._setRoot(s)}_rebalance(t){const e=t.getBalance();e>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(null!==this._root){const e=[];if(this._root.search(t,e),e.length>0){let t=e[0];for(let n=1;n<e.length;n++)e[n].low>t.low&&(t=e[n]);return t.event}}return null}forEach(t){if(null!==this._root){const e=[];this._root.traverse((t=>e.push(t))),e.forEach((e=>{e.event&&t(e.event)}))}return this}forEachAtTime(t,e){if(null!==this._root){const n=[];this._root.search(t,n),n.forEach((t=>{t.event&&e(t.event)}))}return this}forEachFrom(t,e){if(null!==this._root){const n=[];this._root.searchAfter(t,n),n.forEach((t=>{t.event&&e(t.event)}))}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse((t=>t.dispose())),this._root=null,this}}class hr{constructor(t,e,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=t,this.high=e,this.max=this.high}insert(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)}search(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))}searchAfter(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)}traverse(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)}updateHeight(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class dr extends ai{constructor(t){super(),this.name="TimelineValue",this._timeline=new pi({memory:10}),this._initialValue=t}set(t,e){return this._timeline.add({value:t,time:e}),this}get(t){const e=this._timeline.get(t);return e?e.value:this._initialValue}}class pr extends Bi{constructor(){super(ii(pr.getDefaults(),arguments,["context"]))}connect(t,e=0,n=0){return Zi(this,t,e,n),this}}class fr extends pr{constructor(){const t=ii(fr.getDefaults(),arguments,["mapping","length"]);super(t),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Vs(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):"function"==typeof t.mapping&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(Gi.getDefaults(),{length:1024})}setMap(t,e=1024){const n=new Float32Array(e);for(let s=0,i=e;s<i;s++){const e=s/(i-1)*2-1;n[s]=t(e,s)}return this.curve=n,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){js(["none","2x","4x"].some((e=>e.includes(t))),"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class mr extends pr{constructor(){const t=ii(mr.getDefaults(),arguments,["value"]);super(t),this.name="Pow",this._exponentScaler=this.input=this.output=new fr({context:this.context,mapping:this._expFunc(t.value),length:8192}),this._exponent=t.value}static getDefaults(){return Object.assign(pr.getDefaults(),{value:1})}_expFunc(t){return e=>Math.pow(Math.abs(e),t)}get value(){return this._exponent}set value(t){this._exponent=t,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class gr{constructor(t,e){this.id=gr._eventId++,this._remainderTime=0;const n=Object.assign(gr.getDefaults(),e);this.transport=t,this.callback=n.callback,this._once=n.once,this.time=Math.floor(n.time),this._remainderTime=n.time-this.time}static getDefaults(){return{callback:ki,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(t){if(this.callback){const e=this.transport.bpm.getDurationOfTicks(1,t);this.callback(t+this._remainderTime*e),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}gr._eventId=0;class vr extends gr{constructor(t,e){super(t,e),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign(vr.getDefaults(),e);this.duration=n.duration,this._interval=n.interval,this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},gr.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvent(){return hi(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new lr(this.context,this._nextTick).toSeconds()):-1}_createEvents(t){hi(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new lr(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const e=this.transport.getTicksAtTime(t);ui(e,this.time)&&(this._nextTick=this.floatTime+Math.ceil((e-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class yr extends qi{constructor(){const t=ii(yr.getDefaults(),arguments);super(t),this.name="Transport",this._loop=new dr(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new pi,this._repeatedEvents=new cr,this._syncedSignals=[],this._swingAmount=0,this._ppq=t.ppq,this._clock=new er({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),wi(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(qi.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,e){if(this._loop.get(t)&&e>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),e=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&e%this._ppq!=0&&e%(2*this._swingTicks)!=0){const n=e%(2*this._swingTicks)/(2*this._swingTicks),s=Math.sin(n*Math.PI)*this._swingAmount;t+=new lr(this.context,2*this._swingTicks/3).toSeconds()*s}Bs(!0),this._timeline.forEachAtTime(e,(e=>e.invoke(t))),Bs(!1)}schedule(t,e){const n=new gr(this,{callback:t,time:new Li(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(t,e,n,s=1/0){const i=new vr(this,{callback:t,duration:new Vi(this.context,s).toTicks(),interval:new Vi(this.context,e).toTicks(),time:new Li(this.context,n).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(t,e){const n=new gr(this,{callback:t,once:!0,time:new Li(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id}cancel(t=0){const e=this.toTicks(t);return this._timeline.forEachFrom(e,(t=>this.clear(t.id))),this._repeatedEvents.forEachFrom(e,(t=>this.clear(t.id))),this}_bindClockEvents(){this._clock.on("start",((t,e)=>{e=new lr(this.context,e).toSeconds(),this.emit("start",t,e)})),this._clock.on("stop",(t=>{this.emit("stop",t)})),this._clock.on("pause",(t=>{this.emit("pause",t)}))}get state(){return this._clock.getStateAtTime(this.now())}start(t,e){let n;return this.context.resume(),Ps(e)&&(n=this.toTicks(e)),this._clock.start(t,n),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),"started"!==this._clock.getStateAtTime(t)?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){Vs(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new Vi(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new Vi(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new lr(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),e=this._clock.getTicksAtTime(t);return new lr(this.context,e).toBarsBeatsSixteenths()}set position(t){const e=this.toTicks(t);this.ticks=e}get seconds(){return this._clock.seconds}set seconds(t){const e=this.now(),n=this._clock.frequency.timeToTicks(t,e);this.ticks=n}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const e=this.now();if("started"===this.state){const n=this._clock.getTicksAtTime(e),s=e+this._clock.frequency.getDurationOfTicks(Math.ceil(n)-n,e);this.emit("stop",s),this._clock.setTicksAtTime(t,s),this.emit("start",s,this._clock.getSecondsAtTime(s))}else this.emit("ticks",e),this._clock.setTicksAtTime(t,e)}}getTicksAtTime(t){return this._clock.getTicksAtTime(t)}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),"started"!==this.state)return 0;{const e=this.now(),n=t-this.getTicksAtTime(e)%t;return this._clock.nextTickTime(n,e)}}syncSignal(t,e){const n=this.now();let s=this.bpm,i=1/(60/s.getValueAtTime(n)/this.PPQ),r=[];if("time"===t.units){const t=1/64/i,e=new Qi(t),n=new mr(-1),o=new Qi(t);s.chain(e,n,o),s=o,i=1/i,r=[e,n,o]}e||(e=0!==t.getValueAtTime(n)?t.getValueAtTime(n)/i:0);const o=new Qi(e);return s.connect(o),o.connect(t._param),r.push(o),this._syncedSignals.push({initial:t.value,nodes:r,signal:t}),t.value=0,this}unsyncSignal(t){for(let e=this._syncedSignals.length-1;e>=0;e--){const n=this._syncedSignals[e];n.signal===t&&(n.nodes.forEach((t=>t.dispose())),n.signal.value=n.initial,this._syncedSignals.splice(e,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),xi(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}yi.mixin(yr),mi((t=>{t.transport=new yr({context:t})})),vi((t=>{t.transport.dispose()}));class _r extends Bi{constructor(t){super(t),this.input=void 0,this._state=new Ui("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=ki,this._syncedStop=ki,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new sr({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,wi(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(Bi.getDefaults(),{mute:!1,onstop:ki,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,e,n){let s=Ds(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(s=this._clampToCurrentTime(s),this._synced||"started"!==this._state.getValueAtTime(s))if(this.log("start",s),this._state.setStateAtTime("started",s),this._synced){const t=this._state.get(s);t&&(t.offset=this.toSeconds(ri(e,0)),t.duration=n?this.toSeconds(n):void 0);const i=this.context.transport.schedule((t=>{this._start(t,e,n)}),s);this._scheduled.push(i),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>s&&this._syncedStart(this.now(),this.context.transport.seconds)}else qs(this.context),this._start(s,e,n);else js(ui(s,this._state.get(s).time),"Start time must be strictly greater than previous start time"),this._state.cancel(s),this._state.setStateAtTime("started",s),this.log("restart",s),this.restart(s,e,n);return this}stop(t){let e=Ds(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(e=this._clampToCurrentTime(e),"started"===this._state.getValueAtTime(e)||Ps(this._state.getNextState("started",e))){if(this.log("stop",e),this._synced){const t=this.context.transport.schedule(this._stop.bind(this),e);this._scheduled.push(t)}else this._stop(e);this._state.cancel(e),this._state.setStateAtTime("stopped",e)}return this}restart(t,e,n){return t=this.toSeconds(t),"started"===this._state.getValueAtTime(t)&&(this._state.cancel(t),this._restart(t,e,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,e)=>{if(ui(e,0)){const n=this._state.get(e);if(n&&"started"===n.state&&n.time!==e){const s=e-this.toSeconds(n.time);let i;n.duration&&(i=this.toSeconds(n.duration)-s),this._start(t,this.toSeconds(n.offset)+s,i)}}},this._syncedStop=t=>{const e=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));"started"===this._state.getValueAtTime(e)&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach((t=>this.context.transport.clear(t))),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=ki,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class br extends Yi{constructor(){const t=ii(br.getDefaults(),arguments,["url","onload"]);super(t),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Hi(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Wi({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new Si(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Yi.getDefaults(),{url:new Si,loop:!1,loopEnd:0,loopStart:0,onload:ki,onerror:ki,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,e,n,s=1){js(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(t);this._startGain(i,s),e=this.loop?ri(e,this.loopStart):ri(e,0);let r=Math.max(this.toSeconds(e),0);if(this.loop){const t=this.toSeconds(this.loopEnd)||this.buffer.duration,e=this.toSeconds(this.loopStart),n=t-e;ci(r,t)&&(r=(r-e)%n+e),di(r,this.buffer.duration)&&(r=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,hi(r,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,r)),Ps(n)){let t=this.toSeconds(n);t=Math.max(t,0),this.stop(i+t)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class wr extends _r{constructor(){const t=ii(wr.getDefaults(),arguments,["type"]);super(t),this.name="Noise",this._source=null,this._playbackRate=t.playbackRate,this.type=t.type,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign(_r.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(t){if(js(t in Sr,"Noise: invalid type: "+t),this._type!==t&&(this._type=t,"started"===this.state)){const t=this.now();this._stop(t),this._start(t)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._source&&(this._source.playbackRate.value=t)}_start(t){const e=Sr[this._type];this._source=new br({url:e,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(t),Math.random()*(e.duration-.001))}_stop(t){this._source&&(this._source.stop(this.toSeconds(t)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(t){this._stop(t),this._start(t)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const xr=220500,kr={brown:null,pink:null,white:null},Sr={get brown(){if(!kr.brown){const t=[];for(let e=0;e<2;e++){const n=new Float32Array(xr);t[e]=n;let s=0;for(let t=0;t<xr;t++){const e=2*Math.random()-1;n[t]=(s+.02*e)/1.02,s=n[t],n[t]*=3.5}}kr.brown=(new Si).fromArray(t)}return kr.brown},get pink(){if(!kr.pink){const t=[];for(let e=0;e<2;e++){const n=new Float32Array(xr);let s,i,r,o,a,l,u;t[e]=n,s=i=r=o=a=l=u=0;for(let t=0;t<xr;t++){const e=2*Math.random()-1;s=.99886*s+.0555179*e,i=.99332*i+.0750759*e,r=.969*r+.153852*e,o=.8665*o+.3104856*e,a=.55*a+.5329522*e,l=-.7616*l-.016898*e,n[t]=s+i+r+o+a+l+u+.5362*e,n[t]*=.11,u=.115926*e}}kr.pink=(new Si).fromArray(t)}return kr.pink},get white(){if(!kr.white){const t=[];for(let e=0;e<2;e++){const n=new Float32Array(xr);t[e]=n;for(let t=0;t<xr;t++)n[t]=2*Math.random()-1}kr.white=(new Si).fromArray(t)}return kr.white}};function Tr(t,e){return Gs(this,void 0,void 0,(function*(){const n=e/t.context.sampleRate,s=new Ti(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:s})).toDestination().start(0),(yield s.render()).getChannelData(0)}))}class Cr extends Yi{constructor(){const t=ii(Cr.getDefaults(),arguments,["frequency","type"]);super(t),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Hi(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new Wi({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new Wi({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),wi(this,["frequency","detune"])}static getDefaults(){return Object.assign(Yi.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._oscillator.start(e),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Er extends _r{constructor(){const t=ii(Er.getDefaults(),arguments,["frequency","type"]);super(t),this.name="Oscillator",this._oscillator=null,this.frequency=new Gi({context:this.context,units:"frequency",value:t.frequency}),wi(this,"frequency"),this.detune=new Gi({context:this.context,units:"cents",value:t.detune}),wi(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&"custom"!==t.type&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(_r.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const e=this.toSeconds(t),n=new Cr({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(e)}_stop(t){const e=this.toSeconds(t);this._oscillator&&this._oscillator.stop(e)}_restart(t){const e=this.toSeconds(t);return this.log("restart",e),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(e),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type)return Er._periodicWaveCache.find((t=>{return t.phase===this._phase&&(e=t.partials,n=this._partials,e.length===n.length&&e.every(((t,e)=>n[e]===t)));var e,n}));{const t=Er._periodicWaveCache.find((t=>t.type===this._type&&t.phase===this._phase));return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const e=-1!==["sine","square","sawtooth","triangle"].indexOf(t);if(0===this._phase&&e)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=t);else{const e=this._getCachedPeriodicWave();if(Ps(e)){const{partials:t,wave:n}=e;this._wave=n,this._partials=t,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[e,n]=this._getRealImaginary(t,this._phase),s=this.context.createPeriodicWave(e,n);this._wave=s,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),Er._periodicWaveCache.push({imag:n,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:e,type:this._type,wave:this._wave}),Er._periodicWaveCache.length>100&&Er._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&"custom"!==this._type&&"custom"!==t?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){Ls(t,0);let e=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(e=n[1]),"custom"!==this._type)this.type=0===t?e:e+t.toString();else{const e=new Float32Array(t);this._partials.forEach(((t,n)=>e[n]=t)),this._partials=Array.from(e),this.type=this._type}}_getRealImaginary(t,e){let n=2048;const s=new Float32Array(n),i=new Float32Array(n);let r=1;if("custom"===t){if(r=this._partials.length+1,this._partialCount=this._partials.length,n=r,0===this._partials.length)return[s,i]}else{const e=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);e?(r=parseInt(e[2],10)+1,this._partialCount=parseInt(e[2],10),t=e[1],r=Math.max(r,2),n=r):this._partialCount=0,this._partials=[]}for(let o=1;o<n;++o){const n=2/(o*Math.PI);let a;switch(t){case"sine":a=o<=r?1:0,this._partials[o-1]=a;break;case"square":a=1&o?2*n:0,this._partials[o-1]=a;break;case"sawtooth":a=n*(1&o?1:-1),this._partials[o-1]=a;break;case"triangle":a=1&o?n*n*2*(o-1>>1&1?-1:1):0,this._partials[o-1]=a;break;case"custom":a=this._partials[o-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}0!==a?(s[o]=-a*Math.sin(e*o),i[o]=a*Math.cos(e*o)):(s[o]=0,i[o]=0)}return[s,i]}_inverseFFT(t,e,n){let s=0;const i=t.length;for(let r=0;r<i;r++)s+=t[r]*Math.cos(r*n)+e[r]*Math.sin(r*n);return s}getInitialValue(){const[t,e]=this._getRealImaginary(this._type,0);let n=0;const s=2*Math.PI;for(let i=0;i<32;i++)n=Math.max(this._inverseFFT(t,e,i/32*s),n);return i=-this._inverseFFT(t,e,this._phase)/n,r=-1,o=1,Math.max(Math.min(i,o),r);var i,r,o}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(){return Gs(this,arguments,void 0,(function*(t=1024){return Tr(this,t)}))}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Er._periodicWaveCache=[];class Ar extends pr{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new fr({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Or extends Gi{constructor(){const t=ii(Or.getDefaults(),arguments,["value"]);super(t),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new Qi({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Gi.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Mr extends _r{constructor(){const t=ii(Mr.getDefaults(),arguments,["frequency","type","modulationType"]);super(t),this.name="AMOscillator",this._modulationScale=new Ar({context:this.context}),this._modulationNode=new Qi({context:this.context}),this._carrier=new Er({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Er({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Or({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),wi(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Er.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(){return Gs(this,arguments,void 0,(function*(t=1024){return Tr(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Dr extends _r{constructor(){const t=ii(Dr.getDefaults(),arguments,["frequency","type","modulationType"]);super(t),this.name="FMOscillator",this._modulationNode=new Qi({context:this.context,gain:0}),this._carrier=new Er({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new Gi({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new Er({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Or({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new Or({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),wi(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Er.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(){return Gs(this,arguments,void 0,(function*(t=1024){return Tr(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Pr extends _r{constructor(){const t=ii(Pr.getDefaults(),arguments,["frequency","width"]);super(t),this.name="PulseOscillator",this._widthGate=new Qi({context:this.context,gain:0}),this._thresh=new fr({context:this.context,mapping:t=>t<=0?-1:1}),this.width=new Gi({context:this.context,units:"audioRange",value:t.width}),this._triangle=new Er({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),wi(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(_r.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(){return Gs(this,arguments,void 0,(function*(t=1024){return Tr(this,t)}))}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Nr extends _r{constructor(){const t=ii(Nr.getDefaults(),arguments,["frequency","type","spread"]);super(t),this.name="FatOscillator",this._oscillators=[],this.frequency=new Gi({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Gi({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,wi(this,["frequency","detune"])}static getDefaults(){return Object.assign(Er.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach((e=>e.start(t)))}_stop(t){t=this.toSeconds(t),this._forEach((e=>e.stop(t)))}_restart(t){this._forEach((e=>e.restart(t)))}_forEach(t){for(let e=0;e<this._oscillators.length;e++)t(this._oscillators[e],e)}get type(){return this._type}set type(t){this._type=t,this._forEach((e=>e.type=t))}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const e=-t/2,n=t/(this._oscillators.length-1);this._forEach(((t,s)=>t.detune.value=e+n*s))}}get count(){return this._oscillators.length}set count(t){if(Ls(t,1),this._oscillators.length!==t){this._forEach((t=>t.dispose())),this._oscillators=[];for(let e=0;e<t;e++){const n=new Er({context:this.context,volume:-6-1.1*t,type:this._type,phase:this._phase+e/t*360,partialCount:this._partialCount,onstop:0===e?()=>this.onstop(this):ki});"custom"===this.type&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[e]=n}this.spread=this._spread,"started"===this.state&&this._forEach((t=>t.start()))}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach(((t,e)=>t.phase=this._phase+e/this.count*360))}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach((e=>e.baseType=t)),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach((e=>e.partials=t)))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach((e=>e.partialCount=t)),this._type=this._oscillators[0].type}asArray(){return Gs(this,arguments,void 0,(function*(t=1024){return Tr(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach((t=>t.dispose())),this}}class Rr extends _r{constructor(){const t=ii(Rr.getDefaults(),arguments,["frequency","modulationFrequency"]);super(t),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Or({context:this.context,value:2}),this._pulse=new Pr({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Er({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),wi(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(_r.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(){return Gs(this,arguments,void 0,(function*(t=1024){return Tr(this,t)}))}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Ir={am:Mr,fat:Nr,fm:Dr,oscillator:Er,pulse:Pr,pwm:Rr};class Vr extends _r{constructor(){const t=ii(Vr.getDefaults(),arguments,["frequency","type"]);super(t),this.name="OmniOscillator",this.frequency=new Gi({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Gi({context:this.context,units:"cents",value:t.detune}),wi(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(Er.getDefaults(),Dr.getDefaults(),Mr.getDefaults(),Nr.getDefaults(),Pr.getDefaults(),Rr.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some((t=>this._sourceType===t))&&(t=this._sourceType),t+this._oscillator.type}set type(t){"fm"===t.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"am"===t.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"fat"===t.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):"pwm"===t?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===t?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const e=Ir[t],n=this.now();if(this._oscillator){const t=this._oscillator;t.stop(n),this.context.setTimeout((()=>t.dispose()),this.blockTime)}this._oscillator=new e({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let e="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(e=this._oscillator.type),"fm"===t?this.type="fm"+e:"am"===t?this.type="am"+e:"fat"===t?this.type="fat"+e:"oscillator"===t?this.type=e:"pulse"===t?this.type="pulse":"pwm"===t&&(this.type="pwm")}_getOscType(t,e){return t instanceof Ir[e]}get baseType(){return this._oscillator.baseType}set baseType(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||"pulse"===t||"pwm"===t||(this._oscillator.baseType=t)}get width(){return this._getOscType(this._oscillator,"pulse")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,"fat")?this._oscillator.count:void 0}set count(t){this._getOscType(this._oscillator,"fat")&&Ns(t)&&(this._oscillator.count=t)}get spread(){return this._getOscType(this._oscillator,"fat")?this._oscillator.spread:void 0}set spread(t){this._getOscType(this._oscillator,"fat")&&Ns(t)&&(this._oscillator.spread=t)}get modulationType(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.modulationType:void 0}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&zs(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){return this._getOscType(this._oscillator,"fm")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,"pwm")?this._oscillator.modulationFrequency:void 0}asArray(){return Gs(this,arguments,void 0,(function*(t=1024){return Tr(this,t)}))}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class zr extends Gi{constructor(){super(ii(zr.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new Qi({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,$i(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Gi.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class Fr extends pr{constructor(){const t=ii(Fr.getDefaults(),arguments,["min","max"]);super(t),this.name="Scale",this._mult=this.input=new Or({context:this.context,value:t.max-t.min}),this._add=this.output=new zr({context:this.context,value:t.min}),this._min=t.min,this._max=t.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(pr.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(t){this._min=t,this._setRange()}get max(){return this._max}set max(t){this._max=t,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}function jr(t,e=1/0){const n=new WeakMap;return function(s,i){Reflect.defineProperty(s,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){Ls(s,t,e),n.set(this,s)}})}}function Lr(t,e=1/0){const n=new WeakMap;return function(s,i){Reflect.defineProperty(s,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){Ls(this.toSeconds(s),t,e),n.set(this,s)}})}}class qr extends _r{constructor(){const t=ii(qr.getDefaults(),arguments,["url","onload"]);super(t),this.name="Player",this._activeSources=new Set,this._buffer=new Si({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(_r.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:ki,onerror:ki,playbackRate:1,reverse:!1})}load(t){return Gs(this,void 0,void 0,(function*(){return yield this._buffer.load(t),this._onload(),this}))}_onload(t=ki){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),0!==this._activeSources.size||this._synced||"started"!==this._state.getValueAtTime(this.now())||(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,e,n){return super.start(t,e,n),this}_start(t,e,n){e=this._loop?ri(e,this._loopStart):ri(e,0);const s=this.toSeconds(e),i=n;n=ri(n,Math.max(this._buffer.duration-s,0));let r=this.toSeconds(n);r/=this._playbackRate,t=this.toSeconds(t);const o=new br({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(t+r),this._state.setStateAtTime("stopped",t+r,{implicitEnd:!0})),this._activeSources.add(o),this._loop&&Ds(i)?o.start(t,s):o.start(t,s,r-this.toSeconds(this.fadeOut))}_stop(t){const e=this.toSeconds(t);this._activeSources.forEach((t=>t.stop(e)))}restart(t,e,n){return super.restart(t,e,n),this}_restart(t,e,n){var s;null===(s=[...this._activeSources].pop())||void 0===s||s.stop(t),this._start(t,e,n)}seek(t,e){const n=this.toSeconds(e);if("started"===this._state.getValueAtTime(n)){const e=this.toSeconds(t);this._stop(n),this._start(n,e)}return this}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&Ls(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach((e=>{e.loopStart=t}))}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&Ls(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach((e=>{e.loopEnd=t}))}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach((e=>{e.loop=t})),t)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const e=this.now(),n=this._state.getNextState("stopped",e);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach((t=>t.cancelStop()))),this._activeSources.forEach((n=>{n.playbackRate.setValueAtTime(t,e)}))}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach((t=>t.dispose())),this._activeSources.clear(),this._buffer.dispose(),this}}Xs([Lr(0)],qr.prototype,"fadeIn",void 0),Xs([Lr(0)],qr.prototype,"fadeOut",void 0);class Ur extends pr{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new fr({context:this.context,mapping:t=>2*Math.abs(t)-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Wr extends Bi{constructor(){const t=ii(Wr.getDefaults(),arguments,["attack","decay","sustain","release"]);super(t),this.name="Envelope",this._sig=new Gi({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(Bi.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,e){if(zs(t))return t;{let n;for(n in Br)if(Br[n][e]===t)return n;return t}}_setCurve(t,e,n){if(zs(n)&&Reflect.has(Br,n)){const s=Br[n];Rs(s)?"_decayCurve"!==t&&(this[t]=s[e]):this[t]=s}else{if(!Vs(n)||"_decayCurve"===t)throw new Error("Envelope: invalid curve: "+n);this[t]=n}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(t){this._setCurve("_decayCurve","Out",t)}triggerAttack(t,e=1){this.log("triggerAttack",t,e),t=this.toSeconds(t);let n=this.toSeconds(this.attack);const s=this.toSeconds(this.decay),i=this.getValueAtTime(t);if(i>0&&(n=(1-i)/(1/n)),n<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(e,t);else if("linear"===this._attackCurve)this._sig.linearRampTo(e,n,t);else if("exponential"===this._attackCurve)this._sig.targetRampTo(e,n,t);else{this._sig.cancelAndHoldAtTime(t);let s=this._attackCurve;for(let t=1;t<s.length;t++)if(s[t-1]<=i&&i<=s[t]){s=this._attackCurve.slice(t),s[0]=i;break}this._sig.setValueCurveAtTime(s,t,n,e)}if(s&&this.sustain<1){const i=e*this.sustain,r=t+n;this.log("decay",r),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(i,s+r):this._sig.exponentialApproachValueAtTime(i,r,s)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const e=this.getValueAtTime(t);if(e>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,t):"linear"===this._releaseCurve?this._sig.linearRampTo(0,n,t):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,n,t):(js(Vs(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,n,e))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,e,n=1){return e=this.toSeconds(e),this.triggerAttack(e,n),this.triggerRelease(e+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,e=0,n=0){return Zi(this,t,e,n),this}asArray(){return Gs(this,arguments,void 0,(function*(t=1024){const e=t/this.context.sampleRate,n=new Ti(1,e,this.context.sampleRate),s=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=s+this.toSeconds(this.release),r=.1*i,o=i+r,a=new this.constructor(Object.assign(this.get(),{attack:e*this.toSeconds(this.attack)/o,decay:e*this.toSeconds(this.decay)/o,release:e*this.toSeconds(this.release)/o,context:n}));return a._sig.toDestination(),a.triggerAttackRelease(e*(s+r)/o,0),(yield n.render()).getChannelData(0)}))}dispose(){return super.dispose(),this._sig.dispose(),this}}Xs([Lr(0)],Wr.prototype,"attack",void 0),Xs([Lr(0)],Wr.prototype,"decay",void 0),Xs([jr(0,1)],Wr.prototype,"sustain",void 0),Xs([Lr(0)],Wr.prototype,"release",void 0);const Br=(()=>{const t=128;let e,n;const s=[];for(e=0;e<t;e++)s[e]=Math.sin(e/127*(Math.PI/2));const i=[];for(e=0;e<127;e++){n=e/127;const t=Math.sin(n*(2*Math.PI)*6.4-Math.PI/2)+1;i[e]=t/10+.83*n}i[127]=1;const r=[];for(e=0;e<t;e++)r[e]=Math.ceil(e/127*5)/5;const o=[];for(e=0;e<t;e++)n=e/127,o[e]=.5*(1-Math.cos(Math.PI*n));const a=[];for(e=0;e<t;e++){n=e/127;const t=4*Math.pow(n,3)+.2,s=Math.cos(t*Math.PI*2*n);a[e]=Math.abs(s*(1-n))}function l(t){const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=1-t[n];return e}return{bounce:{In:l(a),Out:a},cosine:{In:s,Out:(u=s,u.slice(0).reverse())},exponential:"exponential",linear:"linear",ripple:{In:i,Out:l(i)},sine:{In:o,Out:l(o)},step:{In:r,Out:l(r)}};var u})();class $r extends Bi{constructor(){const t=ii($r.getDefaults(),arguments);super(t),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=t=>this._original_triggerRelease(t),this._volume=this.output=new sr({context:this.context,volume:t.volume}),this.volume=this._volume.volume,wi(this,"volume")}static getDefaults(){return Object.assign(Bi.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,e){const n=this["_original_"+t]=this[t];this[t]=(...t)=>{const s=t[e],i=this.context.transport.schedule((s=>{t[e]=s,n.apply(this,t)}),s);this._scheduledEvents.push(i)}}unsync(){return this._scheduledEvents.forEach((t=>this.context.transport.clear(t))),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(t,e,n,s){const i=this.toSeconds(n),r=this.toSeconds(e);return this.triggerAttack(t,i,s),this.triggerRelease(i+r),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Hr extends $r{constructor(){const t=ii(Hr.getDefaults(),arguments);super(t),this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign($r.getDefaults(),{detune:0,onsilence:ki,portamento:0})}triggerAttack(t,e,n=1){this.log("triggerAttack",t,e,n);const s=this.toSeconds(e);return this._triggerEnvelopeAttack(s,n),this.setNote(t,s),this}triggerRelease(t){this.log("triggerRelease",t);const e=this.toSeconds(t);return this._triggerEnvelopeRelease(e),this}setNote(t,e){const n=this.toSeconds(e),s=t instanceof zi?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const t=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(s,t,n)}else this.frequency.setValueAtTime(s,n);return this}}Xs([Lr(0)],Hr.prototype,"portamento",void 0);class Qr extends Wr{constructor(){super(ii(Qr.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Qi({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Yr extends Hr{constructor(){const t=ii(Yr.getDefaults(),arguments);super(t),this.name="Synth",this.oscillator=new Vr(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Qr(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),wi(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Hr.getDefaults(),{envelope:Object.assign(oi(Wr.getDefaults(),Object.keys(Bi.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(oi(Vr.getDefaults(),[...Object.keys(_r.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,e){if(this.envelope.triggerAttack(t,e),this.oscillator.start(t),0===this.envelope.sustain){const e=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+n)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Xr extends Hr{constructor(){const t=ii(Xr.getDefaults(),arguments);super(t),this.name="ModulationSynth",this._carrier=new Yr({context:this.context,oscillator:t.oscillator,envelope:t.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new Yr({context:this.context,oscillator:t.modulation,envelope:t.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new Gi({context:this.context,units:"frequency"}),this.detune=new Gi({context:this.context,value:t.detune,units:"cents"}),this.harmonicity=new Or({context:this.context,value:t.harmonicity,minValue:0}),this._modulationNode=new Qi({context:this.context,gain:0}),wi(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(Hr.getDefaults(),{harmonicity:3,oscillator:Object.assign(oi(Vr.getDefaults(),[...Object.keys(_r.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(oi(Wr.getDefaults(),Object.keys(Bi.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(oi(Vr.getDefaults(),[...Object.keys(_r.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(oi(Wr.getDefaults(),Object.keys(Bi.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(t,e){this._carrier._triggerEnvelopeAttack(t,e),this._modulator._triggerEnvelopeAttack(t,e)}_triggerEnvelopeRelease(t){return this._carrier._triggerEnvelopeRelease(t),this._modulator._triggerEnvelopeRelease(t),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class Gr extends Xr{constructor(){super(ii(Gr.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new Ar({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class Zr extends Bi{constructor(){const t=ii(Zr.getDefaults(),arguments,["frequency","type"]);super(t),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Wi({context:this.context,units:"number",value:t.Q,param:this._filter.Q}),this.frequency=new Wi({context:this.context,units:"frequency",value:t.frequency,param:this._filter.frequency}),this.detune=new Wi({context:this.context,units:"cents",value:t.detune,param:this._filter.detune}),this.gain=new Wi({context:this.context,units:"decibels",convert:!1,value:t.gain,param:this._filter.gain}),this.type=t.type}static getDefaults(){return Object.assign(Bi.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(t){js(-1!==["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t),`Invalid filter type: ${t}`),this._filter.type=t}getFrequencyResponse(t=128){const e=new Float32Array(t);for(let n=0;n<t;n++){const s=19980*Math.pow(n/t,2)+20;e[n]=s}const n=new Float32Array(t),s=new Float32Array(t),i=this.context.createBiquadFilter();return i.type=this.type,i.Q.value=this.Q.value,i.frequency.value=this.frequency.value,i.gain.value=this.gain.value,i.getFrequencyResponse(e,n,s),n}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class Kr extends Bi{constructor(){const t=ii(Kr.getDefaults(),arguments,["frequency","type","rolloff"]);super(t),this.name="Filter",this.input=new Qi({context:this.context}),this.output=new Qi({context:this.context}),this._filters=[],this._filters=[],this.Q=new Gi({context:this.context,units:"positive",value:t.Q}),this.frequency=new Gi({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Gi({context:this.context,units:"cents",value:t.detune}),this.gain=new Gi({context:this.context,units:"decibels",convert:!1,value:t.gain}),this._type=t.type,this.rolloff=t.rolloff,wi(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(Bi.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(t){js(-1!==["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t),`Invalid filter type: ${t}`),this._type=t,this._filters.forEach((e=>e.type=t))}get rolloff(){return this._rolloff}set rolloff(t){const e=Ns(t)?t:parseInt(t,10),n=[-12,-24,-48,-96];let s=n.indexOf(e);js(-1!==s,`rolloff can only be ${n.join(", ")}`),s+=1,this._rolloff=e,this.input.disconnect(),this._filters.forEach((t=>t.disconnect())),this._filters=new Array(s);for(let t=0;t<s;t++){const e=new Zr({context:this.context});e.type=this._type,this.frequency.connect(e.frequency),this.detune.connect(e.detune),this.Q.connect(e.Q),this.gain.connect(e.gain),this._filters[t]=e}this._internalChannels=this._filters,$i(this.input,...this._internalChannels,this.output)}getFrequencyResponse(t=128){const e=new Zr({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),n=new Float32Array(t).map((()=>1));return this._filters.forEach((()=>{e.getFrequencyResponse(t).forEach(((t,e)=>n[e]*=t))})),e.dispose(),n}dispose(){return super.dispose(),this._filters.forEach((t=>{t.dispose()})),xi(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class Jr extends Xr{constructor(){const t=ii(Jr.getDefaults(),arguments);super(t),this.name="FMSynth",this.modulationIndex=new Or({context:this.context,value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(Xr.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}const to=[1,1.483,1.932,2.546,2.63,3.897];class eo extends Hr{constructor(){const t=ii(eo.getDefaults(),arguments);super(t),this.name="MetalSynth",this._oscillators=[],this._freqMultipliers=[],this.detune=new Gi({context:this.context,units:"cents",value:t.detune}),this.frequency=new Gi({context:this.context,units:"frequency"}),this._amplitude=new Qi({context:this.context,gain:0}).connect(this.output),this._highpass=new Kr({Q:0,context:this.context,type:"highpass"}).connect(this._amplitude);for(let e=0;e<to.length;e++){const n=new Dr({context:this.context,harmonicity:t.harmonicity,modulationIndex:t.modulationIndex,modulationType:"square",onstop:0===e?()=>this.onsilence(this):ki,type:"square"});n.connect(this._highpass),this._oscillators[e]=n;const s=new Or({context:this.context,value:to[e]});this._freqMultipliers[e]=s,this.frequency.chain(s,n.frequency),this.detune.connect(n.detune)}this._filterFreqScaler=new Fr({context:this.context,max:7e3,min:this.toFrequency(t.resonance)}),this.envelope=new Wr({attack:t.envelope.attack,attackCurve:"linear",context:this.context,decay:t.envelope.decay,release:t.envelope.release,sustain:0}),this.envelope.chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitude.gain),this._octaves=t.octaves,this.octaves=t.octaves}static getDefaults(){return si(Hr.getDefaults(),{envelope:Object.assign(oi(Wr.getDefaults(),Object.keys(Bi.getDefaults())),{attack:.001,decay:1.4,release:.2}),harmonicity:5.1,modulationIndex:32,octaves:1.5,resonance:4e3})}_triggerEnvelopeAttack(t,e=1){return this.envelope.triggerAttack(t,e),this._oscillators.forEach((e=>e.start(t))),0===this.envelope.sustain&&this._oscillators.forEach((e=>{e.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay))})),this}_triggerEnvelopeRelease(t){return this.envelope.triggerRelease(t),this._oscillators.forEach((e=>e.stop(t+this.toSeconds(this.envelope.release)))),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}get modulationIndex(){return this._oscillators[0].modulationIndex.value}set modulationIndex(t){this._oscillators.forEach((e=>e.modulationIndex.value=t))}get harmonicity(){return this._oscillators[0].harmonicity.value}set harmonicity(t){this._oscillators.forEach((e=>e.harmonicity.value=t))}get resonance(){return this._filterFreqScaler.min}set resonance(t){this._filterFreqScaler.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,t)}dispose(){return super.dispose(),this._oscillators.forEach((t=>t.dispose())),this._freqMultipliers.forEach((t=>t.dispose())),this.frequency.dispose(),this.detune.dispose(),this._filterFreqScaler.dispose(),this._amplitude.dispose(),this.envelope.dispose(),this._highpass.dispose(),this}}class no extends Yr{constructor(){const t=ii(no.getDefaults(),arguments);super(t),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,wi(this,["oscillator","envelope"])}static getDefaults(){return si(Hr.getDefaults(),Yr.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,e){const n=this.toSeconds(e),s=this.toFrequency(t instanceof zi?t.toFrequency():t),i=s*this.octaves;return this.oscillator.frequency.setValueAtTime(i,n),this.oscillator.frequency.exponentialRampToValueAtTime(s,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Xs([jr(0)],no.prototype,"octaves",void 0),Xs([Lr(0)],no.prototype,"pitchDecay",void 0);const so=new Set;function io(t){so.add(t)}function ro(t,e){const n=`registerProcessor("${t}", ${e})`;so.add(n)}io('\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n'),io("\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n"),io("\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n");ro("feedback-comb-filter",'\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n');class oo extends $r{constructor(){const t=ii(oo.getDefaults(),arguments,["voice","options"]);super(t),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=t=>this.releaseAll(t),js(!Ns(t.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const e=t.voice.getDefaults();this.options=Object.assign(e,t.options),this.voice=t.voice,this.maxPolyphony=t.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const n=this._voices.indexOf(this._dummyVoice);this._voices.splice(n,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign($r.getDefaults(),{maxPolyphony:32,options:{},voice:Yr})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(t){this._availableVoices.push(t);const e=this._activeVoices.findIndex((e=>e.voice===t));this._activeVoices.splice(e,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const t=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return js(t instanceof Hr,"Voice must extend Monophonic class"),t.connect(this.output),this._voices.push(t),t}Hs("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(.95*this._averageActiveVoices,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const t=this._availableVoices.shift(),e=this._voices.indexOf(t);this._voices.splice(e,1),this.context.isOffline||t.dispose()}}_triggerAttack(t,e,n){t.forEach((t=>{const s=new ar(this.context,t).toMidi(),i=this._getNextAvailableVoice();i&&(i.triggerAttack(t,e,n),this._activeVoices.push({midi:s,voice:i,released:!1}),this.log("triggerAttack",t,e))}))}_triggerRelease(t,e){t.forEach((t=>{const n=new ar(this.context,t).toMidi(),s=this._activeVoices.find((({midi:t,released:e})=>t===n&&!e));s&&(s.voice.triggerRelease(e),s.released=!0,this.log("triggerRelease",t,e))}))}_scheduleEvent(t,e,n,s){js(!this.disposed,"Synth was already disposed"),n<=this.now()?"attack"===t?this._triggerAttack(e,n,s):this._triggerRelease(e,n):this.context.setTimeout((()=>{this.disposed||this._scheduleEvent(t,e,n,s)}),n-this.now())}triggerAttack(t,e,n){Array.isArray(t)||(t=[t]);const s=this.toSeconds(e);return this._scheduleEvent("attack",t,s,n),this}triggerRelease(t,e){Array.isArray(t)||(t=[t]);const n=this.toSeconds(e);return this._scheduleEvent("release",t,n),this}triggerAttackRelease(t,e,n,s){const i=this.toSeconds(n);if(this.triggerAttack(t,i,s),Vs(e)){js(Vs(t),"If the duration is an array, the notes must also be an array");for(let n=0;n<t.length;n++){const s=e[Math.min(n,e.length-1)],r=this.toSeconds(s);js(r>0,"The duration must be greater than 0"),this.triggerRelease(t[n],i+r)}}else{const n=this.toSeconds(e);js(n>0,"The duration must be greater than 0"),this.triggerRelease(t,i+n)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(t){const e=oi(t,["onsilence","context"]);return this.options=si(this.options,e),this._voices.forEach((t=>t.set(e))),this._dummyVoice.set(e),this}get(){return this._dummyVoice.get()}releaseAll(t){const e=this.toSeconds(t);return this._activeVoices.forEach((({voice:t})=>{t.triggerRelease(e)})),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach((t=>t.dispose())),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class ao extends $r{constructor(){const t=ii(ao.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(t),this.name="Sampler",this._activeSources=new Map;const e={};Object.keys(t.urls).forEach((n=>{const s=parseInt(n,10);if(js(Fs(n)||Ns(s)&&isFinite(s),`url key is neither a note or midi pitch: ${n}`),Fs(n)){const s=new zi(this.context,n).toMidi();e[s]=t.urls[n]}else Ns(s)&&isFinite(s)&&(e[s]=t.urls[s])})),this._buffers=new or({urls:e,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign($r.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:ki,onerror:ki,release:.1,urls:{}})}_findClosest(t){let e=0;for(;e<96;){if(this._buffers.has(t+e))return-e;if(this._buffers.has(t-e))return e;e++}throw new Error(`No available buffers for note: ${t}`)}triggerAttack(t,e,n=1){return this.log("triggerAttack",t,e,n),Array.isArray(t)||(t=[t]),t.forEach((t=>{const s=Ni(new zi(this.context,t).toFrequency()),i=Math.round(s),r=s-i,o=this._findClosest(i),a=i-o,l=this._buffers.get(a),u=Mi(o+r),c=new br({url:l,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:u}).connect(this.output);c.start(e,0,l.duration/u,n),Vs(this._activeSources.get(i))||this._activeSources.set(i,[]),this._activeSources.get(i).push(c),c.onended=()=>{if(this._activeSources&&this._activeSources.has(i)){const t=this._activeSources.get(i),e=t.indexOf(c);-1!==e&&t.splice(e,1)}}})),this}triggerRelease(t,e){return this.log("triggerRelease",t,e),Array.isArray(t)||(t=[t]),t.forEach((t=>{const n=new zi(this.context,t).toMidi();if(this._activeSources.has(n)&&this._activeSources.get(n).length){const t=this._activeSources.get(n);e=this.toSeconds(e),t.forEach((t=>{t.stop(e)})),this._activeSources.set(n,[])}})),this}releaseAll(t){const e=this.toSeconds(t);return this._activeSources.forEach((t=>{for(;t.length;)t.shift().stop(e)})),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,e,n,s=1){const i=this.toSeconds(n);return this.triggerAttack(t,i,s),Vs(e)?(js(Vs(t),"notes must be an array when duration is array"),t.forEach(((t,n)=>{const s=e[Math.min(n,e.length-1)];this.triggerRelease(t,i+this.toSeconds(s))}))):this.triggerRelease(t,i+this.toSeconds(e)),this}add(t,e,n){if(js(Fs(t)||isFinite(t),`note must be a pitch or midi: ${t}`),Fs(t)){const s=new zi(this.context,t).toMidi();this._buffers.add(s,e,n)}else this._buffers.add(t,e,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach((t=>{t.forEach((t=>t.dispose()))})),this._activeSources.clear(),this}}Xs([Lr(0)],ao.prototype,"attack",void 0),Xs([Lr(0)],ao.prototype,"release",void 0);class lo extends qi{constructor(){const t=ii(lo.getDefaults(),arguments,["callback","value"]);super(t),this.name="ToneEvent",this._state=new Ui("stopped"),this._startOffset=0,this._loop=t.loop,this.callback=t.callback,this.value=t.value,this._loopStart=this.toTicks(t.loopStart),this._loopEnd=this.toTicks(t.loopEnd),this._playbackRate=t.playbackRate,this._probability=t.probability,this._humanize=t.humanize,this.mute=t.mute,this._playbackRate=t.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(qi.getDefaults(),{callback:ki,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(t=-1){this._state.forEachFrom(t,(t=>{let e;if("started"===t.state){-1!==t.id&&this.context.transport.clear(t.id);const n=t.time+Math.round(this.startOffset/this._playbackRate);if(!0===this._loop||Ns(this._loop)&&this._loop>1){e=1/0,Ns(this._loop)&&(e=this._loop*this._getLoopDuration());const s=this._state.getAfter(n);null!==s&&(e=Math.min(e,s.time-n)),e!==1/0&&(e=new lr(this.context,e));const i=new lr(this.context,this._getLoopDuration());t.id=this.context.transport.scheduleRepeat(this._tick.bind(this),i,new lr(this.context,n),e)}else t.id=this.context.transport.schedule(this._tick.bind(this),new lr(this.context,n))}}))}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t}get probability(){return this._probability}set probability(t){this._probability=t}get humanize(){return this._humanize}set humanize(t){this._humanize=t}start(t){const e=this.toTicks(t);return"stopped"===this._state.getValueAtTime(e)&&(this._state.add({id:-1,state:"started",time:e}),this._rescheduleEvents(e)),this}stop(t){this.cancel(t);const e=this.toTicks(t);if("started"===this._state.getValueAtTime(e)){this._state.setStateAtTime("stopped",e,{id:-1});const t=this._state.getBefore(e);let n=e;null!==t&&(n=t.time),this._rescheduleEvents(n)}return this}cancel(t){t=ri(t,-1/0);const e=this.toTicks(t);return this._state.forEachFrom(e,(t=>{this.context.transport.clear(t.id)})),this._state.cancel(e),this}_tick(t){const e=this.context.transport.getTicksAtTime(t);if(!this.mute&&"started"===this._state.getValueAtTime(e)){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let e=.02;Is(this.humanize)||(e=this.toSeconds(this.humanize)),t+=(2*Math.random()-1)*e}this.callback(t,this.value)}}_getLoopDuration(){return(this._loopEnd-this._loopStart)/this._playbackRate}get loop(){return this._loop}set loop(t){this._loop=t,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._rescheduleEvents()}get loopEnd(){return new lr(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop&&this._rescheduleEvents()}get loopStart(){return new lr(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const t=this.context.transport.ticks,e=this._state.get(t);if(null!==e&&"started"===e.state){const n=this._getLoopDuration();return(t-e.time)%n/n}return 0}return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class uo extends lo{constructor(){const t=ii(uo.getDefaults(),arguments,["callback","events"]);super(t),this.name="Part",this._state=new Ui("stopped"),this._events=new Set,this._state.increasing=!0,t.events.forEach((t=>{Vs(t)?this.add(t[0],t[1]):this.add(t)}))}static getDefaults(){return Object.assign(lo.getDefaults(),{events:[]})}start(t,e){const n=this.toTicks(t);if("started"!==this._state.getValueAtTime(n)){e=ri(e,this._loop?this._loopStart:0),e=this._loop?ri(e,this._loopStart):ri(e,0);const t=this.toTicks(e);this._state.add({id:-1,offset:t,state:"started",time:n}),this._forEach((e=>{this._startNote(e,n,t)}))}return this}_startNote(t,e,n){e-=n,this._loop?t.startOffset>=this._loopStart&&t.startOffset<this._loopEnd?(t.startOffset<n&&(e+=this._getLoopDuration()),t.start(new lr(this.context,e))):t.startOffset<this._loopStart&&t.startOffset>=n&&(t.loop=!1,t.start(new lr(this.context,e))):t.startOffset>=n&&t.start(new lr(this.context,e))}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t,this._forEach((t=>{t.startOffset+=this._startOffset}))}stop(t){const e=this.toTicks(t);return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._forEach((e=>{e.stop(t)})),this}at(t,e){const n=new Li(this.context,t).toTicks(),s=new lr(this.context,1).toSeconds(),i=this._events.values();let r=i.next();for(;!r.done;){const t=r.value;if(Math.abs(n-t.startOffset)<s)return Ps(e)&&(t.value=e),t;r=i.next()}return Ps(e)?(this.add(t,e),this.at(t)):null}add(t,e){t instanceof Object&&Reflect.has(t,"time")&&(t=(e=t).time);const n=this.toTicks(t);let s;return e instanceof lo?(s=e,s.callback=this._tick.bind(this)):s=new lo({callback:this._tick.bind(this),context:this.context,value:e}),s.startOffset=n,s.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(s),this._restartEvent(s),this}_restartEvent(t){this._state.forEach((e=>{"started"===e.state?this._startNote(t,e.time,e.offset):t.stop(new lr(this.context,e.time))}))}remove(t,e){return Rs(t)&&t.hasOwnProperty("time")&&(t=(e=t).time),t=this.toTicks(t),this._events.forEach((n=>{n.startOffset===t&&(Ds(e)||Ps(e)&&n.value===e)&&(this._events.delete(n),n.dispose())})),this}clear(){return this._forEach((t=>t.dispose())),this._events.clear(),this}cancel(t){return this._forEach((e=>e.cancel(t))),this._state.cancel(this.toTicks(t)),this}_forEach(t){return this._events&&this._events.forEach((e=>{e instanceof uo?e._forEach(t):t(e)})),this}_setAll(t,e){this._forEach((n=>{n[t]=e}))}_tick(t,e){this.mute||this.callback(t,e)}_testLoopBoundries(t){this._loop&&(t.startOffset<this._loopStart||t.startOffset>=this._loopEnd)?t.cancel(0):"stopped"===t.state&&this._restartEvent(t)}get probability(){return this._probability}set probability(t){this._probability=t,this._setAll("probability",t)}get humanize(){return this._humanize}set humanize(t){this._humanize=t,this._setAll("humanize",t)}get loop(){return this._loop}set loop(t){this._loop=t,this._forEach((e=>{e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.loop=t,this._testLoopBoundries(e)}))}get loopEnd(){return new lr(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop&&this._forEach((e=>{e.loopEnd=t,this._testLoopBoundries(e)}))}get loopStart(){return new lr(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop&&this._forEach((t=>{t.loopStart=this.loopStart,this._testLoopBoundries(t)}))}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._setAll("playbackRate",t)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}class co extends lo{constructor(){const t=ii(co.getDefaults(),arguments,["callback","events","subdivision"]);super(t),this.name="Sequence",this._part=new uo({callback:this._seqCallback.bind(this),context:this.context}),this._events=[],this._eventsArray=[],this._subdivision=this.toTicks(t.subdivision),this.events=t.events,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.playbackRate=t.playbackRate,this.probability=t.probability,this.humanize=t.humanize,this.mute=t.mute,this.playbackRate=t.playbackRate}static getDefaults(){return Object.assign(oi(lo.getDefaults(),["value"]),{events:[],loop:!0,loopEnd:0,loopStart:0,subdivision:"8n"})}_seqCallback(t,e){null===e||this.mute||this.callback(t,e)}get events(){return this._events}set events(t){this.clear(),this._eventsArray=t,this._events=this._createSequence(this._eventsArray),this._eventsUpdated()}start(t,e){return this._part.start(t,e?this._indexTime(e):e),this}stop(t){return this._part.stop(t),this}get subdivision(){return new lr(this.context,this._subdivision).toSeconds()}_createSequence(t){return new Proxy(t,{get:(t,e)=>t[e],set:(t,e,n)=>(zs(e)&&isFinite(parseInt(e,10))&&Vs(n)?t[e]=this._createSequence(n):t[e]=n,this._eventsUpdated(),!0)})}_eventsUpdated(){this._part.clear(),this._rescheduleSequence(this._eventsArray,this._subdivision,this.startOffset),this.loopEnd=this.loopEnd}_rescheduleSequence(t,e,n){t.forEach(((t,s)=>{const i=s*e+n;if(Vs(t))this._rescheduleSequence(t,e/t.length,i);else{const e=new lr(this.context,i,"i").toSeconds();this._part.add(e,t)}}))}_indexTime(t){return new lr(this.context,t*this._subdivision+this.startOffset).toSeconds()}clear(){return this._part.clear(),this}dispose(){return super.dispose(),this._part.dispose(),this}get loop(){return this._part.loop}set loop(t){this._part.loop=t}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this._part.loopStart=this._indexTime(t)}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this._part.loopEnd=0===t?this._indexTime(this._eventsArray.length):this._indexTime(t)}get startOffset(){return this._part.startOffset}set startOffset(t){this._part.startOffset=t}get playbackRate(){return this._part.playbackRate}set playbackRate(t){this._part.playbackRate=t}get probability(){return this._part.probability}set probability(t){this._part.probability=t}get progress(){return this._part.progress}get humanize(){return this._part.humanize}set humanize(t){this._part.humanize=t}get length(){return this._part.length}}class ho extends Bi{constructor(){const t=ii(ho.getDefaults(),arguments,["fade"]);super(t),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new Ur({context:this.context}),this.a=new Qi({context:this.context,gain:0}),this.b=new Qi({context:this.context,gain:0}),this.output=new Qi({context:this.context}),this._internalChannels=[this.a,this.b],this.fade=new Gi({context:this.context,units:"normalRange",value:t.fade}),wi(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",Hi(this._split,this.a.gain,0),Hi(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(Bi.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class po extends Bi{constructor(t){super(t),this.name="Effect",this._dryWet=new ho({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new Qi({context:this.context}),this.effectReturn=new Qi({context:this.context}),this.input=new Qi({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(t.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],wi(this,"wet")}static getDefaults(){return Object.assign(Bi.getDefaults(),{wet:1})}connectEffect(t){return this._internalChannels.push(t),this.effectSend.chain(t,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class fo extends Bi{constructor(){const t=ii(fo.getDefaults(),arguments,["pan"]);super(t),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new Wi({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",wi(this,"pan")}static getDefaults(){return Object.assign(Bi.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}ro("bit-crusher","\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n");class mo extends Bi{constructor(){const t=ii(mo.getDefaults(),arguments,["channels"]);super(t),this.name="Merge",this._merger=this.output=this.input=this.context.createChannelMerger(t.channels)}static getDefaults(){return Object.assign(Bi.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class go extends po{constructor(t){super(t),this.name="FeedbackEffect",this._feedbackGain=new Qi({context:this.context,gain:t.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,wi(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(po.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class vo extends go{constructor(){const t=ii(vo.getDefaults(),arguments,["delayTime","feedback"]);super(t),this.name="FeedbackDelay",this._delayNode=new nr({context:this.context,delayTime:t.delayTime,maxDelay:t.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),wi(this,"delayTime")}static getDefaults(){return Object.assign(go.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class yo extends po{constructor(){const t=ii(yo.getDefaults(),arguments,["decay"]);super(t),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve(),this._decay=t.decay,this._preDelay=t.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(po.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(t){Ls(t=this.toSeconds(t),.001),this._decay=t,this.generate()}get preDelay(){return this._preDelay}set preDelay(t){Ls(t=this.toSeconds(t),0),this._preDelay=t,this.generate()}generate(){return Gs(this,void 0,void 0,(function*(){const t=this.ready,e=new Ti(2,this._decay+this._preDelay,this.context.sampleRate),n=new wr({context:e}),s=new wr({context:e}),i=new mo({context:e});n.connect(i,0,0),s.connect(i,0,1);const r=new Qi({context:e}).toDestination();i.connect(r),n.start(0),s.start(0),r.gain.setValueAtTime(0,0),r.gain.setValueAtTime(1,this._preDelay),r.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const o=e.render();return this.ready=o.then(ki),yield t,this._convolver.buffer=(yield o).get(),this}))}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class _o extends Bi{constructor(){const t=ii(_o.getDefaults(),arguments,["solo"]);super(t),this.name="Solo",this.input=this.output=new Qi({context:this.context}),_o._allSolos.has(this.context)||_o._allSolos.set(this.context,new Set),_o._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(Bi.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),_o._allSolos.get(this.context).forEach((t=>t._updateSolo()))}get muted(){return 0===this.input.gain.value}_addSolo(){_o._soloed.has(this.context)||_o._soloed.set(this.context,new Set),_o._soloed.get(this.context).add(this)}_removeSolo(){_o._soloed.has(this.context)&&_o._soloed.get(this.context).delete(this)}_isSoloed(){return _o._soloed.has(this.context)&&_o._soloed.get(this.context).has(this)}_noSolos(){return!_o._soloed.has(this.context)||_o._soloed.has(this.context)&&0===_o._soloed.get(this.context).size}_updateSolo(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),_o._allSolos.get(this.context).delete(this),this._removeSolo(),this}}_o._allSolos=new Map,_o._soloed=new Map;class bo extends Bi{constructor(){const t=ii(bo.getDefaults(),arguments,["pan","volume"]);super(t),this.name="PanVol",this._panner=this.input=new fo({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new sr({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,wi(this,["pan","volume"])}static getDefaults(){return Object.assign(Bi.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class wo extends Bi{constructor(){const t=ii(wo.getDefaults(),arguments,["volume","pan"]);super(t),this.name="Channel",this._solo=this.input=new _o({solo:t.solo,context:this.context}),this._panVol=this.output=new bo({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),wi(this,["pan","volume"])}static getDefaults(){return Object.assign(Bi.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return wo.buses.has(t)||wo.buses.set(t,new Qi({context:this.context})),wo.buses.get(t)}send(t,e=0){const n=this._getBus(t),s=new Qi({context:this.context,units:"decibels",gain:e});return this.connect(s),s.connect(n),s}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}wo.buses=new Map;const xo=Ai().transport;Ai().destination,Ai().destination,Ai().listener,Ai().draw;const ko=Ai(),So=class{constructor(){Object.defineProperty(this,"synth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isInitialized",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"strokes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"playing",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"currentInstrument",{enumerable:!0,configurable:!0,writable:!0,value:"synth"}),Object.defineProperty(this,"currentStylus",{enumerable:!0,configurable:!0,writable:!0,value:"default"}),Object.defineProperty(this,"sequence",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"reverb",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"delay",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"volume",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentVolume",{enumerable:!0,configurable:!0,writable:!0,value:25}),Object.defineProperty(this,"playbackSpeed",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"startTime",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"totalDuration",{enumerable:!0,configurable:!0,writable:!0,value:120}),Object.defineProperty(this,"autoEndTimeout",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"onPlaybackEnd",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"loopPlayback",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"currentPosition",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.synth=(new oo).toDestination();try{const t=ko;t&&(t.lookAhead=.2,t.updateInterval=.01,"running"!==t.state&&console.warn("Audio context is suspended. User interaction will be required to enable audio.")),this.reverb=new yo(1).toDestination(),this.delay=new vo(.2,.2).toDestination(),this.volume=new sr(-3).toDestination(),this.reverb.wet&&(this.reverb.wet.value=.3),this.delay.wet&&(this.delay.wet.value=.2),this.synth.disconnect(),this.synth.connect(this.volume),this.volume.connect(this.reverb),this.volume.connect(this.delay),this.volume.toDestination(),this.volume&&this.volume.volume&&this.volume.volume.value<-40&&(console.warn("Volume may be too low:",this.volume.volume.value),this.volume.volume.value=-3)}catch(t){console.warn("Error setting up audio settings:",t)}this.setVolume(this.currentVolume),window.addEventListener("beforeunload",(()=>{this.dispose()})),console.log("SoundEngine initialized. Current volume:",this.currentVolume)}dispose(){if(!this.isDisposed){this.stop();try{this.synth&&(this.synth.disconnect(),"function"==typeof this.synth.dispose&&this.synth.dispose()),this.reverb&&(this.reverb.disconnect(),"function"==typeof this.reverb.dispose&&this.reverb.dispose()),this.delay&&(this.delay.disconnect(),"function"==typeof this.delay.dispose&&this.delay.dispose()),this.volume&&(this.volume.disconnect(),"function"==typeof this.volume.dispose&&this.volume.dispose()),this.sequence&&"function"==typeof this.sequence.dispose&&this.sequence.dispose()}catch(t){console.warn("Error disposing audio resources:",t)}this.isDisposed=!0}}async initialize(){if(this.isDisposed&&(this.isDisposed=!1),!this.isInitialized)try{const t=ko;if(t&&"suspended"===t.state&&(console.log("Audio context is suspended. Attempting to resume..."),await t.resume()),await Oi(),console.log("Tone.js audio context started successfully"),t&&(t.latencyHint="balanced"),t&&"running"!==t.state)return console.warn("Audio context still not running after initialization"),alert("Please click or tap on the page to enable audio playback"),!1;this.isInitialized=!0;try{const t=(new Er).toDestination();t.volume.value=-20,t.frequency.value=440,t.start(),setTimeout((()=>{t.stop(),t.dispose()}),300),console.log("Test tone played successfully")}catch(t){console.warn("Test tone failed:",t)}}catch(t){return console.warn("Error initializing audio:",t),!1}return!0}setInstrument(t){if(this.synth&&(this.synth.disconnect(),"function"==typeof this.synth.dispose))try{this.synth.dispose()}catch(t){console.warn("Error disposing synth:",t)}this.currentInstrument=t;try{switch(t){case"am-synth":this.synth=new Gr;break;case"fm-synth":this.synth=new Jr;break;case"membrane":this.synth=new no;break;case"metal":this.synth=new eo;break;default:this.synth=new oo}this.synth.oscillator&&"string"==typeof this.synth.oscillator.type&&(this.synth.oscillator.type="triangle"),this.synth.envelope&&(this.synth.envelope.attack=.02,this.synth.envelope.release=.8),"fm-synth"===t&&this.synth.modulationIndex&&(this.synth.modulationIndex.value=5),"metal"===t&&this.synth.octaves&&(this.synth.octaves=1.5)}catch(t){console.warn("Error creating synth:",t),this.synth=new oo}this.connectEffects(),this.setVolume(this.currentVolume)}setStylus(t){this.currentStylus=t;try{switch(this.reverb&&(this.reverb.disconnect(),"function"==typeof this.reverb.dispose&&this.reverb.dispose()),this.delay&&(this.delay.disconnect(),"function"==typeof this.delay.dispose&&this.delay.dispose()),t){case"brush":this.reverb=new yo(2).toDestination(),this.delay=new vo(.2,.15).toDestination(),this.reverb.wet&&(this.reverb.wet.value=.4),this.delay.wet&&(this.delay.wet.value=.2);break;case"pencil":this.reverb=new yo(.6).toDestination(),this.delay=new vo(.1,.05).toDestination(),this.reverb.wet&&(this.reverb.wet.value=.2),this.delay.wet&&(this.delay.wet.value=.1);break;case"marker":this.reverb=new yo(1.2).toDestination(),this.delay=new vo(.15,.1).toDestination(),this.reverb.wet&&(this.reverb.wet.value=.3),this.delay.wet&&(this.delay.wet.value=.15);break;case"watercolor":this.reverb=new yo(3).toDestination(),this.delay=new vo(.3,.25).toDestination(),this.reverb.wet&&(this.reverb.wet.value=.5),this.delay.wet&&(this.delay.wet.value=.3);break;default:this.reverb=new yo(1).toDestination(),this.delay=new vo(.2,.1).toDestination(),this.reverb.wet&&(this.reverb.wet.value=.3),this.delay.wet&&(this.delay.wet.value=.2)}this.connectEffects()}catch(t){console.error("Error setting stylus effects:",t);try{this.reverb=new yo(1).toDestination(),this.delay=new vo(.2,.1).toDestination(),this.reverb.wet&&(this.reverb.wet.value=.3),this.delay.wet&&(this.delay.wet.value=.2),this.connectEffects()}catch(t){console.error("Failed to set fallback effects:",t)}}}connectEffects(){try{this.synth&&this.synth.disconnect(),this.volume&&this.volume.disconnect(),this.reverb&&this.reverb.disconnect(),this.delay&&this.delay.disconnect(),this.volume||(this.volume=new sr(-3).toDestination()),this.synth.connect(this.volume),this.volume.connect(this.reverb),this.volume.connect(this.delay),this.volume.toDestination()}catch(t){console.warn("Error connecting effects:",t);try{this.synth.disconnect(),this.synth.toDestination()}catch(t){console.error("Failed to connect directly:",t)}}}setVolume(t){this.currentVolume=t;try{if(this.volume){const e=20*Math.log10(Math.max(.01,t/100));this.volume.volume.value=e}else this.synth&&"volume"in this.synth&&(this.synth.volume.value=20*Math.log10(Math.max(.01,t/100)))}catch(t){console.error("Error setting volume:",t)}}setPlaybackSpeed(t){if(this.playbackSpeed=t,this.playing)try{xo.timeScale=t}catch(t){console.warn("Error setting timeScale:",t)}}setPlaybackEndCallback(t){this.onPlaybackEnd=t}setLoopPlayback(t){this.loopPlayback=t}setPlaybackPosition(t){if(this.currentPosition=Math.max(0,Math.min(t,this.totalDuration)),this.playing)try{this.stop(),this.play(this.currentPosition)}catch(t){console.warn("Error setting playback position:",t),this.playing=!1,this.onPlaybackEnd&&this.onPlaybackEnd()}}getPlaybackPosition(){if(!this.playing)return this.currentPosition;const t=(Date.now()-this.startTime)/1e3;return Math.min(this.currentPosition+t,this.totalDuration)}getProgress(){return this.getPlaybackPosition()/this.totalDuration}addStroke(t){this.strokes.push(t),this.calculateTotalDuration(),this.playing&&this.playStrokeInRealTime(t)}calculateTotalDuration(){if(0===this.strokes.length)return void(this.totalDuration=120);let t=Number.MAX_VALUE,e=0,n=0;this.strokes.forEach((s=>{s.points.forEach(((i,r)=>{if(t=Math.min(t,i.time),e=Math.max(e,i.time),r===s.points.length-1){const t=this.mapSpeedToDuration(i.speed),e=this.getDurationInSeconds(t);n=Math.max(n,e)}}))}));const s=e-t,i=s/1e3+Math.max(5,n+2);this.totalDuration=Math.min(i,120),console.log(`Duration calculated: ${this.totalDuration} seconds (raw: ${s/1e3}s, longest note: ${n}s)`)}mapXToNote(t,e){const n=["C4","D4","E4","G4","A4","C5","D5","E5","G5","A5"],s=Math.floor(t/e*n.length);return n[Math.min(s,n.length-1)]}mapYToVelocity(t,e){return.2+.8*(1-t/e)}mapSpeedToDuration(t){return void 0===t?"8n":t>20?"16n":t>10?"8n":t>5?"4n":"2n"}getDurationInSeconds(t){let e=120;try{const t=xo.bpm;t&&"number"==typeof t.value&&(e=t.value)}catch(t){console.warn("Error getting BPM:",t)}const n=60/e;switch(t){case"1n":return 4*n;case"2n":return 2*n;case"4n":default:return n;case"8n":return n/2;case"16n":return n/4}}applyStylusToNote(t,e){switch(e||this.currentStylus){case"brush":case"marker":case"watercolor":default:return t;case"pencil":return t.replace(/(\d)/,(t=>{const e=parseInt(t);return Math.random()>.7?(e+1).toString():t}))}}playStrokeInRealTime(t){if(!this.isInitialized||0===t.points.length)return;const e=window.innerWidth,n=window.innerHeight,s=t.stylus,i=[];for(let r=0;r<t.points.length;r++){const o=t.points[r];let a=this.mapXToNote(o.x,e);a=this.applyStylusToNote(a,s);const l=this.mapYToVelocity(o.y,n),u=0===r?0:(o.time-t.points[0].time)/1e3;0!==r&&r!==t.points.length-1&&r%3!=0||i.push({note:a,velocity:l,time:u})}i.forEach((t=>{try{this.synth.triggerAttackRelease(t.note,"8n",Ai().now()+t.time,t.velocity)}catch(t){console.warn("Error playing note in real-time:",t)}}))}async manualInitialize(){try{const t=ko;return t&&"suspended"===t.state&&(console.log("Manually resuming audio context from user interaction"),await t.resume()),await Oi(),this.synth.triggerAttackRelease("C4",.01,void 0,.01),this.isInitialized=!0,!0}catch(t){return console.error("Failed to manually initialize audio:",t),!1}}async play(t=0){if(0===this.strokes.length)return void console.warn("No strokes to play");if(t=Math.max(0,t),!await this.initialize()&&(console.warn("Failed to initialize audio. Trying manual initialization..."),!await this.manualInitialize()))return console.error("Audio initialization failed. Sound may not work."),void alert("Unable to initialize audio. Try clicking somewhere on the page first.");if(this.sequence)try{"function"==typeof this.sequence.dispose?this.sequence.dispose():this.sequence.stop()}catch(t){console.warn("Error disposing sequence:",t)}null!==this.autoEndTimeout&&(clearTimeout(this.autoEndTimeout),this.autoEndTimeout=null);try{xo.cancel()}catch(t){console.warn("Error canceling transport:",t)}try{xo.timeScale=this.playbackSpeed}catch(t){console.warn("Error setting timeScale:",t)}this.currentPosition=t;const e=[],n=window.innerWidth,s=window.innerHeight;if(this.strokes.forEach((t=>{const i=t.stylus;t.points.forEach(((r,o)=>{if(void 0===r.speed&&o>0){const e=t.points[o-1],n=r.x-e.x,s=r.y-e.y,i=r.time-e.time;r.speed=i>0?Math.sqrt(n*n+s*s)/i:0}let a=this.mapXToNote(r.x,n);a=this.applyStylusToNote(a,i),e.push({...r,note:a,velocity:this.mapYToVelocity(r.y,s),duration:this.mapSpeedToDuration(r.speed),stylus:i})}))})),e.sort(((t,e)=>t.time-e.time)),0===e.length)return void console.warn("No points to play");const i=e[0].time,r=e[e.length-1].time,o=Math.max(1,(r-i)/1e3);console.log(`Points time span: ${o} seconds, count: ${e.length}`);const a=e.map((t=>e=>{try{t.stylus&&this.setStylus(t.stylus),this.synth.triggerAttackRelease(t.note,t.duration,e,t.velocity)}catch(t){console.warn("Error triggering note:",t)}}));try{this.sequence=new co(((t,e)=>{a[e]&&a[e](t)}),a.map(((t,e)=>e)),"16n")}catch(t){return console.error("Failed to create sequence:",t),void(this.onPlaybackEnd&&this.onPlaybackEnd())}this.startTime=Date.now(),this.calculateTotalDuration();const l=this.totalDuration-t;console.log(`Setting timeout for ${l} seconds`),this.autoEndTimeout=window.setTimeout((()=>{this.playing&&(console.log("Ending playback after timeout"),this.loopPlayback?(this.stop(),this.play(0)):(this.stop(),this.onPlaybackEnd&&this.onPlaybackEnd()))}),1e3*l);try{this.sequence.start(0),xo.start(),this.playing=!0,console.log("Playback started")}catch(t){console.warn("Error starting playback:",t),this.playing=!1,this.stop(),this.onPlaybackEnd&&this.onPlaybackEnd()}}stop(){if(this.sequence)try{this.sequence.stop()}catch(t){console.warn("Error stopping sequence:",t)}if(null!==this.autoEndTimeout&&(clearTimeout(this.autoEndTimeout),this.autoEndTimeout=null),this.playing){const t=(Date.now()-this.startTime)/1e3;this.currentPosition=Math.min(this.currentPosition+t,this.totalDuration)}try{xo.stop(),xo.cancel()}catch(t){console.warn("Error stopping transport:",t)}this.playing=!1}clearStrokes(){if(this.strokes=[],this.sequence)try{"function"==typeof this.sequence.dispose?this.sequence.dispose():this.sequence.stop(),this.sequence=null}catch(t){console.warn("Error disposing sequence:",t)}null!==this.autoEndTimeout&&(clearTimeout(this.autoEndTimeout),this.autoEndTimeout=null),this.currentPosition=0}async testAudio(){try{const t=ko;if(!t)return{success:!1,message:"No audio context available"};if("suspended"===t.state)try{await t.resume(),await Oi()}catch(t){return{success:!1,message:"Failed to resume audio context. User interaction required."}}if("running"!==t.state)return{success:!1,message:`Audio context state is "${t.state}". Click or tap on the page to enable audio.`};try{const t=new Yr({oscillator:{type:"sine"},envelope:{attack:.005,decay:.1,sustain:0,release:.1}}).toDestination();return t.volume.value=-20,t.triggerAttackRelease("C4",.1),setTimeout((()=>{t.dispose()}),500),{success:!0,message:"Audio is working correctly"}}catch(t){return{success:!1,message:"Failed to play test tone: "+t.message}}}catch(t){return{success:!1,message:"Error testing audio: "+t.message}}}createAudioInitializer(t,e){return async()=>{try{console.log("User interaction detected, initializing audio...");const n=await this.testAudio();n.success?(console.log("Audio initialized successfully via user interaction"),t&&t()):(console.warn("Audio initialization failed:",n.message),e&&e(n.message))}catch(t){console.error("Error initializing audio:",t),e&&e(t.message||"Unknown error initializing audio")}}}};const To=({instrument:n,strokeColor:s,strokeWidth:i,isPlaying:r,setIsPlaying:o,onClearRequest:a,setClearCanvasRef:l,volume:u,showInstructions:c,setShowInstructions:h,playbackProgress:d,setPlaybackProgress:p,selectedStylus:f,onPlaybackEnd:m,playbackSpeed:g,loopPlayback:v,timelinePosition:y,setTimelinePosition:_})=>{const{canvasRef:b,startDrawing:w,draw:x,stopDrawing:k,clearCanvas:S,progress:T}=function(t){const{strokeColor:n,strokeWidth:s,instrument:i,isPlaying:r,volume:o=0,onProgressChange:a,stylus:l="default",onPlaybackEnd:u,playbackSpeed:c=1,loopPlayback:h=!1,timelinePosition:d=0,onTimelinePositionChange:p}=t,f=(0,e.useRef)(null),m=(0,e.useRef)(null),g=(0,e.useRef)(null),[v,y]=(0,e.useState)(!1),[_,b]=(0,e.useState)([]),[w,x]=(0,e.useState)(0),[k,S]=(0,e.useState)(0),T=(0,e.useRef)(null);(0,e.useEffect)((()=>{const t=m.current;if(t)switch(t.lineCap="round",t.lineJoin="round",t.shadowBlur=0,t.globalAlpha=1,l){case"brush":t.shadowColor=n,t.shadowBlur=5,t.globalAlpha=.7;break;case"pencil":t.lineCap="butt",t.lineJoin="bevel",t.lineWidth=Math.max(.7*s,1);break;case"marker":t.lineCap="square",t.lineJoin="miter",t.shadowColor=n,t.shadowBlur=2,t.lineWidth=1.5*s;break;case"watercolor":t.shadowColor=n,t.shadowBlur=12,t.globalAlpha=.6;break;default:t.shadowBlur=0,t.globalAlpha=1}}),[l,n,s]),(0,e.useEffect)((()=>(g.current||(g.current=new So),g.current.initialize(),()=>{})),[]),(0,e.useEffect)((()=>{g.current&&g.current.setInstrument(i)}),[i]),(0,e.useEffect)((()=>{g.current&&g.current.setStylus(l)}),[l]),(0,e.useEffect)((()=>{g.current&&g.current.setVolume(o)}),[o]),(0,e.useEffect)((()=>{g.current&&g.current.setPlaybackSpeed(c)}),[c]),(0,e.useEffect)((()=>{g.current&&g.current.setLoopPlayback(h)}),[h]),(0,e.useEffect)((()=>{g.current&&!v&&(g.current.setPlaybackPosition(d),S(d))}),[d,v]),(0,e.useEffect)((()=>{if(g.current)if(r){g.current.play(k),g.current.setPlaybackEndCallback((()=>{h||(x(0),S(0),a&&a(0),p&&p(0),u&&u())}));const t=()=>{if(g.current){const e=g.current.getProgress();x(e);const n=g.current.getPlaybackPosition();S(n),a&&a(e),p&&p(n),r&&requestAnimationFrame(t)}};requestAnimationFrame(t)}else g.current.stop()}),[r,a,u,h,p,k]),(0,e.useEffect)((()=>{const t=f.current;if(!t)return;const e=()=>{const e=t.parentElement;if(e){const n=e.getBoundingClientRect();t.width=n.width,t.height=n.height;const s=window.devicePixelRatio||1;if(1!==s){t.width=n.width*s,t.height=n.height*s;const e=t.getContext("2d");e&&e.scale(s,s)}E()}};e(),window.addEventListener("resize",e);const n=t.getContext("2d");return n&&(n.lineCap="round",n.lineJoin="round",m.current=n),()=>{window.removeEventListener("resize",e)}}),[]);const C=t=>{const e=f.current;if(!e)return{x:0,y:0};const n=e.getBoundingClientRect();let s,i;if(window.devicePixelRatio,"touches"in t){const e=t.touches[0];s=e.clientX-n.left,i=e.clientY-n.top}else s=t.clientX-n.left,i=t.clientY-n.top;return{x:s,y:i}},E=(0,e.useCallback)((()=>{const t=m.current,e=f.current;t&&e&&(t.clearRect(0,0,e.width/(window.devicePixelRatio||1),e.height/(window.devicePixelRatio||1)),_.forEach((e=>{if(0!==e.points.length){if(t.strokeStyle=e.color,t.lineWidth=e.width,e.stylus)switch(t.lineCap="round",t.lineJoin="round",t.shadowBlur=0,t.globalAlpha=1,e.stylus){case"brush":t.shadowColor=e.color,t.shadowBlur=5,t.globalAlpha=.7;break;case"pencil":t.lineCap="butt",t.lineJoin="bevel",t.lineWidth=Math.max(.7*e.width,1);break;case"marker":t.lineCap="square",t.lineJoin="miter",t.shadowColor=e.color,t.shadowBlur=2,t.lineWidth=1.5*e.width;break;case"watercolor":t.shadowColor=e.color,t.shadowBlur=12,t.globalAlpha=.6;break;default:t.shadowBlur=0,t.globalAlpha=1}for(let n=1;n<e.points.length;n++){const s=e.points[n],i=e.points[n-1];if("brush"===e.stylus)t.lineWidth=e.width*(.8+.4*Math.random()),t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(s.x,s.y),t.stroke();else if("pencil"===e.stylus)for(let e=0;e<3;e++)t.beginPath(),t.moveTo(i.x+1.5*(Math.random()-.5),i.y+1.5*(Math.random()-.5)),t.lineTo(s.x+1.5*(Math.random()-.5),s.y+1.5*(Math.random()-.5)),t.stroke();else if("watercolor"===e.stylus){const n=t.createLinearGradient(i.x,i.y,s.x,s.y);n.addColorStop(0,e.color),n.addColorStop(1,e.color+"99"),t.strokeStyle=n,t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(s.x,s.y),t.stroke(),t.strokeStyle=e.color}else t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(s.x,s.y),t.stroke()}t.shadowBlur=0,t.globalAlpha=1}})))}),[_]),A=(0,e.useCallback)((t=>{if(!f.current)return;y(!0);const{x:e,y:i}=C(t),r={points:[{x:e,y:i,time:Date.now()}],color:n,width:s,stylus:l};T.current=r;const o=m.current;o&&(o.beginPath(),o.strokeStyle=n,o.lineWidth=s,o.moveTo(e,i))}),[n,s,l,C]),O=(0,e.useCallback)((t=>{if(!v||!T.current)return;const e=f.current,i=m.current;if(!e||!i)return;const{x:r,y:o}=C(t),a=T.current,u=a.points[a.points.length-1],c={x:r,y:o,time:Date.now()};switch(a.points.length>0&&(c.speed=function(t,e){const n=e.x-t.x,s=e.y-t.y,i=e.time-t.time;return 0===i?0:Math.sqrt(n*n+s*s)/i}(u,c)),l){case"brush":i.lineWidth=s*(.8+.4*Math.random()),i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(r,o),i.stroke();break;case"pencil":for(let t=0;t<3;t++)i.beginPath(),i.moveTo(u.x+1.5*(Math.random()-.5),u.y+1.5*(Math.random()-.5)),i.lineTo(r+1.5*(Math.random()-.5),o+1.5*(Math.random()-.5)),i.stroke();break;case"watercolor":const t=i.createLinearGradient(u.x,u.y,r,o);t.addColorStop(0,n),t.addColorStop(1,n+"99"),i.strokeStyle=t,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(r,o),i.stroke(),i.strokeStyle=n;break;default:i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(r,o),i.stroke()}a.points.push(c)}),[v,C,n,s,l]),M=(0,e.useCallback)((()=>{if(!v||!T.current)return;y(!1);const t=T.current;b((e=>[...e,t])),g.current&&g.current.addStroke(t),T.current=null;const e=m.current;e&&(e.shadowBlur=0,e.globalAlpha=1)}),[v]),D=(0,e.useCallback)((()=>{const t=f.current,e=m.current;t&&e&&(e.clearRect(0,0,t.width/(window.devicePixelRatio||1),t.height/(window.devicePixelRatio||1)),b([]),g.current&&g.current.clearStrokes())}),[]);return{canvasRef:f,isDrawing:v,startDrawing:A,draw:O,stopDrawing:M,clearCanvas:D,progress:w,currentTimePosition:k,setTimelinePosition:t=>{g.current&&(g.current.setPlaybackPosition(t),S(t))}}}({instrument:n,strokeColor:s,strokeWidth:i,isPlaying:r,volume:u,onProgressChange:p,stylus:f,onPlaybackEnd:m,playbackSpeed:g,loopPlayback:v,timelinePosition:y,onTimelinePositionChange:_});(0,e.useEffect)((()=>{p(T)}),[T,p]),(0,e.useEffect)((()=>{l.current=S}),[S,l]);const C=t=>{t.preventDefault(),k()};return(0,t.jsx)("div",{className:"relative w-full h-full flex flex-col",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-lg overflow-hidden flex-1 border border-gray-700 shadow-xl relative",children:[(0,t.jsx)("canvas",{ref:b,className:"w-full h-full cursor-crosshair touch-none",onMouseDown:t=>{t.preventDefault(),"function"==typeof h&&c&&h(!1),w(t)},onMouseMove:t=>{t.preventDefault(),x(t)},onMouseUp:t=>{t.preventDefault(),k()},onMouseLeave:t=>{t.preventDefault(),k()},onTouchStart:t=>{t.preventDefault(),"function"==typeof h&&c&&h(!1),w(t)},onTouchMove:t=>{t.preventDefault(),x(t)},onTouchEnd:C,onTouchCancel:C}),(0,t.jsx)("div",{className:"absolute top-2 right-2 px-2 py-1 bg-gray-800 bg-opacity-70 rounded text-xs text-gray-300",children:"default"===f?"Default Pen":"brush"===f?"Brush":"pencil"===f?"Pencil":"marker"===f?"Marker":"watercolor"===f?"Watercolor":"Drawing Tool"}),c&&(0,t.jsx)("div",{className:"absolute inset-0 bg-gray-900 bg-opacity-80 flex items-center justify-center",style:{opacity:.9,transition:"opacity 0.5s ease-in-out"},children:(0,t.jsxs)("div",{className:"text-center p-6 max-w-xl mx-auto",children:[(0,t.jsx)("svg",{className:"w-16 h-16 text-primary-400 mx-auto mb-4 animate-pulse-slow",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M18 3a1 1 0 00-1.196-.98l-10 2A1 1 0 006 5v9.114A4.369 4.369 0 005 14c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V7.82l8-1.6v5.894A4.37 4.37 0 0015 12c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V3z"})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Welcome to HarMonize!"}),(0,t.jsx)("p",{className:"text-gray-300 mb-4",children:"Create music by drawing on the canvas. Here's how to use it:"}),(0,t.jsxs)("ul",{className:"text-gray-300 text-left space-y-2 mb-6",children:[(0,t.jsx)("li",{children:"• Just draw on the canvas to start creating music"}),(0,t.jsx)("li",{children:"• Draw horizontally to create melody (left = low notes, right = high notes)"}),(0,t.jsx)("li",{children:"• Draw vertically to change dynamics (top = louder, bottom = softer)"}),(0,t.jsx)("li",{children:"• Drawing speed affects note duration (faster = shorter notes)"}),(0,t.jsx)("li",{children:"• Try different stylus types for varied sound textures"}),(0,t.jsx)("li",{children:"• Adjust volume using the volume slider in the toolbar"}),(0,t.jsx)("li",{children:"• Use the volume fluctuation button for interesting effects"})]}),(0,t.jsx)("button",{className:"btn btn-primary",onClick:()=>{"function"==typeof h&&h(!1)},children:"Got it!"})]})})]})})},Co=({instrument:n,setInstrument:s,isPlaying:i,onPlayToggle:r,strokeColor:o,setStrokeColor:a,strokeWidth:l,setStrokeWidth:u,onClear:c,volume:h,setVolume:d,showInstructions:p,setShowInstructions:f,fluctuateVolume:m,setFluctuateVolume:g,selectedStylus:v,setSelectedStylus:y,playbackSpeed:_,setPlaybackSpeed:b,loopPlayback:w,setLoopPlayback:x})=>{const[k,S]=(0,e.useState)(!1),T=[{value:"#38bdf8",label:"Blue"},{value:"#fb7185",label:"Red"},{value:"#34d399",label:"Green"},{value:"#a78bfa",label:"Purple"},{value:"#fbbf24",label:"Yellow"},{value:"#f97316",label:"Orange"},{value:"#0ea5e9",label:"Sky Blue"},{value:"#ec4899",label:"Pink"},{value:"#14b8a6",label:"Teal"},{value:"#f43f5e",label:"Rose"},{value:"#8b5cf6",label:"Violet"},{value:"#10b981",label:"Emerald"}],C=[{id:"default",name:"Default",description:"Clean, consistent sound"},{id:"brush",name:"Brush",description:"Softer attack, textured sound"},{id:"pencil",name:"Pencil",description:"Sharp, detailed notes"},{id:"marker",name:"Marker",description:"Bold, sustained notes"},{id:"watercolor",name:"Watercolor",description:"Flowing, blended tones"}];return(0,t.jsxs)("aside",{className:"bg-gray-800 p-4 w-full md:w-64 border-r border-gray-700 flex flex-col gap-6 overflow-y-auto",children:[(0,t.jsxs)("section",{children:[(0,t.jsx)("h3",{className:"text-gray-300 font-semibold mb-2",children:"Controls"}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("button",{className:"btn "+(i?"btn-secondary":"btn-primary"),onClick:r,children:i?"Pause":"Play"}),(0,t.jsx)("button",{className:"btn btn-outline",onClick:c,children:"Clear Canvas"})]})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h3",{className:"text-gray-300 font-semibold mb-2",children:"Instrument"}),(0,t.jsx)("select",{value:n,onChange:t=>s(t.target.value),className:"input-control w-full",children:[{id:"synth",name:"Synth"},{id:"am-synth",name:"AM Synth"},{id:"fm-synth",name:"FM Synth"},{id:"membrane",name:"Membrane"},{id:"metal",name:"Metal"}].map((e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id)))})]}),(0,t.jsxs)("section",{children:[(0,t.jsxs)("h3",{className:"text-gray-300 font-semibold mb-2",children:["Volume: ",h,"%"]}),(0,t.jsx)("input",{type:"range",min:"0",max:"100",step:"1",value:h,onChange:t=>d(parseInt(t.target.value)),className:"w-full"}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[(0,t.jsx)("span",{children:"0%"}),(0,t.jsx)("span",{children:"100%"})]}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("button",{className:"w-full btn "+(m?"btn-secondary":"btn-outline"),onClick:()=>g(!m),children:m?"Stop Volume Fluctuation":"Fluctuate Volume"})})]}),(0,t.jsxs)("section",{children:[(0,t.jsxs)("h3",{className:"text-gray-300 font-semibold mb-2",children:["Playback Speed: ",_.toFixed(1),"x"]}),(0,t.jsx)("input",{type:"range",min:"0.1",max:"2.0",step:"0.1",value:_,onChange:t=>b(parseFloat(t.target.value)),className:"w-full"}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[(0,t.jsx)("span",{children:"0.1x"}),(0,t.jsx)("span",{children:"1.0x"}),(0,t.jsx)("span",{children:"2.0x"})]})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h3",{className:"text-gray-300 font-semibold mb-2",children:"Stylus"}),(0,t.jsx)("select",{value:v,onChange:t=>y(t.target.value),className:"input-control w-full mb-2",children:C.map((e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id)))}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:C.find((t=>t.id===v))?.description})]}),(0,t.jsxs)("section",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("h3",{className:"text-gray-300 font-semibold",children:"Stroke Color"}),(0,t.jsx)("button",{className:"text-gray-400 hover:text-white text-sm",onClick:()=>S(!k),children:k?"Simple View":"More Colors"})]}),k?(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[T.map((e=>(0,t.jsx)("button",{className:`h-8 w-8 rounded-full ${o===e.value?"ring-2 ring-white scale-110":""} transition-all hover:scale-110`,style:{backgroundColor:e.value},onClick:()=>a(e.value),title:e.label},e.value))),(0,t.jsxs)("div",{className:"col-span-4 mt-2",children:[(0,t.jsx)("label",{className:"block text-gray-400 text-xs mb-1",children:"Custom Color:"}),(0,t.jsx)("input",{type:"color",value:o,onChange:t=>a(t.target.value),className:"w-full h-8 cursor-pointer rounded bg-gray-700"})]})]}):(0,t.jsx)("div",{className:"grid grid-cols-5 gap-2",children:T.slice(0,5).map((e=>(0,t.jsx)("button",{className:"h-8 w-8 rounded-full "+(o===e.value?"ring-2 ring-white":""),style:{backgroundColor:e.value},onClick:()=>a(e.value),title:e.label},e.value)))})]}),(0,t.jsxs)("section",{children:[(0,t.jsxs)("h3",{className:"text-gray-300 font-semibold mb-2",children:["Stroke Width: ",l,"px"]}),(0,t.jsx)("input",{type:"range",min:"1",max:"20",value:l,onChange:t=>u(parseInt(t.target.value)),className:"w-full"})]}),(0,t.jsx)("section",{className:"mt-auto",children:(0,t.jsxs)("div",{className:"text-gray-400 text-sm",children:[(0,t.jsx)("p",{className:"mb-2",children:"Tips:"}),(0,t.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,t.jsx)("li",{children:"Draw horizontally for melody"}),(0,t.jsx)("li",{children:"Draw vertically for dynamics"}),(0,t.jsx)("li",{children:"Speed affects note duration"}),(0,t.jsx)("li",{children:"Try different stylus types"})]}),(0,t.jsx)("button",{className:"mt-4 w-full text-primary-400 hover:text-primary-300 border border-gray-700 rounded py-1 px-2 text-center",onClick:()=>f(!0),children:"Show Instructions"})]})})]})};var Eo=n(72),Ao=n.n(Eo),Oo=n(825),Mo=n.n(Oo),Do=n(659),Po=n.n(Do),No=n(56),Ro=n.n(No),Io=n(159),Vo=n.n(Io),zo=n(113),Fo=n.n(zo),jo=n(972),Lo={};Lo.styleTagTransform=Fo(),Lo.setAttributes=Ro(),Lo.insert=Po().bind(null,"head"),Lo.domAPI=Mo(),Lo.insertStyleElement=Vo(),Ao()(jo.A,Lo),jo.A&&jo.A.locals&&jo.A.locals,s.createRoot(document.getElementById("root")).render((0,t.jsx)(e.StrictMode,{children:(0,t.jsx)((()=>{const[n,s]=(0,e.useState)("synth"),[i,r]=(0,e.useState)(!1),[o,a]=(0,e.useState)("#38bdf8"),[l,u]=(0,e.useState)(5),[c,h]=(0,e.useState)(!0),[d,p]=(0,e.useState)(50),[f,m]=(0,e.useState)(!1),[g,v]=(0,e.useState)(0),[y,_]=(0,e.useState)("default"),[b,w]=(0,e.useState)(1),[x,k]=(0,e.useState)(!1),[S,T]=(0,e.useState)(0),C=(0,e.useRef)((()=>{}));(0,e.useEffect)((()=>{let t=null,e=null;if(f&&i){let n=1;t=setInterval((()=>{p((t=>{let e=t+n;return e>=100?(n=-1,100):e<=0?(n=1,0):e}))}),100),e=setTimeout((()=>{t&&(clearInterval(t),t=null),m(!1)}),12e4)}return()=>{t&&clearInterval(t),e&&clearTimeout(e)}}),[f,i]);const E=()=>{C.current()};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-900 flex flex-col",children:[(0,t.jsxs)("header",{className:"bg-gray-800 py-4 px-6 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("svg",{className:"w-8 h-8 text-primary-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M18 3a1 1 0 00-1.196-.98l-10 2A1 1 0 006 5v9.114A4.369 4.369 0 005 14c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V7.82l8-1.6v5.894A4.37 4.37 0 0015 12c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V3z"})}),(0,t.jsx)("h1",{className:"text-xl font-bold text-white",children:"HarMonize"})]}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"Draw to create music"})]}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row flex-1",children:[(0,t.jsx)(Co,{instrument:n,setInstrument:s,isPlaying:i,onPlayToggle:()=>{r(!i)},strokeColor:o,setStrokeColor:a,strokeWidth:l,setStrokeWidth:u,onClear:E,volume:d,setVolume:p,showInstructions:c,setShowInstructions:h,fluctuateVolume:f,setFluctuateVolume:m,selectedStylus:y,setSelectedStylus:_,playbackSpeed:b,setPlaybackSpeed:w,loopPlayback:x,setLoopPlayback:k}),(0,t.jsx)("main",{className:"flex-1 p-4",children:(0,t.jsx)(To,{instrument:n,strokeColor:o,strokeWidth:l,isPlaying:i,setIsPlaying:r,onClearRequest:E,setClearCanvasRef:C,volume:d,showInstructions:c,setShowInstructions:h,playbackProgress:g,setPlaybackProgress:v,selectedStylus:y,onPlaybackEnd:()=>{r(!1)},playbackSpeed:b,loopPlayback:x,timelinePosition:S,setTimelinePosition:T})})]})]})}),{})}))})()})();